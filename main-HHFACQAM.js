var b3=Object.create;var t_=Object.defineProperty,y3=Object.defineProperties,_3=Object.getOwnPropertyDescriptor,C3=Object.getOwnPropertyDescriptors,w3=Object.getOwnPropertyNames,yk=Object.getOwnPropertySymbols,x3=Object.getPrototypeOf,_k=Object.prototype.hasOwnProperty,I3=Object.prototype.propertyIsEnumerable;var e_=(i,e,t)=>e in i?t_(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,X=(i,e)=>{for(var t in e||={})_k.call(e,t)&&e_(i,t,e[t]);if(yk)for(var t of yk(e))I3.call(e,t)&&e_(i,t,e[t]);return i},xt=(i,e)=>y3(i,C3(e));var E3=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var D3=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of w3(e))!_k.call(i,r)&&r!==t&&t_(i,r,{get:()=>e[r],enumerable:!(n=_3(e,r))||n.enumerable});return i};var Ck=(i,e,t)=>(t=i!=null?b3(x3(i)):{},D3(e||!i||!i.__esModule?t_(t,"default",{value:i,enumerable:!0}):t,i));var Kp=(i,e,t)=>(e_(i,typeof e!="symbol"?e+"":e,t),t);var lM=E3((Cy,Nj)=>{"use strict";(function(i,e){typeof Cy=="object"&&typeof Nj<"u"?e(Cy):typeof define=="function"&&define.amd?define(["exports"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.leaflet={}))})(Cy,function(i){"use strict";var e="1.9.4";function t(s){var c,u,h,g;for(u=1,h=arguments.length;u<h;u++){g=arguments[u];for(c in g)s[c]=g[c]}return s}var n=Object.create||function(){function s(){}return function(c){return s.prototype=c,new s}}();function r(s,c){var u=Array.prototype.slice;if(s.bind)return s.bind.apply(s,u.call(arguments,1));var h=u.call(arguments,2);return function(){return s.apply(c,h.length?h.concat(u.call(arguments)):arguments)}}var o=0;function a(s){return"_leaflet_id"in s||(s._leaflet_id=++o),s._leaflet_id}function l(s,c,u){var h,g,v,I;return I=function(){h=!1,g&&(v.apply(u,g),g=!1)},v=function(){h?g=arguments:(s.apply(u,arguments),setTimeout(I,c),h=!0)},v}function d(s,c,u){var h=c[1],g=c[0],v=h-g;return s===h&&u?s:((s-g)%v+v)%v+g}function p(){return!1}function m(s,c){if(c===!1)return s;var u=Math.pow(10,c===void 0?6:c);return Math.round(s*u)/u}function b(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function w(s){return b(s).split(/\s+/)}function E(s,c){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?n(s.options):{});for(var u in c)s.options[u]=c[u];return s.options}function T(s,c,u){var h=[];for(var g in s)h.push(encodeURIComponent(u?g.toUpperCase():g)+"="+encodeURIComponent(s[g]));return(!c||c.indexOf("?")===-1?"?":"&")+h.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function A(s,c){return s.replace(V,function(u,h){var g=c[h];if(g===void 0)throw new Error("No value provided for variable "+u);return typeof g=="function"&&(g=g(c)),g})}var $=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function ce(s,c){for(var u=0;u<s.length;u++)if(s[u]===c)return u;return-1}var Te="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function we(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Ot=0;function mt(s){var c=+new Date,u=Math.max(0,16-(c-Ot));return Ot=c+u,window.setTimeout(s,u)}var ct=window.requestAnimationFrame||we("RequestAnimationFrame")||mt,Xt=window.cancelAnimationFrame||we("CancelAnimationFrame")||we("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function vt(s,c,u){if(u&&ct===mt)s.call(c);else return ct.call(window,r(s,c))}function wt(s){s&&Xt.call(window,s)}var ks={__proto__:null,extend:t,create:n,bind:r,get lastId(){return o},stamp:a,throttle:l,wrapNum:d,falseFn:p,formatNum:m,trim:b,splitWords:w,setOptions:E,getParamString:T,template:A,isArray:$,indexOf:ce,emptyImageUrl:Te,requestFn:ct,cancelFn:Xt,requestAnimFrame:vt,cancelAnimFrame:wt};function bi(){}bi.extend=function(s){var c=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=c.__super__=this.prototype,h=n(u);h.constructor=c,c.prototype=h;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(c[g]=this[g]);return s.statics&&t(c,s.statics),s.includes&&(An(s.includes),t.apply(null,[h].concat(s.includes))),t(h,s),delete h.statics,delete h.includes,h.options&&(h.options=u.options?n(u.options):{},t(h.options,s.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,I=h._initHooks.length;v<I;v++)h._initHooks[v].call(this)}},c},bi.include=function(s){var c=this.prototype.options;return t(this.prototype,s),s.options&&(this.prototype.options=c,this.mergeOptions(s.options)),this},bi.mergeOptions=function(s){return t(this.prototype.options,s),this},bi.addInitHook=function(s){var c=Array.prototype.slice.call(arguments,1),u=typeof s=="function"?s:function(){this[s].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function An(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=$(s)?s:[s];for(var c=0;c<s.length;c++)s[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var yi={on:function(s,c,u){if(typeof s=="object")for(var h in s)this._on(h,s[h],c);else{s=w(s);for(var g=0,v=s.length;g<v;g++)this._on(s[g],c,u)}return this},off:function(s,c,u){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var h in s)this._off(h,s[h],c);else{s=w(s);for(var g=arguments.length===1,v=0,I=s.length;v<I;v++)g?this._off(s[v]):this._off(s[v],c,u)}return this},_on:function(s,c,u,h){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(s,c,u)===!1){u===this&&(u=void 0);var g={fn:c,ctx:u};h&&(g.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(g)}},_off:function(s,c,u){var h,g,v;if(this._events&&(h=this._events[s],!!h)){if(arguments.length===1){if(this._firingCount)for(g=0,v=h.length;g<v;g++)h[g].fn=p;delete this._events[s];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var I=this._listens(s,c,u);if(I!==!1){var S=h[I];this._firingCount&&(S.fn=p,this._events[s]=h=h.slice()),h.splice(I,1)}}},fire:function(s,c,u){if(!this.listens(s,u))return this;var h=t({},c,{type:s,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var g=this._events[s];if(g){this._firingCount=this._firingCount+1||1;for(var v=0,I=g.length;v<I;v++){var S=g[v],k=S.fn;S.once&&this.off(s,k,S.ctx),k.call(S.ctx||this,h)}this._firingCount--}}return u&&this._propagateEvent(h),this},listens:function(s,c,u,h){typeof s!="string"&&console.warn('"string" type argument expected');var g=c;typeof c!="function"&&(h=!!c,g=void 0,u=void 0);var v=this._events&&this._events[s];if(v&&v.length&&this._listens(s,g,u)!==!1)return!0;if(h){for(var I in this._eventParents)if(this._eventParents[I].listens(s,c,u,h))return!0}return!1},_listens:function(s,c,u){if(!this._events)return!1;var h=this._events[s]||[];if(!c)return!!h.length;u===this&&(u=void 0);for(var g=0,v=h.length;g<v;g++)if(h[g].fn===c&&h[g].ctx===u)return g;return!1},once:function(s,c,u){if(typeof s=="object")for(var h in s)this._on(h,s[h],c,!0);else{s=w(s);for(var g=0,v=s.length;g<v;g++)this._on(s[g],c,u,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[a(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[a(s)],this},_propagateEvent:function(s){for(var c in this._eventParents)this._eventParents[c].fire(s.type,t({layer:s.target,propagatedFrom:s.target},s),!0)}};yi.addEventListener=yi.on,yi.removeEventListener=yi.clearAllEventListeners=yi.off,yi.addOneTimeEventListener=yi.once,yi.fireEvent=yi.fire,yi.hasEventListeners=yi.listens;var wr=bi.extend(yi);function U(s,c,u){this.x=u?Math.round(s):s,this.y=u?Math.round(c):c}var me=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(s){return this.clone()._add(K(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(K(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new U(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new U(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=me(this.x),this.y=me(this.y),this},distanceTo:function(s){s=K(s);var c=s.x-this.x,u=s.y-this.y;return Math.sqrt(c*c+u*u)},equals:function(s){return s=K(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=K(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function K(s,c,u){return s instanceof U?s:$(s)?new U(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new U(s.x,s.y):new U(s,c,u)}function de(s,c){if(s)for(var u=c?[s,c]:s,h=0,g=u.length;h<g;h++)this.extend(u[h])}de.prototype={extend:function(s){var c,u;if(!s)return this;if(s instanceof U||typeof s[0]=="number"||"x"in s)c=u=K(s);else if(s=tt(s),c=s.min,u=s.max,!c||!u)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=u.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(s){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var c,u;return typeof s[0]=="number"||s instanceof U?s=K(s):s=tt(s),s instanceof de?(c=s.min,u=s.max):c=u=s,c.x>=this.min.x&&u.x<=this.max.x&&c.y>=this.min.y&&u.y<=this.max.y},intersects:function(s){s=tt(s);var c=this.min,u=this.max,h=s.min,g=s.max,v=g.x>=c.x&&h.x<=u.x,I=g.y>=c.y&&h.y<=u.y;return v&&I},overlaps:function(s){s=tt(s);var c=this.min,u=this.max,h=s.min,g=s.max,v=g.x>c.x&&h.x<u.x,I=g.y>c.y&&h.y<u.y;return v&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var c=this.min,u=this.max,h=Math.abs(c.x-u.x)*s,g=Math.abs(c.y-u.y)*s;return tt(K(c.x-h,c.y-g),K(u.x+h,u.y+g))},equals:function(s){return s?(s=tt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function tt(s,c){return!s||s instanceof de?s:new de(s,c)}function Dt(s,c){if(s)for(var u=c?[s,c]:s,h=0,g=u.length;h<g;h++)this.extend(u[h])}Dt.prototype={extend:function(s){var c=this._southWest,u=this._northEast,h,g;if(s instanceof Ke)h=s,g=s;else if(s instanceof Dt){if(h=s._southWest,g=s._northEast,!h||!g)return this}else return s?this.extend(he(s)||Je(s)):this;return!c&&!u?(this._southWest=new Ke(h.lat,h.lng),this._northEast=new Ke(g.lat,g.lng)):(c.lat=Math.min(h.lat,c.lat),c.lng=Math.min(h.lng,c.lng),u.lat=Math.max(g.lat,u.lat),u.lng=Math.max(g.lng,u.lng)),this},pad:function(s){var c=this._southWest,u=this._northEast,h=Math.abs(c.lat-u.lat)*s,g=Math.abs(c.lng-u.lng)*s;return new Dt(new Ke(c.lat-h,c.lng-g),new Ke(u.lat+h,u.lng+g))},getCenter:function(){return new Ke((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ke(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ke(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Ke||"lat"in s?s=he(s):s=Je(s);var c=this._southWest,u=this._northEast,h,g;return s instanceof Dt?(h=s.getSouthWest(),g=s.getNorthEast()):h=g=s,h.lat>=c.lat&&g.lat<=u.lat&&h.lng>=c.lng&&g.lng<=u.lng},intersects:function(s){s=Je(s);var c=this._southWest,u=this._northEast,h=s.getSouthWest(),g=s.getNorthEast(),v=g.lat>=c.lat&&h.lat<=u.lat,I=g.lng>=c.lng&&h.lng<=u.lng;return v&&I},overlaps:function(s){s=Je(s);var c=this._southWest,u=this._northEast,h=s.getSouthWest(),g=s.getNorthEast(),v=g.lat>c.lat&&h.lat<u.lat,I=g.lng>c.lng&&h.lng<u.lng;return v&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,c){return s?(s=Je(s),this._southWest.equals(s.getSouthWest(),c)&&this._northEast.equals(s.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Je(s,c){return s instanceof Dt?s:new Dt(s,c)}function Ke(s,c,u){if(isNaN(s)||isNaN(c))throw new Error("Invalid LatLng object: ("+s+", "+c+")");this.lat=+s,this.lng=+c,u!==void 0&&(this.alt=+u)}Ke.prototype={equals:function(s,c){if(!s)return!1;s=he(s);var u=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return u<=(c===void 0?1e-9:c)},toString:function(s){return"LatLng("+m(this.lat,s)+", "+m(this.lng,s)+")"},distanceTo:function(s){return Rn.distance(this,he(s))},wrap:function(){return Rn.wrapLatLng(this)},toBounds:function(s){var c=180*s/40075017,u=c/Math.cos(Math.PI/180*this.lat);return Je([this.lat-c,this.lng-u],[this.lat+c,this.lng+u])},clone:function(){return new Ke(this.lat,this.lng,this.alt)}};function he(s,c,u){return s instanceof Ke?s:$(s)&&typeof s[0]!="object"?s.length===3?new Ke(s[0],s[1],s[2]):s.length===2?new Ke(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Ke(s.lat,"lng"in s?s.lng:s.lon,s.alt):c===void 0?null:new Ke(s,c,u)}var ji={latLngToPoint:function(s,c){var u=this.projection.project(s),h=this.scale(c);return this.transformation._transform(u,h)},pointToLatLng:function(s,c){var u=this.scale(c),h=this.transformation.untransform(s,u);return this.projection.unproject(h)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var c=this.projection.bounds,u=this.scale(s),h=this.transformation.transform(c.min,u),g=this.transformation.transform(c.max,u);return new de(h,g)},infinite:!1,wrapLatLng:function(s){var c=this.wrapLng?d(s.lng,this.wrapLng,!0):s.lng,u=this.wrapLat?d(s.lat,this.wrapLat,!0):s.lat,h=s.alt;return new Ke(u,c,h)},wrapLatLngBounds:function(s){var c=s.getCenter(),u=this.wrapLatLng(c),h=c.lat-u.lat,g=c.lng-u.lng;if(h===0&&g===0)return s;var v=s.getSouthWest(),I=s.getNorthEast(),S=new Ke(v.lat-h,v.lng-g),k=new Ke(I.lat-h,I.lng-g);return new Dt(S,k)}},Rn=t({},ji,{wrapLng:[-180,180],R:6371e3,distance:function(s,c){var u=Math.PI/180,h=s.lat*u,g=c.lat*u,v=Math.sin((c.lat-s.lat)*u/2),I=Math.sin((c.lng-s.lng)*u/2),S=v*v+Math.cos(h)*Math.cos(g)*I*I,k=2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S));return this.R*k}}),ai=6378137,nr={R:ai,MAX_LATITUDE:85.0511287798,project:function(s){var c=Math.PI/180,u=this.MAX_LATITUDE,h=Math.max(Math.min(u,s.lat),-u),g=Math.sin(h*c);return new U(this.R*s.lng*c,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(s){var c=180/Math.PI;return new Ke((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*c,s.x*c/this.R)},bounds:function(){var s=ai*Math.PI;return new de([-s,-s],[s,s])}()};function Fi(s,c,u,h){if($(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=c,this._c=u,this._d=h}Fi.prototype={transform:function(s,c){return this._transform(s.clone(),c)},_transform:function(s,c){return c=c||1,s.x=c*(this._a*s.x+this._b),s.y=c*(this._c*s.y+this._d),s},untransform:function(s,c){return c=c||1,new U((s.x/c-this._b)/this._a,(s.y/c-this._d)/this._c)}};function xr(s,c,u,h){return new Fi(s,c,u,h)}var As=t({},Rn,{code:"EPSG:3857",projection:nr,transformation:function(){var s=.5/(Math.PI*nr.R);return xr(s,.5,-s,.5)}()}),Zj=t({},As,{code:"EPSG:900913"});function uM(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function dM(s,c){var u="",h,g,v,I,S,k;for(h=0,v=s.length;h<v;h++){for(S=s[h],g=0,I=S.length;g<I;g++)k=S[g],u+=(g?"L":"M")+k.x+" "+k.y;u+=c?ve.svg?"z":"x":""}return u||"M0 0"}var xy=document.documentElement.style,kp="ActiveXObject"in window,Kj=kp&&!document.addEventListener,hM="msLaunchUri"in navigator&&!("documentMode"in document),Iy=Ir("webkit"),pM=Ir("android"),fM=Ir("android 2")||Ir("android 3"),Yj=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Qj=pM&&Ir("Google")&&Yj<537&&!("AudioNode"in window),Ey=!!window.opera,gM=!hM&&Ir("chrome"),mM=Ir("gecko")&&!Iy&&!Ey&&!kp,Xj=!gM&&Ir("safari"),vM=Ir("phantom"),bM="OTransition"in xy,Jj=navigator.platform.indexOf("Win")===0,yM=kp&&"transition"in xy,Dy="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!fM,_M="MozPerspective"in xy,eV=!window.L_DISABLE_3D&&(yM||Dy||_M)&&!bM&&!vM,fu=typeof orientation<"u"||Ir("mobile"),tV=fu&&Iy,iV=fu&&Dy,CM=!window.PointerEvent&&window.MSPointerEvent,wM=!!(window.PointerEvent||CM),xM="ontouchstart"in window||!!window.TouchEvent,nV=!window.L_NO_TOUCH&&(xM||wM),rV=fu&&Ey,oV=fu&&mM,sV=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,aV=function(){var s=!1;try{var c=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",p,c),window.removeEventListener("testPassiveEventSupport",p,c)}catch{}return s}(),cV=function(){return!!document.createElement("canvas").getContext}(),Sy=!!(document.createElementNS&&uM("svg").createSVGRect),lV=!!Sy&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),uV=!Sy&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var c=s.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),dV=navigator.platform.indexOf("Mac")===0,hV=navigator.platform.indexOf("Linux")===0;function Ir(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var ve={ie:kp,ielt9:Kj,edge:hM,webkit:Iy,android:pM,android23:fM,androidStock:Qj,opera:Ey,chrome:gM,gecko:mM,safari:Xj,phantom:vM,opera12:bM,win:Jj,ie3d:yM,webkit3d:Dy,gecko3d:_M,any3d:eV,mobile:fu,mobileWebkit:tV,mobileWebkit3d:iV,msPointer:CM,pointer:wM,touch:nV,touchNative:xM,mobileOpera:rV,mobileGecko:oV,retina:sV,passiveEvents:aV,canvas:cV,svg:Sy,vml:uV,inlineSvg:lV,mac:dV,linux:hV},IM=ve.msPointer?"MSPointerDown":"pointerdown",EM=ve.msPointer?"MSPointerMove":"pointermove",DM=ve.msPointer?"MSPointerUp":"pointerup",SM=ve.msPointer?"MSPointerCancel":"pointercancel",Ty={touchstart:IM,touchmove:EM,touchend:DM,touchcancel:SM},TM={touchstart:bV,touchmove:Ap,touchend:Ap,touchcancel:Ap},lc={},MM=!1;function pV(s,c,u){return c==="touchstart"&&vV(),TM[c]?(u=TM[c].bind(this,u),s.addEventListener(Ty[c],u,!1),u):(console.warn("wrong event specified:",c),p)}function fV(s,c,u){if(!Ty[c]){console.warn("wrong event specified:",c);return}s.removeEventListener(Ty[c],u,!1)}function gV(s){lc[s.pointerId]=s}function mV(s){lc[s.pointerId]&&(lc[s.pointerId]=s)}function kM(s){delete lc[s.pointerId]}function vV(){MM||(document.addEventListener(IM,gV,!0),document.addEventListener(EM,mV,!0),document.addEventListener(DM,kM,!0),document.addEventListener(SM,kM,!0),MM=!0)}function Ap(s,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var u in lc)c.touches.push(lc[u]);c.changedTouches=[c],s(c)}}function bV(s,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Di(c),Ap(s,c)}function yV(s){var c={},u,h;for(h in s)u=s[h],c[h]=u&&u.bind?u.bind(s):u;return s=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var _V=200;function CV(s,c){s.addEventListener("dblclick",c);var u=0,h;function g(v){if(v.detail!==1){h=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var I=OM(v);if(!(I.some(function(k){return k instanceof HTMLLabelElement&&k.attributes.for})&&!I.some(function(k){return k instanceof HTMLInputElement||k instanceof HTMLSelectElement}))){var S=Date.now();S-u<=_V?(h++,h===2&&c(yV(v))):h=1,u=S}}}return s.addEventListener("click",g),{dblclick:c,simDblclick:g}}function wV(s,c){s.removeEventListener("dblclick",c.dblclick),s.removeEventListener("click",c.simDblclick)}var My=Pp(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gu=Pp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),AM=gu==="webkitTransition"||gu==="OTransition"?gu+"End":"transitionend";function RM(s){return typeof s=="string"?document.getElementById(s):s}function mu(s,c){var u=s.style[c]||s.currentStyle&&s.currentStyle[c];if((!u||u==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(s,null);u=h?h[c]:null}return u==="auto"?null:u}function lt(s,c,u){var h=document.createElement(s);return h.className=c||"",u&&u.appendChild(h),h}function jt(s){var c=s.parentNode;c&&c.removeChild(s)}function Rp(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function uc(s){var c=s.parentNode;c&&c.lastChild!==s&&c.appendChild(s)}function dc(s){var c=s.parentNode;c&&c.firstChild!==s&&c.insertBefore(s,c.firstChild)}function ky(s,c){if(s.classList!==void 0)return s.classList.contains(c);var u=Fp(s);return u.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(u)}function Ue(s,c){if(s.classList!==void 0)for(var u=w(c),h=0,g=u.length;h<g;h++)s.classList.add(u[h]);else if(!ky(s,c)){var v=Fp(s);Ay(s,(v?v+" ":"")+c)}}function Gt(s,c){s.classList!==void 0?s.classList.remove(c):Ay(s,b((" "+Fp(s)+" ").replace(" "+c+" "," ")))}function Ay(s,c){s.className.baseVal===void 0?s.className=c:s.className.baseVal=c}function Fp(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Fn(s,c){"opacity"in s.style?s.style.opacity=c:"filter"in s.style&&xV(s,c)}function xV(s,c){var u=!1,h="DXImageTransform.Microsoft.Alpha";try{u=s.filters.item(h)}catch{if(c===1)return}c=Math.round(c*100),u?(u.Enabled=c!==100,u.Opacity=c):s.style.filter+=" progid:"+h+"(opacity="+c+")"}function Pp(s){for(var c=document.documentElement.style,u=0;u<s.length;u++)if(s[u]in c)return s[u];return!1}function Rs(s,c,u){var h=c||new U(0,0);s.style[My]=(ve.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(u?" scale("+u+")":"")}function Jt(s,c){s._leaflet_pos=c,ve.any3d?Rs(s,c):(s.style.left=c.x+"px",s.style.top=c.y+"px")}function Fs(s){return s._leaflet_pos||new U(0,0)}var vu,bu,Ry;if("onselectstart"in document)vu=function(){Le(window,"selectstart",Di)},bu=function(){kt(window,"selectstart",Di)};else{var yu=Pp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vu=function(){if(yu){var s=document.documentElement.style;Ry=s[yu],s[yu]="none"}},bu=function(){yu&&(document.documentElement.style[yu]=Ry,Ry=void 0)}}function Fy(){Le(window,"dragstart",Di)}function Py(){kt(window,"dragstart",Di)}var Op,Oy;function Ny(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Np(),Op=s,Oy=s.style.outlineStyle,s.style.outlineStyle="none",Le(window,"keydown",Np))}function Np(){Op&&(Op.style.outlineStyle=Oy,Op=void 0,Oy=void 0,kt(window,"keydown",Np))}function FM(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ly(s){var c=s.getBoundingClientRect();return{x:c.width/s.offsetWidth||1,y:c.height/s.offsetHeight||1,boundingClientRect:c}}var IV={__proto__:null,TRANSFORM:My,TRANSITION:gu,TRANSITION_END:AM,get:RM,getStyle:mu,create:lt,remove:jt,empty:Rp,toFront:uc,toBack:dc,hasClass:ky,addClass:Ue,removeClass:Gt,setClass:Ay,getClass:Fp,setOpacity:Fn,testProp:Pp,setTransform:Rs,setPosition:Jt,getPosition:Fs,get disableTextSelection(){return vu},get enableTextSelection(){return bu},disableImageDrag:Fy,enableImageDrag:Py,preventOutline:Ny,restoreOutline:Np,getSizedParentNode:FM,getScale:Ly};function Le(s,c,u,h){if(c&&typeof c=="object")for(var g in c)Vy(s,g,c[g],u);else{c=w(c);for(var v=0,I=c.length;v<I;v++)Vy(s,c[v],u,h)}return this}var Er="_leaflet_events";function kt(s,c,u,h){if(arguments.length===1)PM(s),delete s[Er];else if(c&&typeof c=="object")for(var g in c)By(s,g,c[g],u);else if(c=w(c),arguments.length===2)PM(s,function(S){return ce(c,S)!==-1});else for(var v=0,I=c.length;v<I;v++)By(s,c[v],u,h);return this}function PM(s,c){for(var u in s[Er]){var h=u.split(/\d/)[0];(!c||c(h))&&By(s,h,null,null,u)}}var jy={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vy(s,c,u,h){var g=c+a(u)+(h?"_"+a(h):"");if(s[Er]&&s[Er][g])return this;var v=function(S){return u.call(h||s,S||window.event)},I=v;!ve.touchNative&&ve.pointer&&c.indexOf("touch")===0?v=pV(s,c,v):ve.touch&&c==="dblclick"?v=CV(s,v):"addEventListener"in s?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?s.addEventListener(jy[c]||c,v,ve.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(v=function(S){S=S||window.event,zy(s,S)&&I(S)},s.addEventListener(jy[c],v,!1)):s.addEventListener(c,I,!1):s.attachEvent("on"+c,v),s[Er]=s[Er]||{},s[Er][g]=v}function By(s,c,u,h,g){g=g||c+a(u)+(h?"_"+a(h):"");var v=s[Er]&&s[Er][g];if(!v)return this;!ve.touchNative&&ve.pointer&&c.indexOf("touch")===0?fV(s,c,v):ve.touch&&c==="dblclick"?wV(s,v):"removeEventListener"in s?s.removeEventListener(jy[c]||c,v,!1):s.detachEvent("on"+c,v),s[Er][g]=null}function Ps(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Hy(s){return Vy(s,"wheel",Ps),this}function _u(s){return Le(s,"mousedown touchstart dblclick contextmenu",Ps),s._leaflet_disable_click=!0,this}function Di(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Os(s){return Di(s),Ps(s),this}function OM(s){if(s.composedPath)return s.composedPath();for(var c=[],u=s.target;u;)c.push(u),u=u.parentNode;return c}function NM(s,c){if(!c)return new U(s.clientX,s.clientY);var u=Ly(c),h=u.boundingClientRect;return new U((s.clientX-h.left)/u.x-c.clientLeft,(s.clientY-h.top)/u.y-c.clientTop)}var EV=ve.linux&&ve.chrome?window.devicePixelRatio:ve.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function LM(s){return ve.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/EV:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function zy(s,c){var u=c.relatedTarget;if(!u)return!0;try{for(;u&&u!==s;)u=u.parentNode}catch{return!1}return u!==s}var DV={__proto__:null,on:Le,off:kt,stopPropagation:Ps,disableScrollPropagation:Hy,disableClickPropagation:_u,preventDefault:Di,stop:Os,getPropagationPath:OM,getMousePosition:NM,getWheelDelta:LM,isExternalTarget:zy,addListener:Le,removeListener:kt},jM=wr.extend({run:function(s,c,u,h){this.stop(),this._el=s,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Fs(s),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=vt(this._animate,this),this._step()},_step:function(s){var c=+new Date-this._startTime,u=this._duration*1e3;c<u?this._runFrame(this._easeOut(c/u),s):(this._runFrame(1),this._complete())},_runFrame:function(s,c){var u=this._startPos.add(this._offset.multiplyBy(s));c&&u._round(),Jt(this._el,u),this.fire("step")},_complete:function(){wt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),rt=wr.extend({options:{crs:As,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,c){c=E(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(he(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gu&&ve.any3d&&!ve.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Le(this._proxy,AM,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,c,u){if(c=c===void 0?this._zoom:this._limitZoom(c),s=this._limitCenter(he(s),c,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=t({animate:u.animate},u.zoom),u.pan=t({animate:u.animate,duration:u.duration},u.pan));var h=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,c,u.zoom):this._tryAnimatedPan(s,u.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(s,c,u.pan&&u.pan.noMoveStart),this},setZoom:function(s,c){return this._loaded?this.setView(this.getCenter(),s,{zoom:c}):(this._zoom=s,this)},zoomIn:function(s,c){return s=s||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,c)},zoomOut:function(s,c){return s=s||(ve.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,c)},setZoomAround:function(s,c,u){var h=this.getZoomScale(c),g=this.getSize().divideBy(2),v=s instanceof U?s:this.latLngToContainerPoint(s),I=v.subtract(g).multiplyBy(1-1/h),S=this.containerPointToLatLng(g.add(I));return this.setView(S,c,{zoom:u})},_getBoundsCenterZoom:function(s,c){c=c||{},s=s.getBounds?s.getBounds():Je(s);var u=K(c.paddingTopLeft||c.padding||[0,0]),h=K(c.paddingBottomRight||c.padding||[0,0]),g=this.getBoundsZoom(s,!1,u.add(h));if(g=typeof c.maxZoom=="number"?Math.min(c.maxZoom,g):g,g===1/0)return{center:s.getCenter(),zoom:g};var v=h.subtract(u).divideBy(2),I=this.project(s.getSouthWest(),g),S=this.project(s.getNorthEast(),g),k=this.unproject(I.add(S).divideBy(2).add(v),g);return{center:k,zoom:g}},fitBounds:function(s,c){if(s=Je(s),!s.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(s,c);return this.setView(u.center,u.zoom,c)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,c){return this.setView(s,this._zoom,{pan:c})},panBy:function(s,c){if(s=K(s).round(),c=c||{},!s.x&&!s.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jM,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ue(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,u,c.duration||.25,c.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,c,u){if(u=u||{},u.animate===!1||!ve.any3d)return this.setView(s,c,u);this._stop();var h=this.project(this.getCenter()),g=this.project(s),v=this.getSize(),I=this._zoom;s=he(s),c=c===void 0?I:c;var S=Math.max(v.x,v.y),k=S*this.getZoomScale(I,c),W=g.distanceTo(h)||1,re=1.42,Ee=re*re;function Qe(ei){var Zp=ei?-1:1,f3=ei?k:S,g3=k*k-S*S+Zp*Ee*Ee*W*W,m3=2*f3*Ee*W,Jy=g3/m3,bk=Math.sqrt(Jy*Jy+1)-Jy,v3=bk<1e-9?-18:Math.log(bk);return v3}function Vi(ei){return(Math.exp(ei)-Math.exp(-ei))/2}function _i(ei){return(Math.exp(ei)+Math.exp(-ei))/2}function On(ei){return Vi(ei)/_i(ei)}var Ki=Qe(0);function vc(ei){return S*(_i(Ki)/_i(Ki+re*ei))}function u3(ei){return S*(_i(Ki)*On(Ki+re*ei)-Vi(Ki))/Ee}function d3(ei){return 1-Math.pow(1-ei,1.5)}var h3=Date.now(),mk=(Qe(1)-Ki)/re,p3=u.duration?1e3*u.duration:1e3*mk*.8;function vk(){var ei=(Date.now()-h3)/p3,Zp=d3(ei)*mk;ei<=1?(this._flyToFrame=vt(vk,this),this._move(this.unproject(h.add(g.subtract(h).multiplyBy(u3(Zp)/W)),I),this.getScaleZoom(S/vc(Zp),I),{flyTo:!0})):this._move(s,c)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),vk.call(this),this},flyToBounds:function(s,c){var u=this._getBoundsCenterZoom(s,c);return this.flyTo(u.center,u.zoom,c)},setMaxBounds:function(s){return s=Je(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var c=this.options.minZoom;return this.options.minZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var c=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&c!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,c){this._enforcingBounds=!0;var u=this.getCenter(),h=this._limitCenter(u,this._zoom,Je(s));return u.equals(h)||this.panTo(h,c),this._enforcingBounds=!1,this},panInside:function(s,c){c=c||{};var u=K(c.paddingTopLeft||c.padding||[0,0]),h=K(c.paddingBottomRight||c.padding||[0,0]),g=this.project(this.getCenter()),v=this.project(s),I=this.getPixelBounds(),S=tt([I.min.add(u),I.max.subtract(h)]),k=S.getSize();if(!S.contains(v)){this._enforcingBounds=!0;var W=v.subtract(S.getCenter()),re=S.extend(v).getSize().subtract(k);g.x+=W.x<0?-re.x:re.x,g.y+=W.y<0?-re.y:re.y,this.panTo(this.unproject(g),c),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=t({animate:!1,pan:!0},s===!0?{animate:!0}:s);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),h=c.divideBy(2).round(),g=u.divideBy(2).round(),v=h.subtract(g);return!v.x&&!v.y?this:(s.animate&&s.pan?this.panBy(v):(s.pan&&this._rawPanBy(v),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=t({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=r(this._handleGeolocationResponse,this),u=r(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,u,s):navigator.geolocation.getCurrentPosition(c,u,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var c=s.code,u=s.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var c=s.coords.latitude,u=s.coords.longitude,h=new Ke(c,u),g=h.toBounds(s.coords.accuracy*2),v=this._locateOptions;if(v.setView){var I=this.getBoundsZoom(g);this.setView(h,v.maxZoom?Math.min(I,v.maxZoom):I)}var S={latlng:h,bounds:g,timestamp:s.timestamp};for(var k in s.coords)typeof s.coords[k]=="number"&&(S[k]=s.coords[k]);this.fire("locationfound",S)}},addHandler:function(s,c){if(!c)return this;var u=this[s]=new c(this);return this._handlers.push(u),this.options[s]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),jt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(wt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)jt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,c){var u="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),h=lt("div",u,c||this._mapPane);return s&&(this._panes[s]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),c=this.unproject(s.getBottomLeft()),u=this.unproject(s.getTopRight());return new Dt(c,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,c,u){s=Je(s),u=K(u||[0,0]);var h=this.getZoom()||0,g=this.getMinZoom(),v=this.getMaxZoom(),I=s.getNorthWest(),S=s.getSouthEast(),k=this.getSize().subtract(u),W=tt(this.project(S,h),this.project(I,h)).getSize(),re=ve.any3d?this.options.zoomSnap:1,Ee=k.x/W.x,Qe=k.y/W.y,Vi=c?Math.max(Ee,Qe):Math.min(Ee,Qe);return h=this.getScaleZoom(Vi,h),re&&(h=Math.round(h/(re/100))*(re/100),h=c?Math.ceil(h/re)*re:Math.floor(h/re)*re),Math.max(g,Math.min(v,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,c){var u=this._getTopLeftPoint(s,c);return new de(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,c){var u=this.options.crs;return c=c===void 0?this._zoom:c,u.scale(s)/u.scale(c)},getScaleZoom:function(s,c){var u=this.options.crs;c=c===void 0?this._zoom:c;var h=u.zoom(s*u.scale(c));return isNaN(h)?1/0:h},project:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(he(s),c)},unproject:function(s,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(K(s),c)},layerPointToLatLng:function(s){var c=K(s).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(s){var c=this.project(he(s))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(he(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Je(s))},distance:function(s,c){return this.options.crs.distance(he(s),he(c))},containerPointToLayerPoint:function(s){return K(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return K(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var c=this.containerPointToLayerPoint(K(s));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(s)))},mouseEventToContainerPoint:function(s){return NM(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var c=this._container=RM(s);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Le(c,"scroll",this._onScroll,this),this._containerId=a(c)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&ve.any3d,Ue(s,"leaflet-container"+(ve.touch?" leaflet-touch":"")+(ve.retina?" leaflet-retina":"")+(ve.ielt9?" leaflet-oldie":"")+(ve.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=mu(s,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Jt(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ue(s.markerPane,"leaflet-zoom-hide"),Ue(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,c,u){Jt(this._mapPane,new U(0,0));var h=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var g=this._zoom!==c;this._moveStart(g,u)._move(s,c)._moveEnd(g),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(s,c){return s&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(s,c,u,h){c===void 0&&(c=this._zoom);var g=this._zoom!==c;return this._zoom=c,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),h?u&&u.pinch&&this.fire("zoom",u):((g||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return wt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Jt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[a(this._container)]=this;var c=s?kt:Le;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),ve.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){wt(this._resizeRequest),this._resizeRequest=vt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,c){for(var u=[],h,g=c==="mouseout"||c==="mouseover",v=s.target||s.srcElement,I=!1;v;){if(h=this._targets[a(v)],h&&(c==="click"||c==="preclick")&&this._draggableMoved(h)){I=!0;break}if(h&&h.listens(c,!0)&&(g&&!zy(v,s)||(u.push(h),g))||v===this._container)break;v=v.parentNode}return!u.length&&!I&&!g&&this.listens(c,!0)&&(u=[this]),u},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var c=s.target||s.srcElement;if(!(!this._loaded||c._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(c))){var u=s.type;u==="mousedown"&&Ny(c),this._fireDOMEvent(s,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,c,u){if(s.type==="click"){var h=t({},s);h.type="preclick",this._fireDOMEvent(h,h.type,u)}var g=this._findEventTargets(s,c);if(u){for(var v=[],I=0;I<u.length;I++)u[I].listens(c,!0)&&v.push(u[I]);g=v.concat(g)}if(g.length){c==="contextmenu"&&Di(s);var S=g[0],k={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var W=S.getLatLng&&(!S._radius||S._radius<=10);k.containerPoint=W?this.latLngToContainerPoint(S.getLatLng()):this.mouseEventToContainerPoint(s),k.layerPoint=this.containerPointToLayerPoint(k.containerPoint),k.latlng=W?S.getLatLng():this.layerPointToLatLng(k.layerPoint)}for(I=0;I<g.length;I++)if(g[I].fire(c,k,!0),k.originalEvent._stopped||g[I].options.bubblingMouseEvents===!1&&ce(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,c=this._handlers.length;s<c;s++)this._handlers[s].disable()},whenReady:function(s,c){return this._loaded?s.call(c||this,{target:this}):this.on("load",s,c),this},_getMapPanePos:function(){return Fs(this._mapPane)||new U(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,c){var u=s&&c!==void 0?this._getNewPixelOrigin(s,c):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,c){var u=this.getSize()._divideBy(2);return this.project(s,c)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,c,u){var h=this._getNewPixelOrigin(u,c);return this.project(s,c)._subtract(h)},_latLngBoundsToNewLayerBounds:function(s,c,u){var h=this._getNewPixelOrigin(u,c);return tt([this.project(s.getSouthWest(),c)._subtract(h),this.project(s.getNorthWest(),c)._subtract(h),this.project(s.getSouthEast(),c)._subtract(h),this.project(s.getNorthEast(),c)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,c,u){if(!u)return s;var h=this.project(s,c),g=this.getSize().divideBy(2),v=new de(h.subtract(g),h.add(g)),I=this._getBoundsOffset(v,u,c);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?s:this.unproject(h.add(I),c)},_limitOffset:function(s,c){if(!c)return s;var u=this.getPixelBounds(),h=new de(u.min.add(s),u.max.add(s));return s.add(this._getBoundsOffset(h,c))},_getBoundsOffset:function(s,c,u){var h=tt(this.project(c.getNorthEast(),u),this.project(c.getSouthWest(),u)),g=h.min.subtract(s.min),v=h.max.subtract(s.max),I=this._rebound(g.x,-v.x),S=this._rebound(g.y,-v.y);return new U(I,S)},_rebound:function(s,c){return s+c>0?Math.round(s-c)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(c))},_limitZoom:function(s){var c=this.getMinZoom(),u=this.getMaxZoom(),h=ve.any3d?this.options.zoomSnap:1;return h&&(s=Math.round(s/h)*h),Math.max(c,Math.min(u,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Gt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,c){var u=this._getCenterOffset(s)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,c),!0)},_createAnimProxy:function(){var s=this._proxy=lt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(c){var u=My,h=this._proxy.style[u];Rs(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),h===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){jt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),c=this.getZoom();Rs(this._proxy,this.project(s,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,c,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(c),g=this._getCenterOffset(s)._divideBy(1-1/h);return u.animate!==!0&&!this.getSize().contains(g)?!1:(vt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(s,c,!0)},this),!0)},_animateZoom:function(s,c,u,h){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=c,Ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:c,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Gt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function SV(s,c){return new rt(s,c)}var rr=bi.extend({options:{position:"topright"},initialize:function(s){E(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var c=this._map;return c&&c.removeControl(this),this.options.position=s,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var c=this._container=this.onAdd(s),u=this.getPosition(),h=s._controlCorners[u];return Ue(c,"leaflet-control"),u.indexOf("bottom")!==-1?h.insertBefore(c,h.firstChild):h.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(jt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Cu=function(s){return new rr(s)};rt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},c="leaflet-",u=this._controlContainer=lt("div",c+"control-container",this._container);function h(g,v){var I=c+g+" "+c+v;s[g+v]=lt("div",I,u)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)jt(this._controlCorners[s]);jt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var VM=rr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,c,u,h){return u<h?-1:h<u?1:0}},initialize:function(s,c,u){E(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in s)this._addLayer(s[h],h);for(h in c)this._addLayer(c[h],h,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return rr.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,c){return this._addLayer(s,c),this._map?this._update():this},addOverlay:function(s,c){return this._addLayer(s,c,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var c=this._getLayer(a(s));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Gt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Gt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",c=this._container=lt("div",s),u=this.options.collapsed;c.setAttribute("aria-haspopup",!0),_u(c),Hy(c);var h=this._section=lt("section",s+"-list");u&&(this._map.on("click",this.collapse,this),Le(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=lt("a",s+"-toggle",c);g.href="#",g.title="Layers",g.setAttribute("role","button"),Le(g,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){Di(v),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=lt("div",s+"-base",h),this._separator=lt("div",s+"-separator",h),this._overlaysList=lt("div",s+"-overlays",h),c.appendChild(h)},_getLayer:function(s){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&a(this._layers[c].layer)===s)return this._layers[c]},_addLayer:function(s,c,u){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:c,overlay:u}),this.options.sortLayers&&this._layers.sort(r(function(h,g){return this.options.sortFunction(h.layer,g.layer,h.name,g.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rp(this._baseLayersList),Rp(this._overlaysList),this._layerControlInputs=[];var s,c,u,h,g=0;for(u=0;u<this._layers.length;u++)h=this._layers[u],this._addItem(h),c=c||h.overlay,s=s||!h.overlay,g+=h.overlay?0:1;return this.options.hideSingleBase&&(s=s&&g>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=c&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var c=this._getLayer(a(s.target)),u=c.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;u&&this._map.fire(u,c)},_createRadioElement:function(s,c){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(c?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=u,h.firstChild},_addItem:function(s){var c=document.createElement("label"),u=this._map.hasLayer(s.layer),h;s.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=u):h=this._createRadioElement("leaflet-base-layers_"+a(this),u),this._layerControlInputs.push(h),h.layerId=a(s.layer),Le(h,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+s.name;var v=document.createElement("span");c.appendChild(v),v.appendChild(h),v.appendChild(g);var I=s.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,c,u,h=[],g=[];this._handlingClick=!0;for(var v=s.length-1;v>=0;v--)c=s[v],u=this._getLayer(c.layerId).layer,c.checked?h.push(u):c.checked||g.push(u);for(v=0;v<g.length;v++)this._map.hasLayer(g[v])&&this._map.removeLayer(g[v]);for(v=0;v<h.length;v++)this._map.hasLayer(h[v])||this._map.addLayer(h[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,c,u,h=this._map.getZoom(),g=s.length-1;g>=0;g--)c=s[g],u=this._getLayer(c.layerId).layer,c.disabled=u.options.minZoom!==void 0&&h<u.options.minZoom||u.options.maxZoom!==void 0&&h>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Le(s,"click",Di),this.expand();var c=this;setTimeout(function(){kt(s,"click",Di),c._preventClick=!1})}}),TV=function(s,c,u){return new VM(s,c,u)},$y=rr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var c="leaflet-control-zoom",u=lt("div",c+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,c+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,c+"-out",u,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,c,u,h,g){var v=lt("a",u,h);return v.innerHTML=s,v.href="#",v.title=c,v.setAttribute("role","button"),v.setAttribute("aria-label",c),_u(v),Le(v,"click",Os),Le(v,"click",g,this),Le(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var s=this._map,c="leaflet-disabled";Gt(this._zoomInButton,c),Gt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ue(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ue(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});rt.mergeOptions({zoomControl:!0}),rt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $y,this.addControl(this.zoomControl))});var MV=function(s){return new $y(s)},BM=rr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var c="leaflet-control-scale",u=lt("div",c),h=this.options;return this._addScales(h,c+"-line",u),s.on(h.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),u},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,c,u){s.metric&&(this._mScale=lt("div",c,u)),s.imperial&&(this._iScale=lt("div",c,u))},_update:function(){var s=this._map,c=s.getSize().y/2,u=s.distance(s.containerPointToLatLng([0,c]),s.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(u)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var c=this._getRoundNum(s),u=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,u,c/s)},_updateImperial:function(s){var c=s*3.2808399,u,h,g;c>5280?(u=c/5280,h=this._getRoundNum(u),this._updateScale(this._iScale,h+" mi",h/u)):(g=this._getRoundNum(c),this._updateScale(this._iScale,g+" ft",g/c))},_updateScale:function(s,c,u){s.style.width=Math.round(this.options.maxWidth*u)+"px",s.innerHTML=c},_getRoundNum:function(s){var c=Math.pow(10,(Math.floor(s)+"").length-1),u=s/c;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,c*u}}),kV=function(s){return new BM(s)},AV='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Uy=rr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ve.inlineSvg?AV+" ":"")+"Leaflet</a>"},initialize:function(s){E(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=lt("div","leaflet-control-attribution"),_u(this._container);for(var c in s._layers)s._layers[c].getAttribution&&this.addAttribution(s._layers[c].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var c in this._attributions)this._attributions[c]&&s.push(c);var u=[];this.options.prefix&&u.push(this.options.prefix),s.length&&u.push(s.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});rt.mergeOptions({attributionControl:!0}),rt.addInitHook(function(){this.options.attributionControl&&new Uy().addTo(this)});var RV=function(s){return new Uy(s)};rr.Layers=VM,rr.Zoom=$y,rr.Scale=BM,rr.Attribution=Uy,Cu.layers=TV,Cu.zoom=MV,Cu.scale=kV,Cu.attribution=RV;var Dr=bi.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dr.addTo=function(s,c){return s.addHandler(c,this),this};var FV={Events:yi},HM=ve.touch?"touchstart mousedown":"mousedown",Oo=wr.extend({options:{clickTolerance:3},initialize:function(s,c,u,h){E(this,h),this._element=s,this._dragStartTarget=c||s,this._preventOutline=u},enable:function(){this._enabled||(Le(this._dragStartTarget,HM,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Oo._dragging===this&&this.finishDrag(!0),kt(this._dragStartTarget,HM,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ky(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Oo._dragging===this&&this.finishDrag();return}if(!(Oo._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Oo._dragging=this,this._preventOutline&&Ny(this._element),Fy(),vu(),!this._moving)){this.fire("down");var c=s.touches?s.touches[0]:s,u=FM(this._element);this._startPoint=new U(c.clientX,c.clientY),this._startPos=Fs(this._element),this._parentScale=Ly(u);var h=s.type==="mousedown";Le(document,h?"mousemove":"touchmove",this._onMove,this),Le(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var c=s.touches&&s.touches.length===1?s.touches[0]:s,u=new U(c.clientX,c.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Di(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ue(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Jt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Gt(document.body,"leaflet-dragging"),this._lastTarget&&(Gt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),kt(document,"mousemove touchmove",this._onMove,this),kt(document,"mouseup touchend touchcancel",this._onUp,this),Py(),bu();var c=this._moved&&this._moving;this._moving=!1,Oo._dragging=!1,c&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function zM(s,c,u){var h,g=[1,4,2,8],v,I,S,k,W,re,Ee,Qe;for(v=0,re=s.length;v<re;v++)s[v]._code=Ns(s[v],c);for(S=0;S<4;S++){for(Ee=g[S],h=[],v=0,re=s.length,I=re-1;v<re;I=v++)k=s[v],W=s[I],k._code&Ee?W._code&Ee||(Qe=Lp(W,k,Ee,c,u),Qe._code=Ns(Qe,c),h.push(Qe)):(W._code&Ee&&(Qe=Lp(W,k,Ee,c,u),Qe._code=Ns(Qe,c),h.push(Qe)),h.push(k));s=h}return s}function $M(s,c){var u,h,g,v,I,S,k,W,re;if(!s||s.length===0)throw new Error("latlngs not passed");Pn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ee=he([0,0]),Qe=Je(s),Vi=Qe.getNorthWest().distanceTo(Qe.getSouthWest())*Qe.getNorthEast().distanceTo(Qe.getNorthWest());Vi<1700&&(Ee=Wy(s));var _i=s.length,On=[];for(u=0;u<_i;u++){var Ki=he(s[u]);On.push(c.project(he([Ki.lat-Ee.lat,Ki.lng-Ee.lng])))}for(S=k=W=0,u=0,h=_i-1;u<_i;h=u++)g=On[u],v=On[h],I=g.y*v.x-v.y*g.x,k+=(g.x+v.x)*I,W+=(g.y+v.y)*I,S+=I*3;S===0?re=On[0]:re=[k/S,W/S];var vc=c.unproject(K(re));return he([vc.lat+Ee.lat,vc.lng+Ee.lng])}function Wy(s){for(var c=0,u=0,h=0,g=0;g<s.length;g++){var v=he(s[g]);c+=v.lat,u+=v.lng,h++}return he([c/h,u/h])}var PV={__proto__:null,clipPolygon:zM,polygonCenter:$M,centroid:Wy};function UM(s,c){if(!c||!s.length)return s.slice();var u=c*c;return s=LV(s,u),s=NV(s,u),s}function WM(s,c,u){return Math.sqrt(wu(s,c,u,!0))}function OV(s,c,u){return wu(s,c,u)}function NV(s,c){var u=s.length,h=typeof Uint8Array!=void 0+""?Uint8Array:Array,g=new h(u);g[0]=g[u-1]=1,Gy(s,g,c,0,u-1);var v,I=[];for(v=0;v<u;v++)g[v]&&I.push(s[v]);return I}function Gy(s,c,u,h,g){var v=0,I,S,k;for(S=h+1;S<=g-1;S++)k=wu(s[S],s[h],s[g],!0),k>v&&(I=S,v=k);v>u&&(c[I]=1,Gy(s,c,u,h,I),Gy(s,c,u,I,g))}function LV(s,c){for(var u=[s[0]],h=1,g=0,v=s.length;h<v;h++)jV(s[h],s[g])>c&&(u.push(s[h]),g=h);return g<v-1&&u.push(s[v-1]),u}var GM;function qM(s,c,u,h,g){var v=h?GM:Ns(s,u),I=Ns(c,u),S,k,W;for(GM=I;;){if(!(v|I))return[s,c];if(v&I)return!1;S=v||I,k=Lp(s,c,S,u,g),W=Ns(k,u),S===v?(s=k,v=W):(c=k,I=W)}}function Lp(s,c,u,h,g){var v=c.x-s.x,I=c.y-s.y,S=h.min,k=h.max,W,re;return u&8?(W=s.x+v*(k.y-s.y)/I,re=k.y):u&4?(W=s.x+v*(S.y-s.y)/I,re=S.y):u&2?(W=k.x,re=s.y+I*(k.x-s.x)/v):u&1&&(W=S.x,re=s.y+I*(S.x-s.x)/v),new U(W,re,g)}function Ns(s,c){var u=0;return s.x<c.min.x?u|=1:s.x>c.max.x&&(u|=2),s.y<c.min.y?u|=4:s.y>c.max.y&&(u|=8),u}function jV(s,c){var u=c.x-s.x,h=c.y-s.y;return u*u+h*h}function wu(s,c,u,h){var g=c.x,v=c.y,I=u.x-g,S=u.y-v,k=I*I+S*S,W;return k>0&&(W=((s.x-g)*I+(s.y-v)*S)/k,W>1?(g=u.x,v=u.y):W>0&&(g+=I*W,v+=S*W)),I=s.x-g,S=s.y-v,h?I*I+S*S:new U(g,v)}function Pn(s){return!$(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function ZM(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pn(s)}function KM(s,c){var u,h,g,v,I,S,k,W;if(!s||s.length===0)throw new Error("latlngs not passed");Pn(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var re=he([0,0]),Ee=Je(s),Qe=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());Qe<1700&&(re=Wy(s));var Vi=s.length,_i=[];for(u=0;u<Vi;u++){var On=he(s[u]);_i.push(c.project(he([On.lat-re.lat,On.lng-re.lng])))}for(u=0,h=0;u<Vi-1;u++)h+=_i[u].distanceTo(_i[u+1])/2;if(h===0)W=_i[0];else for(u=0,v=0;u<Vi-1;u++)if(I=_i[u],S=_i[u+1],g=I.distanceTo(S),v+=g,v>h){k=(v-h)/g,W=[S.x-k*(S.x-I.x),S.y-k*(S.y-I.y)];break}var Ki=c.unproject(K(W));return he([Ki.lat+re.lat,Ki.lng+re.lng])}var VV={__proto__:null,simplify:UM,pointToSegmentDistance:WM,closestPointOnSegment:OV,clipSegment:qM,_getEdgeIntersection:Lp,_getBitCode:Ns,_sqClosestPointOnSegment:wu,isFlat:Pn,_flat:ZM,polylineCenter:KM},qy={project:function(s){return new U(s.lng,s.lat)},unproject:function(s){return new Ke(s.y,s.x)},bounds:new de([-180,-90],[180,90])},Zy={R:6378137,R_MINOR:6356752314245179e-9,bounds:new de([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var c=Math.PI/180,u=this.R,h=s.lat*c,g=this.R_MINOR/u,v=Math.sqrt(1-g*g),I=v*Math.sin(h),S=Math.tan(Math.PI/4-h/2)/Math.pow((1-I)/(1+I),v/2);return h=-u*Math.log(Math.max(S,1e-10)),new U(s.lng*c*u,h)},unproject:function(s){for(var c=180/Math.PI,u=this.R,h=this.R_MINOR/u,g=Math.sqrt(1-h*h),v=Math.exp(-s.y/u),I=Math.PI/2-2*Math.atan(v),S=0,k=.1,W;S<15&&Math.abs(k)>1e-7;S++)W=g*Math.sin(I),W=Math.pow((1-W)/(1+W),g/2),k=Math.PI/2-2*Math.atan(v*W)-I,I+=k;return new Ke(I*c,s.x*c/u)}},BV={__proto__:null,LonLat:qy,Mercator:Zy,SphericalMercator:nr},HV=t({},Rn,{code:"EPSG:3395",projection:Zy,transformation:function(){var s=.5/(Math.PI*Zy.R);return xr(s,.5,-s,.5)}()}),YM=t({},Rn,{code:"EPSG:4326",projection:qy,transformation:xr(1/180,1,-1/180,.5)}),zV=t({},ji,{projection:qy,transformation:xr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,c){var u=c.lng-s.lng,h=c.lat-s.lat;return Math.sqrt(u*u+h*h)},infinite:!0});ji.Earth=Rn,ji.EPSG3395=HV,ji.EPSG3857=As,ji.EPSG900913=Zj,ji.EPSG4326=YM,ji.Simple=zV;var or=wr.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[a(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[a(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var c=s.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var u=this.getEvents();c.on(u,this),this.once("remove",function(){c.off(u,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});rt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var c=a(s);return this._layers[c]?this:(this._layers[c]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var c=a(s);return this._layers[c]?(this._loaded&&s.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return a(s)in this._layers},eachLayer:function(s,c){for(var u in this._layers)s.call(c,this._layers[u]);return this},_addLayers:function(s){s=s?$(s)?s:[s]:[];for(var c=0,u=s.length;c<u;c++)this.addLayer(s[c])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[a(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var c=a(s);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,c=-1/0,u=this._getZoomSpan();for(var h in this._zoomBoundLayers){var g=this._zoomBoundLayers[h].options;s=g.minZoom===void 0?s:Math.min(s,g.minZoom),c=g.maxZoom===void 0?c:Math.max(c,g.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=s===1/0?void 0:s,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hc=or.extend({initialize:function(s,c){E(this,c),this._layers={};var u,h;if(s)for(u=0,h=s.length;u<h;u++)this.addLayer(s[u])},addLayer:function(s){var c=this.getLayerId(s);return this._layers[c]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var c=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(s){var c=typeof s=="number"?s:this.getLayerId(s);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var c=Array.prototype.slice.call(arguments,1),u,h;for(u in this._layers)h=this._layers[u],h[s]&&h[s].apply(h,c);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,c){for(var u in this._layers)s.call(c,this._layers[u]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return a(s)}}),$V=function(s,c){return new hc(s,c)},Jr=hc.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),hc.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),hc.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Dt;for(var c in this._layers){var u=this._layers[c];s.extend(u.getBounds?u.getBounds():u.getLatLng())}return s}}),UV=function(s,c){return new Jr(s,c)},pc=bi.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){E(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,c){var u=this._getIconUrl(s);if(!u){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(u,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(h,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(s,c){var u=this.options,h=u[c+"Size"];typeof h=="number"&&(h=[h,h]);var g=K(h),v=K(c==="shadow"&&u.shadowAnchor||u.iconAnchor||g&&g.divideBy(2,!0));s.className="leaflet-marker-"+c+" "+(u.className||""),v&&(s.style.marginLeft=-v.x+"px",s.style.marginTop=-v.y+"px"),g&&(s.style.width=g.x+"px",s.style.height=g.y+"px")},_createImg:function(s,c){return c=c||document.createElement("img"),c.src=s,c},_getIconUrl:function(s){return ve.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function WV(s){return new pc(s)}var xu=pc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof xu.imagePath!="string"&&(xu.imagePath=this._detectIconPath()),(this.options.imagePath||xu.imagePath)+pc.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var c=function(u,h,g){var v=h.exec(u);return v&&v[g]};return s=c(s,/^url\((['"])?(.+)\1\)$/,2),s&&c(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=lt("div","leaflet-default-icon-path",document.body),c=mu(s,"background-image")||mu(s,"backgroundImage");if(document.body.removeChild(s),c=this._stripUrl(c),c)return c;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),QM=Dr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Oo(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ue(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Gt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var c=this._marker,u=c._map,h=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,v=Fs(c._icon),I=u.getPixelBounds(),S=u.getPixelOrigin(),k=tt(I.min._subtract(S).add(g),I.max._subtract(S).subtract(g));if(!k.contains(v)){var W=K((Math.max(k.max.x,v.x)-k.max.x)/(I.max.x-k.max.x)-(Math.min(k.min.x,v.x)-k.min.x)/(I.min.x-k.min.x),(Math.max(k.max.y,v.y)-k.max.y)/(I.max.y-k.max.y)-(Math.min(k.min.y,v.y)-k.min.y)/(I.min.y-k.min.y)).multiplyBy(h);u.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),Jt(c._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=vt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(wt(this._panRequest),this._panRequest=vt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var c=this._marker,u=c._shadow,h=Fs(c._icon),g=c._map.layerPointToLatLng(h);u&&Jt(u,h),c._latlng=g,s.latlng=g,s.oldLatLng=this._oldLatLng,c.fire("move",s).fire("drag",s)},_onDragEnd:function(s){wt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),jp=or.extend({options:{icon:new xu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,c){E(this,c),this._latlng=he(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var c=this._latlng;return this._latlng=he(s),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=s.icon.createIcon(this._icon),h=!1;u!==this._icon&&(this._icon&&this._removeIcon(),h=!0,s.title&&(u.title=s.title),u.tagName==="IMG"&&(u.alt=s.alt||"")),Ue(u,c),s.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(u,"focus",this._panOnFocus,this);var g=s.icon.createShadow(this._shadow),v=!1;g!==this._shadow&&(this._removeShadow(),v=!0),g&&(Ue(g,c),g.alt=""),this._shadow=g,s.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&v&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(this._icon,"focus",this._panOnFocus,this),jt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&jt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Jt(this._icon,s),this._shadow&&Jt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),QM)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new QM(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Fn(this._icon,s),this._shadow&&Fn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var c=this.options.icon.options,u=c.iconSize?K(c.iconSize):K(0,0),h=c.iconAnchor?K(c.iconAnchor):K(0,0);s.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:u.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function GV(s,c){return new jp(s,c)}var No=or.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return E(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vp=No.extend({options:{fill:!0,radius:10},initialize:function(s,c){E(this,c),this._latlng=he(s),this._radius=this.options.radius},setLatLng:function(s){var c=this._latlng;return this._latlng=he(s),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var c=s&&s.radius||this._radius;return No.prototype.setStyle.call(this,s),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,c=this._radiusY||s,u=this._clickTolerance(),h=[s+u,c+u];this._pxBounds=new de(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qV(s,c){return new Vp(s,c)}var Ky=Vp.extend({initialize:function(s,c,u){if(typeof c=="number"&&(c=t({},u,{radius:c})),E(this,c),this._latlng=he(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Dt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:No.prototype.setStyle,_project:function(){var s=this._latlng.lng,c=this._latlng.lat,u=this._map,h=u.options.crs;if(h.distance===Rn.distance){var g=Math.PI/180,v=this._mRadius/Rn.R/g,I=u.project([c+v,s]),S=u.project([c-v,s]),k=I.add(S).divideBy(2),W=u.unproject(k).lat,re=Math.acos((Math.cos(v*g)-Math.sin(c*g)*Math.sin(W*g))/(Math.cos(c*g)*Math.cos(W*g)))/g;(isNaN(re)||re===0)&&(re=v/Math.cos(Math.PI/180*c)),this._point=k.subtract(u.getPixelOrigin()),this._radius=isNaN(re)?0:k.x-u.project([W,s-re]).x,this._radiusY=k.y-I.y}else{var Ee=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(Ee).x}this._updateBounds()}});function ZV(s,c,u){return new Ky(s,c,u)}var eo=No.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,c){E(this,c),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var c=1/0,u=null,h=wu,g,v,I=0,S=this._parts.length;I<S;I++)for(var k=this._parts[I],W=1,re=k.length;W<re;W++){g=k[W-1],v=k[W];var Ee=h(s,g,v,!0);Ee<c&&(c=Ee,u=h(s,g,v))}return u&&(u.distance=Math.sqrt(c)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return KM(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,c){return c=c||this._defaultShape(),s=he(s),c.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Dt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var c=[],u=Pn(s),h=0,g=s.length;h<g;h++)u?(c[h]=he(s[h]),this._bounds.extend(c[h])):c[h]=this._convertLatLngs(s[h]);return c},_project:function(){var s=new de;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),c=new U(s,s);this._rawPxBounds&&(this._pxBounds=new de([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(s,c,u){var h=s[0]instanceof Ke,g=s.length,v,I;if(h){for(I=[],v=0;v<g;v++)I[v]=this._map.latLngToLayerPoint(s[v]),u.extend(I[v]);c.push(I)}else for(v=0;v<g;v++)this._projectLatlngs(s[v],c,u)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,u,h,g,v,I,S,k;for(u=0,g=0,v=this._rings.length;u<v;u++)for(k=this._rings[u],h=0,I=k.length;h<I-1;h++)S=qM(k[h],k[h+1],s,h,!0),S&&(c[g]=c[g]||[],c[g].push(S[0]),(S[1]!==k[h+1]||h===I-2)&&(c[g].push(S[1]),g++))}},_simplifyPoints:function(){for(var s=this._parts,c=this.options.smoothFactor,u=0,h=s.length;u<h;u++)s[u]=UM(s[u],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,c){var u,h,g,v,I,S,k=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(u=0,v=this._parts.length;u<v;u++)for(S=this._parts[u],h=0,I=S.length,g=I-1;h<I;g=h++)if(!(!c&&h===0)&&WM(s,S[g],S[h])<=k)return!0;return!1}});function KV(s,c){return new eo(s,c)}eo._flat=ZM;var fc=eo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $M(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var c=eo.prototype._convertLatLngs.call(this,s),u=c.length;return u>=2&&c[0]instanceof Ke&&c[0].equals(c[u-1])&&c.pop(),c},_setLatLngs:function(s){eo.prototype._setLatLngs.call(this,s),Pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,c=this.options.weight,u=new U(c,c);if(s=new de(s.min.subtract(u),s.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,g=this._rings.length,v;h<g;h++)v=zM(this._rings[h],s,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var c=!1,u,h,g,v,I,S,k,W;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(v=0,k=this._parts.length;v<k;v++)for(u=this._parts[v],I=0,W=u.length,S=W-1;I<W;S=I++)h=u[I],g=u[S],h.y>s.y!=g.y>s.y&&s.x<(g.x-h.x)*(s.y-h.y)/(g.y-h.y)+h.x&&(c=!c);return c||eo.prototype._containsPoint.call(this,s,!0)}});function YV(s,c){return new fc(s,c)}var to=Jr.extend({initialize:function(s,c){E(this,c),this._layers={},s&&this.addData(s)},addData:function(s){var c=$(s)?s:s.features,u,h,g;if(c){for(u=0,h=c.length;u<h;u++)g=c[u],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var v=this.options;if(v.filter&&!v.filter(s))return this;var I=Bp(s,v);return I?(I.feature=$p(s),I.defaultOptions=I.options,this.resetStyle(I),v.onEachFeature&&v.onEachFeature(s,I),this.addLayer(I)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=t({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(c){this._setLayerStyle(c,s)},this)},_setLayerStyle:function(s,c){s.setStyle&&(typeof c=="function"&&(c=c(s.feature)),s.setStyle(c))}});function Bp(s,c){var u=s.type==="Feature"?s.geometry:s,h=u?u.coordinates:null,g=[],v=c&&c.pointToLayer,I=c&&c.coordsToLatLng||Yy,S,k,W,re;if(!h&&!u)return null;switch(u.type){case"Point":return S=I(h),XM(v,s,S,c);case"MultiPoint":for(W=0,re=h.length;W<re;W++)S=I(h[W]),g.push(XM(v,s,S,c));return new Jr(g);case"LineString":case"MultiLineString":return k=Hp(h,u.type==="LineString"?0:1,I),new eo(k,c);case"Polygon":case"MultiPolygon":return k=Hp(h,u.type==="Polygon"?1:2,I),new fc(k,c);case"GeometryCollection":for(W=0,re=u.geometries.length;W<re;W++){var Ee=Bp({geometry:u.geometries[W],type:"Feature",properties:s.properties},c);Ee&&g.push(Ee)}return new Jr(g);case"FeatureCollection":for(W=0,re=u.features.length;W<re;W++){var Qe=Bp(u.features[W],c);Qe&&g.push(Qe)}return new Jr(g);default:throw new Error("Invalid GeoJSON object.")}}function XM(s,c,u,h){return s?s(c,u):new jp(u,h&&h.markersInheritOptions&&h)}function Yy(s){return new Ke(s[1],s[0],s[2])}function Hp(s,c,u){for(var h=[],g=0,v=s.length,I;g<v;g++)I=c?Hp(s[g],c-1,u):(u||Yy)(s[g]),h.push(I);return h}function Qy(s,c){return s=he(s),s.alt!==void 0?[m(s.lng,c),m(s.lat,c),m(s.alt,c)]:[m(s.lng,c),m(s.lat,c)]}function zp(s,c,u,h){for(var g=[],v=0,I=s.length;v<I;v++)g.push(c?zp(s[v],Pn(s[v])?0:c-1,u,h):Qy(s[v],h));return!c&&u&&g.length>0&&g.push(g[0].slice()),g}function gc(s,c){return s.feature?t({},s.feature,{geometry:c}):$p(c)}function $p(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Xy={toGeoJSON:function(s){return gc(this,{type:"Point",coordinates:Qy(this.getLatLng(),s)})}};jp.include(Xy),Ky.include(Xy),Vp.include(Xy),eo.include({toGeoJSON:function(s){var c=!Pn(this._latlngs),u=zp(this._latlngs,c?1:0,!1,s);return gc(this,{type:(c?"Multi":"")+"LineString",coordinates:u})}}),fc.include({toGeoJSON:function(s){var c=!Pn(this._latlngs),u=c&&!Pn(this._latlngs[0]),h=zp(this._latlngs,u?2:c?1:0,!0,s);return c||(h=[h]),gc(this,{type:(u?"Multi":"")+"Polygon",coordinates:h})}}),hc.include({toMultiPoint:function(s){var c=[];return this.eachLayer(function(u){c.push(u.toGeoJSON(s).geometry.coordinates)}),gc(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(s){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(s);var u=c==="GeometryCollection",h=[];return this.eachLayer(function(g){if(g.toGeoJSON){var v=g.toGeoJSON(s);if(u)h.push(v.geometry);else{var I=$p(v);I.type==="FeatureCollection"?h.push.apply(h,I.features):h.push(I)}}}),u?gc(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function JM(s,c){return new to(s,c)}var QV=JM,Up=or.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,c,u){this._url=s,this._bounds=Je(c),E(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){jt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&uc(this._image),this},bringToBack:function(){return this._map&&dc(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Je(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",c=this._image=s?this._url:lt("img");if(Ue(c,"leaflet-image-layer"),this._zoomAnimated&&Ue(c,"leaflet-zoom-animated"),this.options.className&&Ue(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onload=r(this.fire,this,"load"),c.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(s){var c=this._map.getZoomScale(s.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Rs(this._image,u,c)},_reset:function(){var s=this._image,c=new de(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=c.getSize();Jt(s,c.min),s.style.width=u.x+"px",s.style.height=u.y+"px"},_updateOpacity:function(){Fn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),XV=function(s,c,u){return new Up(s,c,u)},ek=Up.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",c=this._image=s?this._url:lt("video");if(Ue(c,"leaflet-image-layer"),this._zoomAnimated&&Ue(c,"leaflet-zoom-animated"),this.options.className&&Ue(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onloadeddata=r(this.fire,this,"load"),s){for(var u=c.getElementsByTagName("source"),h=[],g=0;g<u.length;g++)h.push(u[g].src);this._url=u.length>0?h:[c.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var I=lt("source");I.src=this._url[v],c.appendChild(I)}}});function JV(s,c,u){return new ek(s,c,u)}var tk=Up.extend({_initImage:function(){var s=this._image=this._url;Ue(s,"leaflet-image-layer"),this._zoomAnimated&&Ue(s,"leaflet-zoom-animated"),this.options.className&&Ue(s,this.options.className),s.onselectstart=p,s.onmousemove=p}});function e3(s,c,u){return new tk(s,c,u)}var Sr=or.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,c){s&&(s instanceof Ke||$(s))?(this._latlng=he(s),E(this,c)):(E(this,s),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Fn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Fn(this._container,1),this.bringToFront(),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Fn(this._container,0),this._removeTimeout=setTimeout(r(jt,void 0,this._container),200)):jt(this._container),this.options.interactive&&(Gt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=he(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&uc(this._container),this},bringToBack:function(){return this._map&&dc(this._container),this},_prepareOpen:function(s){var c=this._source;if(!c._map)return!1;if(c instanceof Jr){c=null;var u=this._source._layers;for(var h in u)if(u[h]._map){c=u[h];break}if(!c)return!1;this._source=c}if(!s)if(c.getCenter)s=c.getCenter();else if(c.getLatLng)s=c.getLatLng();else if(c.getBounds)s=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")s.innerHTML=c;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),c=K(this.options.offset),u=this._getAnchor();this._zoomAnimated?Jt(this._container,s.add(u)):c=c.add(s).add(u);var h=this._containerBottom=-c.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=h+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});rt.include({_initOverlay:function(s,c,u,h){var g=c;return g instanceof s||(g=new s(h).setContent(c)),u&&g.setLatLng(u),g}}),or.include({_initOverlay:function(s,c,u,h){var g=u;return g instanceof s?(E(g,h),g._source=this):(g=c&&!h?c:new s(h,this),g.setContent(u)),g}});var Wp=Sr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Sr.prototype.openOn.call(this,s)},onAdd:function(s){Sr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof No||this._source.on("preclick",Ps))},onRemove:function(s){Sr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof No||this._source.off("preclick",Ps))},getEvents:function(){var s=Sr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",c=this._container=lt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=lt("div",s+"-content-wrapper",c);if(this._contentNode=lt("div",s+"-content",u),_u(c),Hy(this._contentNode),Le(c,"contextmenu",Ps),this._tipContainer=lt("div",s+"-tip-container",c),this._tip=lt("div",s+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=lt("a",s+"-close-button",c);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',Le(h,"click",function(g){Di(g),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,c=s.style;c.width="",c.whiteSpace="nowrap";var u=s.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),c.width=u+1+"px",c.whiteSpace="",c.height="";var h=s.offsetHeight,g=this.options.maxHeight,v="leaflet-popup-scrolled";g&&h>g?(c.height=g+"px",Ue(s,v)):Gt(s,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),u=this._getAnchor();Jt(this._container,c.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,c=parseInt(mu(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+c,h=this._containerWidth,g=new U(this._containerLeft,-u-this._containerBottom);g._add(Fs(this._container));var v=s.layerPointToContainerPoint(g),I=K(this.options.autoPanPadding),S=K(this.options.autoPanPaddingTopLeft||I),k=K(this.options.autoPanPaddingBottomRight||I),W=s.getSize(),re=0,Ee=0;v.x+h+k.x>W.x&&(re=v.x+h-W.x+k.x),v.x-re-S.x<0&&(re=v.x-S.x),v.y+u+k.y>W.y&&(Ee=v.y+u-W.y+k.y),v.y-Ee-S.y<0&&(Ee=v.y-S.y),(re||Ee)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([re,Ee]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),t3=function(s,c){return new Wp(s,c)};rt.mergeOptions({closePopupOnClick:!0}),rt.include({openPopup:function(s,c,u){return this._initOverlay(Wp,s,c,u).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),or.include({bindPopup:function(s,c){return this._popup=this._initOverlay(Wp,this._popup,s,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Jr||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Os(s);var c=s.layer||s.target;if(this._popup._source===c&&!(c instanceof No)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=c,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Gp=Sr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Sr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Sr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Sr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",c=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=lt("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var c,u,h=this._map,g=this._container,v=h.latLngToContainerPoint(h.getCenter()),I=h.layerPointToContainerPoint(s),S=this.options.direction,k=g.offsetWidth,W=g.offsetHeight,re=K(this.options.offset),Ee=this._getAnchor();S==="top"?(c=k/2,u=W):S==="bottom"?(c=k/2,u=0):S==="center"?(c=k/2,u=W/2):S==="right"?(c=0,u=W/2):S==="left"?(c=k,u=W/2):I.x<v.x?(S="right",c=0,u=W/2):(S="left",c=k+(re.x+Ee.x)*2,u=W/2),s=s.subtract(K(c,u,!0)).add(re).add(Ee),Gt(g,"leaflet-tooltip-right"),Gt(g,"leaflet-tooltip-left"),Gt(g,"leaflet-tooltip-top"),Gt(g,"leaflet-tooltip-bottom"),Ue(g,"leaflet-tooltip-"+S),Jt(g,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Fn(this._container,s)},_animateZoom:function(s){var c=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(c)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),i3=function(s,c){return new Gp(s,c)};rt.include({openTooltip:function(s,c,u){return this._initOverlay(Gp,s,c,u).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),or.include({bindTooltip:function(s,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gp,this._tooltip,s,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var c=s?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[c](u),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Jr||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&(Le(c,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Le(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var c=typeof s.getElement=="function"&&s.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var c=s.latlng,u,h;this._tooltip.options.sticky&&s.originalEvent&&(u=this._map.mouseEventToContainerPoint(s.originalEvent),h=this._map.containerPointToLayerPoint(u),c=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(c)}});var ik=pc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var c=s&&s.tagName==="DIV"?s:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Rp(c),c.appendChild(u.html)):c.innerHTML=u.html!==!1?u.html:"",u.bgPos){var h=K(u.bgPos);c.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function n3(s){return new ik(s)}pc.Default=xu;var Iu=or.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){E(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),jt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(uc(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dc(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof U?s:new U(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var c=this.getPane().children,u=-s(-1/0,1/0),h=0,g=c.length,v;h<g;h++)v=c[h].style.zIndex,c[h]!==this._container&&v&&(u=s(u,+v));isFinite(u)&&(this.options.zIndex=u+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ve.ielt9){Fn(this._container,this.options.opacity);var s=+new Date,c=!1,u=!1;for(var h in this._tiles){var g=this._tiles[h];if(!(!g.current||!g.loaded)){var v=Math.min(1,(s-g.loaded)/200);Fn(g.el,v),v<1?c=!0:(g.active?u=!0:this._onOpaqueTile(g),g.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),c&&(wt(this._fadeFrame),this._fadeFrame=vt(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=lt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,c=this.options.maxZoom;if(s!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===s?(this._levels[u].el.style.zIndex=c-Math.abs(s-u),this._onUpdateLevel(u)):(jt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var h=this._levels[s],g=this._map;return h||(h=this._levels[s]={},h.el=lt("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=c,h.origin=g.project(g.unproject(g.getPixelOrigin()),s).round(),h.zoom=s,this._setZoomTransform(h,g.getCenter(),g.getZoom()),p(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var s,c,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)c=this._tiles[s],c.retain=c.current;for(s in this._tiles)if(c=this._tiles[s],c.current&&!c.active){var h=c.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var c in this._tiles)this._tiles[c].coords.z===s&&this._removeTile(c)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)jt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,c,u,h){var g=Math.floor(s/2),v=Math.floor(c/2),I=u-1,S=new U(+g,+v);S.z=+I;var k=this._tileCoordsToKey(S),W=this._tiles[k];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),I>h?this._retainParent(g,v,I,h):!1)},_retainChildren:function(s,c,u,h){for(var g=2*s;g<2*s+2;g++)for(var v=2*c;v<2*c+2;v++){var I=new U(g,v);I.z=u+1;var S=this._tileCoordsToKey(I),k=this._tiles[S];if(k&&k.active){k.retain=!0;continue}else k&&k.loaded&&(k.retain=!0);u+1<h&&this._retainChildren(g,v,u+1,h)}},_resetView:function(s){var c=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var c=this.options;return c.minNativeZoom!==void 0&&s<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<s?c.maxNativeZoom:s},_setView:function(s,c,u,h){var g=Math.round(c);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var v=this.options.updateWhenZooming&&g!==this._tileZoom;(!h||v)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(s),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(s,c)},_setZoomTransforms:function(s,c){for(var u in this._levels)this._setZoomTransform(this._levels[u],s,c)},_setZoomTransform:function(s,c,u){var h=this._map.getZoomScale(u,s.zoom),g=s.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(c,u)).round();ve.any3d?Rs(s.el,g,h):Jt(s.el,g)},_resetGrid:function(){var s=this._map,c=s.options.crs,u=this._tileSize=this.getTileSize(),h=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,c.wrapLng[0]],h).x/u.x),Math.ceil(s.project([0,c.wrapLng[1]],h).x/u.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([c.wrapLat[0],0],h).y/u.x),Math.ceil(s.project([c.wrapLat[1],0],h).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var c=this._map,u=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),h=c.getZoomScale(u,this._tileZoom),g=c.project(s,this._tileZoom).floor(),v=c.getSize().divideBy(h*2);return new de(g.subtract(v),g.add(v))},_update:function(s){var c=this._map;if(c){var u=this._clampZoom(c.getZoom());if(s===void 0&&(s=c.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(s),g=this._pxBoundsToTileRange(h),v=g.getCenter(),I=[],S=this.options.keepBuffer,k=new de(g.getBottomLeft().subtract([S,-S]),g.getTopRight().add([S,-S]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var re=this._tiles[W].coords;(re.z!==this._tileZoom||!k.contains(new U(re.x,re.y)))&&(this._tiles[W].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(s,u);return}for(var Ee=g.min.y;Ee<=g.max.y;Ee++)for(var Qe=g.min.x;Qe<=g.max.x;Qe++){var Vi=new U(Qe,Ee);if(Vi.z=this._tileZoom,!!this._isValidTile(Vi)){var _i=this._tiles[this._tileCoordsToKey(Vi)];_i?_i.current=!0:I.push(Vi)}}if(I.sort(function(Ki,vc){return Ki.distanceTo(v)-vc.distanceTo(v)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var On=document.createDocumentFragment();for(Qe=0;Qe<I.length;Qe++)this._addTile(I[Qe],On);this._level.el.appendChild(On)}}}},_isValidTile:function(s){var c=this._map.options.crs;if(!c.infinite){var u=this._globalTileRange;if(!c.wrapLng&&(s.x<u.min.x||s.x>u.max.x)||!c.wrapLat&&(s.y<u.min.y||s.y>u.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(s);return Je(this.options.bounds).overlaps(h)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var c=this._map,u=this.getTileSize(),h=s.scaleBy(u),g=h.add(u),v=c.unproject(h,s.z),I=c.unproject(g,s.z);return[v,I]},_tileCoordsToBounds:function(s){var c=this._tileCoordsToNwSe(s),u=new Dt(c[0],c[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var c=s.split(":"),u=new U(+c[0],+c[1]);return u.z=+c[2],u},_removeTile:function(s){var c=this._tiles[s];c&&(jt(c.el),delete this._tiles[s],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ue(s,"leaflet-tile");var c=this.getTileSize();s.style.width=c.x+"px",s.style.height=c.y+"px",s.onselectstart=p,s.onmousemove=p,ve.ielt9&&this.options.opacity<1&&Fn(s,this.options.opacity)},_addTile:function(s,c){var u=this._getTilePos(s),h=this._tileCoordsToKey(s),g=this.createTile(this._wrapCoords(s),r(this._tileReady,this,s));this._initTile(g),this.createTile.length<2&&vt(r(this._tileReady,this,s,null,g)),Jt(g,u),this._tiles[h]={el:g,coords:s,current:!0},c.appendChild(g),this.fire("tileloadstart",{tile:g,coords:s})},_tileReady:function(s,c,u){c&&this.fire("tileerror",{error:c,tile:u,coords:s});var h=this._tileCoordsToKey(s);u=this._tiles[h],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Fn(u.el,0),wt(this._fadeFrame),this._fadeFrame=vt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),c||(Ue(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ve.ielt9||!this._map._fadeAnimated?vt(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var c=new U(this._wrapX?d(s.x,this._wrapX):s.x,this._wrapY?d(s.y,this._wrapY):s.y);return c.z=s.z,c},_pxBoundsToTileRange:function(s){var c=this.getTileSize();return new de(s.min.unscaleBy(c).floor(),s.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function r3(s){return new Iu(s)}var mc=Iu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,c){this._url=s,c=E(this,c),c.detectRetina&&ve.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,c){return this._url===s&&c===void 0&&(c=!0),this._url=s,c||this.redraw(),this},createTile:function(s,c){var u=document.createElement("img");return Le(u,"load",r(this._tileOnLoad,this,c,u)),Le(u,"error",r(this._tileOnError,this,c,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(s),u},getTileUrl:function(s){var c={r:ve.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-s.y;this.options.tms&&(c.y=u),c["-y"]=u}return A(this._url,t(c,this.options))},_tileOnLoad:function(s,c){ve.ielt9?setTimeout(r(s,this,null,c),0):s(null,c)},_tileOnError:function(s,c,u){var h=this.options.errorTileUrl;h&&c.getAttribute("src")!==h&&(c.src=h),s(u,c)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,c=this.options.maxZoom,u=this.options.zoomReverse,h=this.options.zoomOffset;return u&&(s=c-s),s+h},_getSubdomain:function(s){var c=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var s,c;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(c=this._tiles[s].el,c.onload=p,c.onerror=p,!c.complete)){c.src=Te;var u=this._tiles[s].coords;jt(c),delete this._tiles[s],this.fire("tileabort",{tile:c,coords:u})}},_removeTile:function(s){var c=this._tiles[s];if(c)return c.el.setAttribute("src",Te),Iu.prototype._removeTile.call(this,s)},_tileReady:function(s,c,u){if(!(!this._map||u&&u.getAttribute("src")===Te))return Iu.prototype._tileReady.call(this,s,c,u)}});function nk(s,c){return new mc(s,c)}var rk=mc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,c){this._url=s;var u=t({},this.defaultWmsParams);for(var h in c)h in this.options||(u[h]=c[h]);c=E(this,c);var g=c.detectRetina&&ve.retina?2:1,v=this.getTileSize();u.width=v.x*g,u.height=v.y*g,this.wmsParams=u},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,mc.prototype.onAdd.call(this,s)},getTileUrl:function(s){var c=this._tileCoordsToNwSe(s),u=this._crs,h=tt(u.project(c[0]),u.project(c[1])),g=h.min,v=h.max,I=(this._wmsVersion>=1.3&&this._crs===YM?[g.y,g.x,v.y,v.x]:[g.x,g.y,v.x,v.y]).join(","),S=mc.prototype.getTileUrl.call(this,s);return S+T(this.wmsParams,S,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(s,c){return t(this.wmsParams,s),c||this.redraw(),this}});function o3(s,c){return new rk(s,c)}mc.WMS=rk,nk.wms=o3;var io=or.extend({options:{padding:.1},initialize:function(s){E(this,s),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,c){var u=this._map.getZoomScale(c,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,c),v=h.multiplyBy(-u).add(g).subtract(this._map._getNewPixelOrigin(s,c));ve.any3d?Rs(this._container,v,u):Jt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,c=this._map.getSize(),u=this._map.containerPointToLayerPoint(c.multiplyBy(-s)).round();this._bounds=new de(u,u.add(c.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ok=io.extend({options:{tolerance:0},getEvents:function(){var s=io.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){io.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Le(s,"mousemove",this._onMouseMove,this),Le(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Le(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){wt(this._redrawRequest),delete this._ctx,jt(this._container),kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var c in this._layers)s=this._layers[c],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){io.prototype._update.call(this);var s=this._bounds,c=this._container,u=s.getSize(),h=ve.retina?2:1;Jt(c,s.min),c.width=h*u.x,c.height=h*u.y,c.style.width=u.x+"px",c.style.height=u.y+"px",ve.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){io.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[a(s)]=s;var c=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var c=s._order,u=c.next,h=c.prev;u?u.prev=h:this._drawLast=h,h?h.next=u:this._drawFirst=u,delete s._order,delete this._layers[a(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var c=s.options.dashArray.split(/[, ]+/),u=[],h,g;for(g=0;g<c.length;g++){if(h=Number(c[g]),isNaN(h))return;u.push(h)}s.options._dashArray=u}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||vt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var c=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new de,this._redrawBounds.extend(s._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(s._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var c=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,c=this._redrawBounds;if(this._ctx.save(),c){var u=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)s=h.layer,(!c||s._pxBounds&&s._pxBounds.intersects(c))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,c){if(this._drawing){var u,h,g,v,I=s._parts,S=I.length,k=this._ctx;if(S){for(k.beginPath(),u=0;u<S;u++){for(h=0,g=I[u].length;h<g;h++)v=I[u][h],k[h?"lineTo":"moveTo"](v.x,v.y);c&&k.closePath()}this._fillStroke(k,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var c=s._point,u=this._ctx,h=Math.max(Math.round(s._radius),1),g=(Math.max(Math.round(s._radiusY),1)||h)/h;g!==1&&(u.save(),u.scale(1,g)),u.beginPath(),u.arc(c.x,c.y/g,h,0,Math.PI*2,!1),g!==1&&u.restore(),this._fillStroke(u,s)}},_fillStroke:function(s,c){var u=c.options;u.fill&&(s.globalAlpha=u.fillOpacity,s.fillStyle=u.fillColor||u.color,s.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(s.setLineDash&&s.setLineDash(c.options&&c.options._dashArray||[]),s.globalAlpha=u.opacity,s.lineWidth=u.weight,s.strokeStyle=u.color,s.lineCap=u.lineCap,s.lineJoin=u.lineJoin,s.stroke())},_onClick:function(s){for(var c=this._map.mouseEventToLayerPoint(s),u,h,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(c)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(u))&&(h=u);this._fireEvent(h?[h]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,c)}},_handleMouseOut:function(s){var c=this._hoveredLayer;c&&(Gt(this._container,"leaflet-interactive"),this._fireEvent([c],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,c){if(!this._mouseHoverThrottled){for(var u,h,g=this._drawFirst;g;g=g.next)u=g.layer,u.options.interactive&&u._containsPoint(c)&&(h=u);h!==this._hoveredLayer&&(this._handleMouseOut(s),h&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([h],s,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(r(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,c,u){this._map._fireDOMEvent(c,u||c.type,s)},_bringToFront:function(s){var c=s._order;if(c){var u=c.next,h=c.prev;if(u)u.prev=h;else return;h?h.next=u:u&&(this._drawFirst=u),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(s)}},_bringToBack:function(s){var c=s._order;if(c){var u=c.next,h=c.prev;if(h)h.next=u;else return;u?u.prev=h:h&&(this._drawLast=h),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(s)}}});function sk(s){return ve.canvas?new ok(s):null}var Eu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),s3={_initContainer:function(){this._container=lt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(io.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var c=s._container=Eu("shape");Ue(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",s._path=Eu("path"),c.appendChild(s._path),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){var c=s._container;this._container.appendChild(c),s.options.interactive&&s.addInteractiveTarget(c)},_removePath:function(s){var c=s._container;jt(c),s.removeInteractiveTarget(c),delete this._layers[a(s)]},_updateStyle:function(s){var c=s._stroke,u=s._fill,h=s.options,g=s._container;g.stroked=!!h.stroke,g.filled=!!h.fill,h.stroke?(c||(c=s._stroke=Eu("stroke")),g.appendChild(c),c.weight=h.weight+"px",c.color=h.color,c.opacity=h.opacity,h.dashArray?c.dashStyle=$(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=h.lineCap.replace("butt","flat"),c.joinstyle=h.lineJoin):c&&(g.removeChild(c),s._stroke=null),h.fill?(u||(u=s._fill=Eu("fill")),g.appendChild(u),u.color=h.fillColor||h.color,u.opacity=h.fillOpacity):u&&(g.removeChild(u),s._fill=null)},_updateCircle:function(s){var c=s._point.round(),u=Math.round(s._radius),h=Math.round(s._radiusY||u);this._setPath(s,s._empty()?"M0 0":"AL "+c.x+","+c.y+" "+u+","+h+" 0,"+65535*360)},_setPath:function(s,c){s._path.v=c},_bringToFront:function(s){uc(s._container)},_bringToBack:function(s){dc(s._container)}},qp=ve.vml?Eu:uM,Du=io.extend({_initContainer:function(){this._container=qp("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qp("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){jt(this._container),kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){io.prototype._update.call(this);var s=this._bounds,c=s.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,u.setAttribute("width",c.x),u.setAttribute("height",c.y)),Jt(u,s.min),u.setAttribute("viewBox",[s.min.x,s.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(s){var c=s._path=qp("path");s.options.className&&Ue(c,s.options.className),s.options.interactive&&Ue(c,"leaflet-interactive"),this._updateStyle(s),this._layers[a(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){jt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[a(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var c=s._path,u=s.options;c&&(u.stroke?(c.setAttribute("stroke",u.color),c.setAttribute("stroke-opacity",u.opacity),c.setAttribute("stroke-width",u.weight),c.setAttribute("stroke-linecap",u.lineCap),c.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?c.setAttribute("stroke-dasharray",u.dashArray):c.removeAttribute("stroke-dasharray"),u.dashOffset?c.setAttribute("stroke-dashoffset",u.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),u.fill?(c.setAttribute("fill",u.fillColor||u.color),c.setAttribute("fill-opacity",u.fillOpacity),c.setAttribute("fill-rule",u.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(s,c){this._setPath(s,dM(s._parts,c))},_updateCircle:function(s){var c=s._point,u=Math.max(Math.round(s._radius),1),h=Math.max(Math.round(s._radiusY),1)||u,g="a"+u+","+h+" 0 1,0 ",v=s._empty()?"M0 0":"M"+(c.x-u)+","+c.y+g+u*2+",0 "+g+-u*2+",0 ";this._setPath(s,v)},_setPath:function(s,c){s._path.setAttribute("d",c)},_bringToFront:function(s){uc(s._path)},_bringToBack:function(s){dc(s._path)}});ve.vml&&Du.include(s3);function ak(s){return ve.svg||ve.vml?new Du(s):null}rt.include({getRenderer:function(s){var c=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var c=this._paneRenderers[s];return c===void 0&&(c=this._createRenderer({pane:s}),this._paneRenderers[s]=c),c},_createRenderer:function(s){return this.options.preferCanvas&&sk(s)||ak(s)}});var ck=fc.extend({initialize:function(s,c){fc.prototype.initialize.call(this,this._boundsToLatLngs(s),c)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Je(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function a3(s,c){return new ck(s,c)}Du.create=qp,Du.pointsToPath=dM,to.geometryToLayer=Bp,to.coordsToLatLng=Yy,to.coordsToLatLngs=Hp,to.latLngToCoords=Qy,to.latLngsToCoords=zp,to.getFeature=gc,to.asFeature=$p,rt.mergeOptions({boxZoom:!0});var lk=Dr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){jt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vu(),Fy(),this._startPoint=this._map.mouseEventToContainerPoint(s),Le(document,{contextmenu:Os,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=lt("div","leaflet-zoom-box",this._container),Ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var c=new de(this._point,this._startPoint),u=c.getSize();Jt(this._box,c.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(jt(this._box),Gt(this._container,"leaflet-crosshair")),bu(),Py(),kt(document,{contextmenu:Os,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var c=new Dt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rt.addInitHook("addHandler","boxZoom",lk),rt.mergeOptions({doubleClickZoom:!0});var uk=Dr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var c=this._map,u=c.getZoom(),h=c.options.zoomDelta,g=s.originalEvent.shiftKey?u-h:u+h;c.options.doubleClickZoom==="center"?c.setZoom(g):c.setZoomAround(s.containerPoint,g)}});rt.addInitHook("addHandler","doubleClickZoom",uk),rt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var dk=Dr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Oo(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Gt(this._map._container,"leaflet-grab"),Gt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Je(this._map.options.maxBounds);this._offsetLimit=tt(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var c=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(c),this._prunePositions(c)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,c){return s-(s-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;s.x<c.min.x&&(s.x=this._viscousLimit(s.x,c.min.x)),s.y<c.min.y&&(s.y=this._viscousLimit(s.y,c.min.y)),s.x>c.max.x&&(s.x=this._viscousLimit(s.x,c.max.x)),s.y>c.max.y&&(s.y=this._viscousLimit(s.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,c=Math.round(s/2),u=this._initialWorldOffset,h=this._draggable._newPos.x,g=(h-c+u)%s+c-u,v=(h+c+u)%s-c-u,I=Math.abs(g+u)<Math.abs(v+u)?g:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(s){var c=this._map,u=c.options,h=!u.inertia||s.noInertia||this._times.length<2;if(c.fire("dragend",s),h)c.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,I=u.easeLinearity,S=g.multiplyBy(I/v),k=S.distanceTo([0,0]),W=Math.min(u.inertiaMaxSpeed,k),re=S.multiplyBy(W/k),Ee=W/(u.inertiaDeceleration*I),Qe=re.multiplyBy(-Ee/2).round();!Qe.x&&!Qe.y?c.fire("moveend"):(Qe=c._limitOffset(Qe,c.options.maxBounds),vt(function(){c.panBy(Qe,{duration:Ee,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});rt.addInitHook("addHandler","dragging",dk),rt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hk=Dr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Le(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,c=document.documentElement,u=s.scrollTop||c.scrollTop,h=s.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(h,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var c=this._panKeys={},u=this.keyCodes,h,g;for(h=0,g=u.left.length;h<g;h++)c[u.left[h]]=[-1*s,0];for(h=0,g=u.right.length;h<g;h++)c[u.right[h]]=[s,0];for(h=0,g=u.down.length;h<g;h++)c[u.down[h]]=[0,s];for(h=0,g=u.up.length;h<g;h++)c[u.up[h]]=[0,-1*s]},_setZoomDelta:function(s){var c=this._zoomKeys={},u=this.keyCodes,h,g;for(h=0,g=u.zoomIn.length;h<g;h++)c[u.zoomIn[h]]=s;for(h=0,g=u.zoomOut.length;h<g;h++)c[u.zoomOut[h]]=-s},_addHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var c=s.keyCode,u=this._map,h;if(c in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(h=this._panKeys[c],s.shiftKey&&(h=K(h).multiplyBy(3)),u.options.maxBounds&&(h=u._limitOffset(K(h),u.options.maxBounds)),u.options.worldCopyJump){var g=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(h)));u.panTo(g)}else u.panBy(h)}else if(c in this._zoomKeys)u.setZoom(u.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Os(s)}}});rt.addInitHook("addHandler","keyboard",hk),rt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pk=Dr.extend({addHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var c=LM(s),u=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var h=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),h),Os(s)},_performZoom:function(){var s=this._map,c=s.getZoom(),u=this._map.options.zoomSnap||0;s._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,v=u?Math.ceil(g/u)*u:g,I=s._limitZoom(c+(this._delta>0?v:-v))-c;this._delta=0,this._startTime=null,I&&(s.options.scrollWheelZoom==="center"?s.setZoom(c+I):s.setZoomAround(this._lastMousePos,c+I))}});rt.addInitHook("addHandler","scrollWheelZoom",pk);var c3=600;rt.mergeOptions({tapHold:ve.touchNative&&ve.safari&&ve.mobile,tapTolerance:15});var fk=Dr.extend({addHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var c=s.touches[0];this._startPos=this._newPos=new U(c.clientX,c.clientY),this._holdTimeout=setTimeout(r(function(){this._cancel(),this._isTapValid()&&(Le(document,"touchend",Di),Le(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),c3),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){kt(document,"touchend",Di),kt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)},_onMove:function(s){var c=s.touches[0];this._newPos=new U(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,c){var u=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});u._simulated=!0,c.target.dispatchEvent(u)}});rt.addInitHook("addHandler","tapHold",fk),rt.mergeOptions({touchZoom:ve.touch,bounceAtZoomLimits:!0});var gk=Dr.extend({addHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Gt(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var c=this._map;if(!(!s.touches||s.touches.length!==2||c._animatingZoom||this._zooming)){var u=c.mouseEventToContainerPoint(s.touches[0]),h=c.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(u.add(h)._divideBy(2))),this._startDist=u.distanceTo(h),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),Di(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var c=this._map,u=c.mouseEventToContainerPoint(s.touches[0]),h=c.mouseEventToContainerPoint(s.touches[1]),g=u.distanceTo(h)/this._startDist;if(this._zoom=c.getScaleZoom(g,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&g<1||this._zoom>c.getMaxZoom()&&g>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var v=u._add(h)._divideBy(2)._subtract(this._centerPoint);if(g===1&&v.x===0&&v.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),wt(this._animRequest);var I=r(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=vt(I,this,!0),Di(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,wt(this._animRequest),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});rt.addInitHook("addHandler","touchZoom",gk),rt.BoxZoom=lk,rt.DoubleClickZoom=uk,rt.Drag=dk,rt.Keyboard=hk,rt.ScrollWheelZoom=pk,rt.TapHold=fk,rt.TouchZoom=gk,i.Bounds=de,i.Browser=ve,i.CRS=ji,i.Canvas=ok,i.Circle=Ky,i.CircleMarker=Vp,i.Class=bi,i.Control=rr,i.DivIcon=ik,i.DivOverlay=Sr,i.DomEvent=DV,i.DomUtil=IV,i.Draggable=Oo,i.Evented=wr,i.FeatureGroup=Jr,i.GeoJSON=to,i.GridLayer=Iu,i.Handler=Dr,i.Icon=pc,i.ImageOverlay=Up,i.LatLng=Ke,i.LatLngBounds=Dt,i.Layer=or,i.LayerGroup=hc,i.LineUtil=VV,i.Map=rt,i.Marker=jp,i.Mixin=FV,i.Path=No,i.Point=U,i.PolyUtil=PV,i.Polygon=fc,i.Polyline=eo,i.Popup=Wp,i.PosAnimation=jM,i.Projection=BV,i.Rectangle=ck,i.Renderer=io,i.SVG=Du,i.SVGOverlay=tk,i.TileLayer=mc,i.Tooltip=Gp,i.Transformation=Fi,i.Util=ks,i.VideoOverlay=ek,i.bind=r,i.bounds=tt,i.canvas=sk,i.circle=ZV,i.circleMarker=qV,i.control=Cu,i.divIcon=n3,i.extend=t,i.featureGroup=UV,i.geoJSON=JM,i.geoJson=QV,i.gridLayer=r3,i.icon=WV,i.imageOverlay=XV,i.latLng=he,i.latLngBounds=Je,i.layerGroup=$V,i.map=SV,i.marker=GV,i.point=K,i.polygon=YV,i.polyline=KV,i.popup=t3,i.rectangle=a3,i.setOptions=E,i.stamp=a,i.svg=ak,i.svgOverlay=e3,i.tileLayer=nk,i.tooltip=i3,i.transformation=xr,i.version=e,i.videoOverlay=JV;var l3=window.L;i.noConflict=function(){return window.L=l3,this},window.L=i})});var wk=null;var i_=1;function hn(i){let e=wk;return wk=i,e}var xk={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function S3(i){if(!(o_(i)&&!i.dirty)&&!(!i.dirty&&i.lastCleanEpoch===i_)){if(!i.producerMustRecompute(i)&&!n_(i)){i.dirty=!1,i.lastCleanEpoch=i_;return}i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=i_}}function Ik(i){return i&&(i.nextProducerIndex=0),hn(i)}function Ek(i,e){if(hn(e),!(!i||i.producerNode===void 0||i.producerIndexOfThis===void 0||i.producerLastReadVersion===void 0)){if(o_(i))for(let t=i.nextProducerIndex;t<i.producerNode.length;t++)r_(i.producerNode[t],i.producerIndexOfThis[t]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function n_(i){Yp(i);for(let e=0;e<i.producerNode.length;e++){let t=i.producerNode[e],n=i.producerLastReadVersion[e];if(n!==t.version||(S3(t),n!==t.version))return!0}return!1}function Dk(i){if(Yp(i),o_(i))for(let e=0;e<i.producerNode.length;e++)r_(i.producerNode[e],i.producerIndexOfThis[e]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function r_(i,e){if(T3(i),Yp(i),i.liveConsumerNode.length===1)for(let n=0;n<i.producerNode.length;n++)r_(i.producerNode[n],i.producerIndexOfThis[n]);let t=i.liveConsumerNode.length-1;if(i.liveConsumerNode[e]=i.liveConsumerNode[t],i.liveConsumerIndexOfThis[e]=i.liveConsumerIndexOfThis[t],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,e<i.liveConsumerNode.length){let n=i.liveConsumerIndexOfThis[e],r=i.liveConsumerNode[e];Yp(r),r.producerIndexOfThis[n]=e}}function o_(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function Yp(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function T3(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function M3(){throw new Error}var k3=M3;function Sk(i){k3=i}function _e(i){return typeof i=="function"}function bc(i){let t=i(n=>{Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Qp=bc(i=>function(t){i(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ls(i,e){if(i){let t=i.indexOf(e);0<=t&&i.splice(t,1)}}var ti=class i{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:n}=this;if(_e(n))try{n()}catch(o){e=o instanceof Qp?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Tk(o)}catch(a){e=e??[],a instanceof Qp?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Qp(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Tk(e);else{if(e instanceof i){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ls(t,e)}remove(e){let{_finalizers:t}=this;t&&Ls(t,e),e instanceof i&&e._removeParent(this)}};ti.EMPTY=(()=>{let i=new ti;return i.closed=!0,i})();var s_=ti.EMPTY;function Xp(i){return i instanceof ti||i&&"closed"in i&&_e(i.remove)&&_e(i.add)&&_e(i.unsubscribe)}function Tk(i){_e(i)?i():i.unsubscribe()}var sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yc={setTimeout(i,e,...t){let{delegate:n}=yc;return n?.setTimeout?n.setTimeout(i,e,...t):setTimeout(i,e,...t)},clearTimeout(i){let{delegate:e}=yc;return(e?.clearTimeout||clearTimeout)(i)},delegate:void 0};function Jp(i){yc.setTimeout(()=>{let{onUnhandledError:e}=sr;if(e)e(i);else throw i})}function Su(){}var Mk=(()=>a_("C",void 0,void 0))();function kk(i){return a_("E",void 0,i)}function Ak(i){return a_("N",i,void 0)}function a_(i,e,t){return{kind:i,value:e,error:t}}var js=null;function _c(i){if(sr.useDeprecatedSynchronousErrorHandling){let e=!js;if(e&&(js={errorThrown:!1,error:null}),i(),e){let{errorThrown:t,error:n}=js;if(js=null,t)throw n}}else i()}function Rk(i){sr.useDeprecatedSynchronousErrorHandling&&js&&(js.errorThrown=!0,js.error=i)}var Vs=class extends ti{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xp(e)&&e.add(this)):this.destination=F3}static create(e,t,n){return new ar(e,t,n)}next(e){this.isStopped?l_(Ak(e),this):this._next(e)}error(e){this.isStopped?l_(kk(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?l_(Mk,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},A3=Function.prototype.bind;function c_(i,e){return A3.call(i,e)}var u_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(n){ef(n)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(n){ef(n)}else ef(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ef(t)}}},ar=class extends Vs{constructor(e,t,n){super();let r;if(_e(e)||!e)r={next:e??void 0,error:t??void 0,complete:n??void 0};else{let o;this&&sr.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&c_(e.next,o),error:e.error&&c_(e.error,o),complete:e.complete&&c_(e.complete,o)}):r=e}this.destination=new u_(r)}};function ef(i){sr.useDeprecatedSynchronousErrorHandling?Rk(i):Jp(i)}function R3(i){throw i}function l_(i,e){let{onStoppedNotification:t}=sr;t&&yc.setTimeout(()=>t(i,e))}var F3={closed:!0,next:Su,error:R3,complete:Su};var Cc=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function Bi(i){return i}function d_(...i){return h_(i)}function h_(i){return i.length===0?Bi:i.length===1?i[0]:function(t){return i.reduce((n,r)=>r(n),t)}}var De=(()=>{class i{constructor(t){t&&(this._subscribe=t)}lift(t){let n=new i;return n.source=this,n.operator=t,n}subscribe(t,n,r){let o=O3(t)?t:new ar(t,n,r);return _c(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return n=Fk(n),new n((r,o)=>{let a=new ar({next:l=>{try{t(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)}[Cc](){return this}pipe(...t){return h_(t)(this)}toPromise(t){return t=Fk(t),new t((n,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>n(o))})}}return i.create=e=>new i(e),i})();function Fk(i){var e;return(e=i??sr.Promise)!==null&&e!==void 0?e:Promise}function P3(i){return i&&_e(i.next)&&_e(i.error)&&_e(i.complete)}function O3(i){return i&&i instanceof Vs||P3(i)&&Xp(i)}function p_(i){return _e(i?.lift)}function je(i){return e=>{if(p_(e))return e.lift(function(t){try{return i(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(i,e,t,n,r){return new f_(i,e,t,n,r)}var f_=class extends Vs{constructor(e,t,n,r,o,a){super(e),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(l){try{t(l)}catch(d){e.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){e.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wc(){return je((i,e)=>{let t=null;i._refCount++;let n=Oe(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount){t=null;return}let r=i._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});i.subscribe(n),n.closed||(t=i.connect())})}var xc=class extends De{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,p_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ti;let t=this.getSubject();e.add(this.source.subscribe(Oe(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ti.EMPTY)}return e}refCount(){return wc()(this)}};var Pk=bc(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class i extends De{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let n=new tf(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new Pk}next(t){_c(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(t)}})}error(t){_c(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){_c(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:n,isStopped:r,observers:o}=this;return n||r?s_:(this.currentObservers=null,o.push(t),new ti(()=>{this.currentObservers=null,Ls(o,t)}))}_checkFinalizedStatuses(t){let{hasError:n,thrownError:r,isStopped:o}=this;n?t.error(r):o&&t.complete()}asObservable(){let t=new De;return t.source=this,t}}return i.create=(e,t)=>new tf(e,t),i})(),tf=class extends ut{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.next)===null||n===void 0||n.call(t,e)}error(e){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.error)===null||n===void 0||n.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,n;return(n=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&n!==void 0?n:s_}};var zt=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:n}=this;if(e)throw t;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Tu={now(){return(Tu.delegate||Date).now()},delegate:void 0};var Ic=class extends ut{constructor(e=1/0,t=1/0,n=Tu){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:a}=this;t||(n.push(e),!r&&n.push(o.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let a=0;a<o.length&&!e.closed;a+=n?1:2)e.next(o[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!r){let a=t.now(),l=0;for(let d=1;d<n.length&&n[d]<=a;d+=2)l=d;l&&n.splice(0,l+1)}}};var nf=class extends ti{constructor(e,t){super()}schedule(e,t=0){return this}};var Mu={setInterval(i,e,...t){let{delegate:n}=Mu;return n?.setInterval?n.setInterval(i,e,...t):setInterval(i,e,...t)},clearInterval(i){let{delegate:e}=Mu;return(e?.clearInterval||clearInterval)(i)},delegate:void 0};var rf=class extends nf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,n=0){return Mu.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return t;t!=null&&Mu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,t);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,r;try{this.work(e)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ls(n,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ec=class i{constructor(e,t=i.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}};Ec.now=Tu.now;var of=class extends Ec{constructor(e,t=Ec.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}};var ku=new of(rf),Ok=ku;var Pi=new De(i=>i.complete());function sf(i){return i&&_e(i.schedule)}function g_(i){return i[i.length-1]}function Dc(i){return _e(g_(i))?i.pop():void 0}function Tr(i){return sf(g_(i))?i.pop():void 0}function Nk(i,e){return typeof g_(i)=="number"?i.pop():e}function Sc(i,e,t,n){var r=arguments.length,o=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,n);else for(var l=i.length-1;l>=0;l--)(a=i[l])&&(o=(r<3?a(o):r>3?a(e,t,o):a(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function jk(i,e,t,n){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(m){try{p(n.next(m))}catch(b){a(b)}}function d(m){try{p(n.throw(m))}catch(b){a(b)}}function p(m){m.done?o(m.value):r(m.value).then(l,d)}p((n=n.apply(i,e||[])).next())})}function Lk(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bs(i){return this instanceof Bs?(this.v=i,this):new Bs(i)}function Vk(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),r,o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(w){n[w]&&(r[w]=function(E){return new Promise(function(T,V){o.push([w,E,T,V])>1||l(w,E)})})}function l(w,E){try{d(n[w](E))}catch(T){b(o[0][3],T)}}function d(w){w.value instanceof Bs?Promise.resolve(w.value.v).then(p,m):b(o[0][2],w)}function p(w){l("next",w)}function m(w){l("throw",w)}function b(w,E){w(E),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Bk(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof Lk=="function"?Lk(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=i[o]&&function(a){return new Promise(function(l,d){a=i[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(p){o({value:p,done:l})},a)}}var Tc=i=>i&&typeof i.length=="number"&&typeof i!="function";function af(i){return _e(i?.then)}function cf(i){return _e(i[Cc])}function lf(i){return Symbol.asyncIterator&&_e(i?.[Symbol.asyncIterator])}function uf(i){return new TypeError(`You provided ${i!==null&&typeof i=="object"?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function N3(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var df=N3();function hf(i){return _e(i?.[df])}function pf(i){return Vk(this,arguments,function*(){let t=i.getReader();try{for(;;){let{value:n,done:r}=yield Bs(t.read());if(r)return yield Bs(void 0);yield yield Bs(n)}}finally{t.releaseLock()}})}function ff(i){return _e(i?.getReader)}function dt(i){if(i instanceof De)return i;if(i!=null){if(cf(i))return L3(i);if(Tc(i))return j3(i);if(af(i))return V3(i);if(lf(i))return Hk(i);if(hf(i))return B3(i);if(ff(i))return H3(i)}throw uf(i)}function L3(i){return new De(e=>{let t=i[Cc]();if(_e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function j3(i){return new De(e=>{for(let t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}function V3(i){return new De(e=>{i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Jp)})}function B3(i){return new De(e=>{for(let t of i)if(e.next(t),e.closed)return;e.complete()})}function Hk(i){return new De(e=>{z3(i,e).catch(t=>e.error(t))})}function H3(i){return Hk(pf(i))}function z3(i,e){var t,n,r,o;return jk(this,void 0,void 0,function*(){try{for(t=Bk(i);n=yield t.next(),!n.done;){let a=n.value;if(e.next(a),e.closed)return}}catch(a){r={error:a}}finally{try{n&&!n.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function Yi(i,e,t,n=0,r=!1){let o=e.schedule(function(){t(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function gf(i,e=0){return je((t,n)=>{t.subscribe(Oe(n,r=>Yi(n,i,()=>n.next(r),e),()=>Yi(n,i,()=>n.complete(),e),r=>Yi(n,i,()=>n.error(r),e)))})}function mf(i,e=0){return je((t,n)=>{n.add(i.schedule(()=>t.subscribe(n),e))})}function zk(i,e){return dt(i).pipe(mf(e),gf(e))}function $k(i,e){return dt(i).pipe(mf(e),gf(e))}function Uk(i,e){return new De(t=>{let n=0;return e.schedule(function(){n===i.length?t.complete():(t.next(i[n++]),t.closed||this.schedule())})})}function Wk(i,e){return new De(t=>{let n;return Yi(t,e,()=>{n=i[df](),Yi(t,e,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(a){t.error(a);return}o?t.complete():t.next(r)},0,!0)}),()=>_e(n?.return)&&n.return()})}function vf(i,e){if(!i)throw new Error("Iterable cannot be null");return new De(t=>{Yi(t,e,()=>{let n=i[Symbol.asyncIterator]();Yi(t,e,()=>{n.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Gk(i,e){return vf(pf(i),e)}function qk(i,e){if(i!=null){if(cf(i))return zk(i,e);if(Tc(i))return Uk(i,e);if(af(i))return $k(i,e);if(lf(i))return vf(i,e);if(hf(i))return Wk(i,e);if(ff(i))return Gk(i,e)}throw uf(i)}function St(i,e){return e?qk(i,e):dt(i)}function Ce(...i){let e=Tr(i);return St(i,e)}function Mc(i,e){let t=_e(i)?i:()=>i,n=r=>r.error(t());return new De(e?r=>e.schedule(n,0,r):n)}function m_(i){return!!i&&(i instanceof De||_e(i.lift)&&_e(i.subscribe))}var cr=bc(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function pn(i,e){let t=typeof e=="object";return new Promise((n,r)=>{let o=new ar({next:a=>{n(a),o.unsubscribe()},error:r,complete:()=>{t?n(e.defaultValue):r(new cr)}});i.subscribe(o)})}function Zk(i){return i instanceof Date&&!isNaN(i)}function Ve(i,e){return je((t,n)=>{let r=0;t.subscribe(Oe(n,o=>{n.next(i.call(e,o,r++))}))})}var{isArray:$3}=Array;function U3(i,e){return $3(e)?i(...e):i(e)}function kc(i){return Ve(e=>U3(i,e))}var{isArray:W3}=Array,{getPrototypeOf:G3,prototype:q3,keys:Z3}=Object;function bf(i){if(i.length===1){let e=i[0];if(W3(e))return{args:e,keys:null};if(K3(e)){let t=Z3(e);return{args:t.map(n=>e[n]),keys:t}}}return{args:i,keys:null}}function K3(i){return i&&typeof i=="object"&&G3(i)===q3}function yf(i,e){return i.reduce((t,n,r)=>(t[n]=e[r],t),{})}function Mr(...i){let e=Tr(i),t=Dc(i),{args:n,keys:r}=bf(i);if(n.length===0)return St([],e);let o=new De(Y3(n,e,r?a=>yf(r,a):Bi));return t?o.pipe(kc(t)):o}function Y3(i,e,t=Bi){return n=>{Kk(e,()=>{let{length:r}=i,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)Kk(e,()=>{let p=St(i[d],e),m=!1;p.subscribe(Oe(n,b=>{o[d]=b,m||(m=!0,l--),l||n.next(t(o.slice()))},()=>{--a||n.complete()}))},n)},n)}}function Kk(i,e,t){i?Yi(t,i,e):e()}function Yk(i,e,t,n,r,o,a,l){let d=[],p=0,m=0,b=!1,w=()=>{b&&!d.length&&!p&&e.complete()},E=V=>p<n?T(V):d.push(V),T=V=>{o&&e.next(V),p++;let A=!1;dt(t(V,m++)).subscribe(Oe(e,$=>{r?.($),o?E($):e.next($)},()=>{A=!0},void 0,()=>{if(A)try{for(p--;d.length&&p<n;){let $=d.shift();a?Yi(e,a,()=>T($)):T($)}w()}catch($){e.error($)}}))};return i.subscribe(Oe(e,E,()=>{b=!0,w()})),()=>{l?.()}}function Nt(i,e,t=1/0){return _e(e)?Nt((n,r)=>Ve((o,a)=>e(n,o,r,a))(dt(i(n,r))),t):(typeof e=="number"&&(t=e),je((n,r)=>Yk(n,r,i,t)))}function Lo(i=1/0){return Nt(Bi,i)}function Qk(){return Lo(1)}function jo(...i){return Qk()(St(i,Tr(i)))}function _f(i){return new De(e=>{dt(i()).subscribe(e)})}function Au(...i){let e=Dc(i),{args:t,keys:n}=bf(i),r=new De(o=>{let{length:a}=t;if(!a){o.complete();return}let l=new Array(a),d=a,p=a;for(let m=0;m<a;m++){let b=!1;dt(t[m]).subscribe(Oe(o,w=>{b||(b=!0,p--),l[m]=w},()=>d--,void 0,()=>{(!d||!b)&&(p||o.next(n?yf(n,l):l),o.complete())}))}});return e?r.pipe(kc(e)):r}var Q3=["addListener","removeListener"],X3=["addEventListener","removeEventListener"],J3=["on","off"];function no(i,e,t,n){if(_e(t)&&(n=t,t=void 0),n)return no(i,e,t).pipe(kc(n));let[r,o]=iB(i)?X3.map(a=>l=>i[a](e,l,t)):eB(i)?Q3.map(Xk(i,e)):tB(i)?J3.map(Xk(i,e)):[];if(!r&&Tc(i))return Nt(a=>no(a,e,t))(dt(i));if(!r)throw new TypeError("Invalid event target");return new De(a=>{let l=(...d)=>a.next(1<d.length?d:d[0]);return r(l),()=>o(l)})}function Xk(i,e){return t=>n=>i[t](e,n)}function eB(i){return _e(i.addListener)&&_e(i.removeListener)}function tB(i){return _e(i.on)&&_e(i.off)}function iB(i){return _e(i.addEventListener)&&_e(i.removeEventListener)}function Nn(i=0,e,t=Ok){let n=-1;return e!=null&&(sf(e)?t=e:n=e),new De(r=>{let o=Zk(i)?+i-t.now():i;o<0&&(o=0);let a=0;return t.schedule(function(){r.closed||(r.next(a++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function v_(...i){let e=Tr(i),t=Nk(i,1/0),n=i;return n.length?n.length===1?dt(n[0]):Lo(t)(St(n,e)):Pi}var{isArray:nB}=Array;function Jk(i){return i.length===1&&nB(i[0])?i[0]:i}function ci(i,e){return je((t,n)=>{let r=0;t.subscribe(Oe(n,o=>i.call(e,o,r++)&&n.next(o)))})}function b_(...i){let e=Dc(i),t=Jk(i);return t.length?new De(n=>{let r=t.map(()=>[]),o=t.map(()=>!1);n.add(()=>{r=o=null});for(let a=0;!n.closed&&a<t.length;a++)dt(t[a]).subscribe(Oe(n,l=>{if(r[a].push(l),r.every(d=>d.length)){let d=r.map(p=>p.shift());n.next(e?e(...d):d),r.some((p,m)=>!p.length&&o[m])&&n.complete()}},()=>{o[a]=!0,!r[a].length&&n.complete()}));return()=>{r=o=null}}):Pi}function Vo(i){return je((e,t)=>{let n=null,r=!1,o;n=e.subscribe(Oe(t,void 0,void 0,a=>{o=dt(i(a,Vo(i)(e))),n?(n.unsubscribe(),n=null,o.subscribe(t)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(t))})}function eA(i,e,t,n,r){return(o,a)=>{let l=t,d=e,p=0;o.subscribe(Oe(a,m=>{let b=p++;d=l?i(d,m,b):(l=!0,m),n&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function ro(i,e){return _e(e)?Nt(i,e,1):Nt(i,1)}function Ru(i,e=ku){return je((t,n)=>{let r=null,o=null,a=null,l=()=>{if(r){r.unsubscribe(),r=null;let p=o;o=null,n.next(p)}};function d(){let p=a+i,m=e.now();if(m<p){r=this.schedule(void 0,p-m),n.add(r);return}l()}t.subscribe(Oe(n,p=>{o=p,a=e.now(),r||(r=e.schedule(d,i),n.add(r))},()=>{l(),n.complete()},void 0,()=>{o=r=null}))})}function Bo(i){return je((e,t)=>{let n=!1;e.subscribe(Oe(t,r=>{n=!0,t.next(r)},()=>{n||t.next(i),t.complete()}))})}function fn(i){return i<=0?()=>Pi:je((e,t)=>{let n=0;e.subscribe(Oe(t,r=>{++n<=i&&(t.next(r),i<=n&&t.complete())}))})}function y_(i){return Ve(()=>i)}function Fu(i,e=Bi){return i=i??rB,je((t,n)=>{let r,o=!0;t.subscribe(Oe(n,a=>{let l=e(a);(o||!i(r,l))&&(o=!1,r=l,n.next(a))}))})}function rB(i,e){return i===e}function Cf(i=oB){return je((e,t)=>{let n=!1;e.subscribe(Oe(t,r=>{n=!0,t.next(r)},()=>n?t.complete():t.error(i())))})}function oB(){return new cr}function Ho(i){return je((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}function kr(i,e){let t=arguments.length>=2;return n=>n.pipe(i?ci((r,o)=>i(r,o,n)):Bi,fn(1),t?Bo(e):Cf(()=>new cr))}function Ac(i){return i<=0?()=>Pi:je((e,t)=>{let n=[];e.subscribe(Oe(t,r=>{n.push(r),i<n.length&&n.shift()},()=>{for(let r of n)t.next(r);t.complete()},void 0,()=>{n=null}))})}function __(i,e){let t=arguments.length>=2;return n=>n.pipe(i?ci((r,o)=>i(r,o,n)):Bi,Ac(1),t?Bo(e):Cf(()=>new cr))}var C_=Nt;function w_(i,e){return je(eA(i,e,arguments.length>=2,!0))}function I_(i={}){let{connector:e=()=>new ut,resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=i;return o=>{let a,l,d,p=0,m=!1,b=!1,w=()=>{l?.unsubscribe(),l=void 0},E=()=>{w(),a=d=void 0,m=b=!1},T=()=>{let V=a;E(),V?.unsubscribe()};return je((V,A)=>{p++,!b&&!m&&w();let $=d=d??e();A.add(()=>{p--,p===0&&!b&&!m&&(l=x_(T,r))}),$.subscribe(A),!a&&p>0&&(a=new ar({next:ce=>$.next(ce),error:ce=>{b=!0,w(),l=x_(E,t,ce),$.error(ce)},complete:()=>{m=!0,w(),l=x_(E,n),$.complete()}}),dt(V).subscribe(a))})(o)}}function x_(i,e,...t){if(e===!0){i();return}if(e===!1)return;let n=new ar({next:()=>{n.unsubscribe(),i()}});return dt(e(...t)).subscribe(n)}function Rc(i){return ci((e,t)=>i<=t)}function Pu(...i){let e=Tr(i);return je((t,n)=>{(e?jo(i,t,e):jo(i,t)).subscribe(n)})}function Oi(i,e){return je((t,n)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&n.complete();t.subscribe(Oe(n,d=>{r?.unsubscribe();let p=0,m=o++;dt(i(d,m)).subscribe(r=Oe(n,b=>n.next(e?e(d,b,m,p++):b),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function We(i){return je((e,t)=>{dt(i).subscribe(Oe(t,()=>t.complete(),Su)),!t.closed&&e.subscribe(t)})}function li(i,e,t){let n=_e(i)||e||t?{next:i,error:e,complete:t}:i;return n?je((r,o)=>{var a;(a=n.subscribe)===null||a===void 0||a.call(n);let l=!0;r.subscribe(Oe(o,d=>{var p;(p=n.next)===null||p===void 0||p.call(n,d),o.next(d)},()=>{var d;l=!1,(d=n.complete)===null||d===void 0||d.call(n),o.complete()},d=>{var p;l=!1,(p=n.error)===null||p===void 0||p.call(n,d),o.error(d)},()=>{var d,p;l&&((d=n.unsubscribe)===null||d===void 0||d.call(n)),(p=n.finalize)===null||p===void 0||p.call(n)}))}):Bi}function tA(i,e){return je((t,n)=>{let{leading:r=!0,trailing:o=!1}=e??{},a=!1,l=null,d=null,p=!1,m=()=>{d?.unsubscribe(),d=null,o&&(E(),p&&n.complete())},b=()=>{d=null,p&&n.complete()},w=T=>d=dt(i(T)).subscribe(Oe(n,m,b)),E=()=>{if(a){a=!1;let T=l;l=null,n.next(T),!p&&w(T)}};t.subscribe(Oe(n,T=>{a=!0,l=T,!(d&&!d.closed)&&(r?E():w(T))},()=>{p=!0,!(o&&a&&d&&!d.closed)&&n.complete()}))})}function E_(i,e=ku,t){let n=Nn(i,e);return tA(()=>n,t)}function Tt(i){for(let e in i)if(i[e]===Tt)return e;throw Error("Could not find renamed property on target object.")}function wf(i,e){for(let t in e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=e[t])}function Ni(i){if(typeof i=="string")return i;if(Array.isArray(i))return"["+i.map(Ni).join(", ")+"]";if(i==null)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;let e=i.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function H_(i,e){return i==null||i===""?e===null?"":e:e==null||e===""?i:i+" "+e}var sB=Tt({__forward_ref__:Tt});function Ln(i){return i.__forward_ref__=Ln,i.toString=function(){return Ni(this())},i}function Hi(i){return WA(i)?i():i}function WA(i){return typeof i=="function"&&i.hasOwnProperty(sB)&&i.__forward_ref__===Ln}function GA(i){return i&&!!i.\u0275providers}var qA="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,t){super(rg(e,t)),this.code=e}};function rg(i,e){return`${`NG0${Math.abs(i)}`}${e?": "+e:""}`}var aB=Tt({\u0275cmp:Tt}),cB=Tt({\u0275dir:Tt}),lB=Tt({\u0275pipe:Tt}),uB=Tt({\u0275mod:Tt}),Nf=Tt({\u0275fac:Tt}),Ou=Tt({__NG_ELEMENT_ID__:Tt}),iA=Tt({__NG_ENV_ID__:Tt});function Wu(i){return typeof i=="string"?i:i==null?"":String(i)}function dB(i){return typeof i=="function"?i.name||i.toString():typeof i=="object"&&i!=null&&typeof i.type=="function"?i.type.name||i.type.toString():Wu(i)}function hB(i,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${i}`:"";throw new Z(-200,`Circular dependency in DI detected for ${i}${t}`)}function UC(i,e){let t=e?` in ${e}`:"";throw new Z(-201,!1)}function pB(i,e){i==null&&fB(e,i,null,"!=")}function fB(i,e,t,n){throw new Error(`ASSERTION ERROR: ${i}`+(n==null?"":` [Expected=> ${t} ${n} ${e} <=Actual]`))}function N(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function G(i){return{providers:i.providers||[],imports:i.imports||[]}}function og(i){return nA(i,KA)||nA(i,YA)}function ZA(i){return og(i)!==null}function nA(i,e){return i.hasOwnProperty(e)?i[e]:null}function gB(i){let e=i&&(i[KA]||i[YA]);return e||null}function rA(i){return i&&(i.hasOwnProperty(oA)||i.hasOwnProperty(mB))?i[oA]:null}var KA=Tt({\u0275prov:Tt}),oA=Tt({\u0275inj:Tt}),YA=Tt({ngInjectableDef:Tt}),mB=Tt({ngInjectorDef:Tt}),Xe=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(Xe||{}),z_;function QA(){return z_}function Qi(i){let e=z_;return z_=i,e}function XA(i,e,t){let n=og(i);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(t&Xe.Optional)return null;if(e!==void 0)return e;UC(Ni(i),"Injector")}var qt=globalThis;var ie=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var vB={},Lu=vB,$_="__NG_DI_FLAG__",Lf="ngTempTokenPath",bB="ngTokenPath",yB=/\n/gm,_B="\u0275",sA="__source",Lc;function CB(){return Lc}function zo(i){let e=Lc;return Lc=i,e}function wB(i,e=Xe.Default){if(Lc===void 0)throw new Z(-203,!1);return Lc===null?XA(i,void 0,e):Lc.get(i,e&Xe.Optional?null:void 0,e)}function M(i,e=Xe.Default){return(QA()||wB)(Hi(i),e)}function B(i,e=Xe.Default){return M(i,sg(e))}function sg(i){return typeof i>"u"||typeof i=="number"?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function U_(i){let e=[];for(let t=0;t<i.length;t++){let n=Hi(i[t]);if(Array.isArray(n)){if(n.length===0)throw new Z(900,!1);let r,o=Xe.Default;for(let a=0;a<n.length;a++){let l=n[a],d=xB(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}e.push(M(r,o))}else e.push(M(n))}return e}function JA(i,e){return i[$_]=e,i.prototype[$_]=e,i}function xB(i){return i[$_]}function IB(i,e,t,n){let r=i[Lf];throw e[sA]&&r.unshift(e[sA]),i.message=EB(`
`+i.message,r,t,n),i[bB]=r,i[Lf]=null,i}function EB(i,e,t,n=null){i=i&&i.charAt(0)===`
`&&i.charAt(1)==_B?i.slice(2):i;let r=Ni(e);if(Array.isArray(e))r=e.map(Ni).join(" -> ");else if(typeof e=="object"){let o=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];o.push(a+":"+(typeof l=="string"?JSON.stringify(l):Ni(l)))}r=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${r}]: ${i.replace(yB,`
  `)}`}function Gu(i){return{toString:i}.toString()}var eR=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(eR||{}),Pr=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Pr||{}),Vc={},Xi=[];function tR(i,e,t){let n=i.length;for(;;){let r=i.indexOf(e,t);if(r===-1)return r;if(r===0||i.charCodeAt(r-1)<=32){let o=e.length;if(r+o===n||i.charCodeAt(r+o)<=32)return r}t=r+1}}function W_(i,e,t){let n=0;for(;n<t.length;){let r=t[n];if(typeof r=="number"){if(r!==0)break;n++;let o=t[n++],a=t[n++],l=t[n++];i.setAttribute(e,a,l,o)}else{let o=r,a=t[++n];DB(o)?i.setProperty(e,o,a):i.setAttribute(e,o,a),n++}}return n}function iR(i){return i===3||i===4||i===6}function DB(i){return i.charCodeAt(0)===64}function ju(i,e){if(!(e===null||e.length===0))if(i===null||i.length===0)i=e.slice();else{let t=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?t=r:t===0||(t===-1||t===2?aA(i,t,r,null,e[++n]):aA(i,t,r,null,null))}}return i}function aA(i,e,t,n,r){let o=0,a=i.length;if(e===-1)a=-1;else for(;o<i.length;){let l=i[o++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=o-1;break}}}for(;o<i.length;){let l=i[o];if(typeof l=="number")break;if(l===t){if(n===null){r!==null&&(i[o+1]=r);return}else if(n===i[o+1]){i[o+2]=r;return}}o++,n!==null&&o++,r!==null&&o++}a!==-1&&(i.splice(a,0,e),o=a+1),i.splice(o++,0,t),n!==null&&i.splice(o++,0,n),r!==null&&i.splice(o++,0,r)}var nR="ng-template";function SB(i,e,t){let n=0,r=!0;for(;n<i.length;){let o=i[n++];if(typeof o=="string"&&r){let a=i[n++];if(t&&o==="class"&&tR(a.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;n<i.length&&typeof(o=i[n++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function rR(i){return i.type===4&&i.value!==nR}function TB(i,e,t){let n=i.type===4&&!t?nR:i.value;return e===n}function MB(i,e,t){let n=4,r=i.attrs||[],o=RB(r),a=!1;for(let l=0;l<e.length;l++){let d=e[l];if(typeof d=="number"){if(!a&&!lr(n)&&!lr(d))return!1;if(a&&lr(d))continue;a=!1,n=d|n&1;continue}if(!a)if(n&4){if(n=2|n&1,d!==""&&!TB(i,d,t)||d===""&&e.length===1){if(lr(n))return!1;a=!0}}else{let p=n&8?d:e[++l];if(n&8&&i.attrs!==null){if(!SB(i.attrs,p,t)){if(lr(n))return!1;a=!0}continue}let m=n&8?"class":d,b=kB(m,r,rR(i),t);if(b===-1){if(lr(n))return!1;a=!0;continue}if(p!==""){let w;b>o?w="":w=r[b+1].toLowerCase();let E=n&8?w:null;if(E&&tR(E,p,0)!==-1||n&2&&p!==w){if(lr(n))return!1;a=!0}}}}return lr(n)||a}function lr(i){return(i&1)===0}function kB(i,e,t,n){if(e===null)return-1;let r=0;if(n||!t){let o=!1;for(;r<e.length;){let a=e[r];if(a===i)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return FB(e,i)}function oR(i,e,t=!1){for(let n=0;n<e.length;n++)if(MB(i,e[n],t))return!0;return!1}function AB(i){let e=i.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function RB(i){for(let e=0;e<i.length;e++){let t=i[e];if(iR(t))return e}return i.length}function FB(i,e){let t=i.indexOf(4);if(t>-1)for(t++;t<i.length;){let n=i[t];if(typeof n=="number")return-1;if(n===e)return t;t++}return-1}function PB(i,e){e:for(let t=0;t<e.length;t++){let n=e[t];if(i.length===n.length){for(let r=0;r<i.length;r++)if(i[r]!==n[r])continue e;return!0}}return!1}function cA(i,e){return i?":not("+e.trim()+")":e}function OB(i){let e=i[0],t=1,n=2,r="",o=!1;for(;t<i.length;){let a=i[t];if(typeof a=="string")if(n&2){let l=i[++t];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else n&8?r+="."+a:n&4&&(r+=" "+a);else r!==""&&!lr(a)&&(e+=cA(o,r),r=""),n=a,o=o||!lr(n);t++}return r!==""&&(e+=cA(o,r)),e}function NB(i){return i.map(OB).join(",")}function LB(i){let e=[],t=[],n=1,r=2;for(;n<i.length;){let o=i[n];if(typeof o=="string")r===2?o!==""&&e.push(o,i[++n]):r===8&&t.push(o);else{if(!lr(r))break;r=o}n++}return{attrs:e,classes:t}}function z(i){return Gu(()=>{let e=uR(i),t=xt(X({},e),{decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===eR.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Pr.Emulated,styles:i.styles||Xi,_:null,schemas:i.schemas||null,tView:null,id:""});dR(t);let n=i.dependencies;return t.directiveDefs=uA(n,!1),t.pipeDefs=uA(n,!0),t.id=BB(t),t})}function jB(i){return Wo(i)||sR(i)}function VB(i){return i!==null}function q(i){return Gu(()=>({type:i.type,bootstrap:i.bootstrap||Xi,declarations:i.declarations||Xi,imports:i.imports||Xi,exports:i.exports||Xi,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function lA(i,e){if(i==null)return Vc;let t={};for(let n in i)if(i.hasOwnProperty(n)){let r=i[n],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=n,e&&(e[r]=o)}return t}function ne(i){return Gu(()=>{let e=uR(i);return dR(e),e})}function Xs(i){return{type:i.type,name:i.name,factory:null,pure:i.pure!==!1,standalone:i.standalone===!0,onDestroy:i.type.prototype.ngOnDestroy||null}}function Wo(i){return i[aB]||null}function sR(i){return i[cB]||null}function aR(i){return i[lB]||null}function cR(i){let e=Wo(i)||sR(i)||aR(i);return e!==null?e.standalone:!1}function lR(i,e){let t=i[uB]||null;if(!t&&e===!0)throw new Error(`Type ${Ni(i)} does not have '\u0275mod' property.`);return t}function uR(i){let e={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:i.inputs||Vc,exportAs:i.exportAs||null,standalone:i.standalone===!0,signals:i.signals===!0,selectors:i.selectors||Xi,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lA(i.inputs,e),outputs:lA(i.outputs),debugInfo:null}}function dR(i){i.features?.forEach(e=>e(i))}function uA(i,e){if(!i)return null;let t=e?aR:jB;return()=>(typeof i=="function"?i():i).map(n=>t(n)).filter(VB)}function BB(i){let e=0,t=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var ao=0,Ye=1,Fe=2,ii=3,ur=4,mn=5,Vu=6,Bu=7,dr=8,Bc=9,Hc=10,Vt=11,Hu=12,dA=13,Kc=14,hr=15,qu=16,Fc=17,Fr=18,ag=19,hR=20,$o=21,D_=22,$s=23,Ji=25,pR=1;var Us=7,jf=8,zc=9,gn=10,$c=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i[i.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",i}($c||{});function Uo(i){return Array.isArray(i)&&typeof i[pR]=="object"}function pr(i){return Array.isArray(i)&&i[pR]===!0}function WC(i){return(i.flags&4)!==0}function cg(i){return i.componentOffset>-1}function lg(i){return(i.flags&1)===1}function Go(i){return!!i.template}function HB(i){return(i[Fe]&512)!==0}function Ws(i,e){let t=i.hasOwnProperty(Nf);return t?i[Nf]:null}var G_=class{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}};function le(){return fR}function fR(i){return i.type.prototype.ngOnChanges&&(i.setInput=$B),zB}le.ngInherit=!0;function zB(){let i=mR(this),e=i?.current;if(e){let t=i.previous;if(t===Vc)i.previous=e;else for(let n in e)t[n]=e[n];i.current=null,this.ngOnChanges(e)}}function $B(i,e,t,n){let r=this.declaredInputs[t],o=mR(i)||UB(i,{previous:Vc,current:null}),a=o.current||(o.current={}),l=o.previous,d=l[r];a[r]=new G_(d&&d.currentValue,e,l===Vc),i[n]=e}var gR="__ngSimpleChanges__";function mR(i){return i[gR]||null}function UB(i,e){return i[gR]=e}var hA=null;var Ar=function(i,e,t){hA?.(i,e,t)},vR="svg",WB="math";function Or(i){for(;Array.isArray(i);)i=i[ao];return i}function bR(i,e){return Or(e[i])}function jn(i,e){return Or(e[i.index])}function yR(i,e){return i.data[e]}function GC(i,e){return i[e]}function Yo(i,e){let t=e[i];return Uo(t)?t:t[ao]}function GB(i){return(i[Fe]&4)===4}function qC(i){return(i[Fe]&128)===128}function qB(i){return pr(i[ii])}function Uc(i,e){return e==null?null:i[e]}function _R(i){i[Fc]=0}function ZB(i){i[Fe]&1024||(i[Fe]|=1024,qC(i)&&ug(i))}function KB(i,e){for(;i>0;)e=e[Kc],i--;return e}function CR(i){return i[Fe]&9216||i[$s]?.dirty}function wR(i){CR(i)&&ug(i)}function ug(i){let e=i[ii];for(;e!==null&&!(pr(e)&&e[Fe]&$c.HasChildViewsToRefresh||Uo(e)&&e[Fe]&8192);){if(pr(e))e[Fe]|=$c.HasChildViewsToRefresh;else if(e[Fe]|=8192,!qC(e))break;e=e[ii]}}function xR(i,e){if((i[Fe]&256)===256)throw new Z(911,!1);i[$o]===null&&(i[$o]=[]),i[$o].push(e)}function YB(i,e){if(i[$o]===null)return;let t=i[$o].indexOf(e);t!==-1&&i[$o].splice(t,1)}var He={lFrame:AR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function QB(){return He.lFrame.elementDepthCount}function XB(){He.lFrame.elementDepthCount++}function JB(){He.lFrame.elementDepthCount--}function IR(){return He.bindingsEnabled}function ER(){return He.skipHydrationRootTNode!==null}function e4(i){return He.skipHydrationRootTNode===i}function t4(){He.skipHydrationRootTNode=null}function qe(){return He.lFrame.lView}function Zt(){return He.lFrame.tView}function pe(i){return He.lFrame.contextLView=i,i[dr]}function fe(i){return He.lFrame.contextLView=null,i}function $i(){let i=DR();for(;i!==null&&i.type===64;)i=i.parent;return i}function DR(){return He.lFrame.currentTNode}function i4(){let i=He.lFrame,e=i.currentTNode;return i.isParent?e:e.parent}function Js(i,e){let t=He.lFrame;t.currentTNode=i,t.isParent=e}function ZC(){return He.lFrame.isParent}function KC(){He.lFrame.isParent=!1}function n4(){return He.lFrame.contextLView}function Yc(){let i=He.lFrame,e=i.bindingRootIndex;return e===-1&&(e=i.bindingRootIndex=i.tView.bindingStartIndex),e}function r4(i){return He.lFrame.bindingIndex=i}function dg(){return He.lFrame.bindingIndex++}function SR(i){let e=He.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+i,t}function o4(){return He.lFrame.inI18n}function s4(i,e){let t=He.lFrame;t.bindingIndex=t.bindingRootIndex=i,q_(e)}function a4(){return He.lFrame.currentDirectiveIndex}function q_(i){He.lFrame.currentDirectiveIndex=i}function c4(i){let e=He.lFrame.currentDirectiveIndex;return e===-1?null:i[e]}function TR(){return He.lFrame.currentQueryIndex}function YC(i){He.lFrame.currentQueryIndex=i}function l4(i){let e=i[Ye];return e.type===2?e.declTNode:e.type===1?i[mn]:null}function MR(i,e,t){if(t&Xe.SkipSelf){let r=e,o=i;for(;r=r.parent,r===null&&!(t&Xe.Host);)if(r=l4(o),r===null||(o=o[Kc],r.type&10))break;if(r===null)return!1;e=r,i=o}let n=He.lFrame=kR();return n.currentTNode=e,n.lView=i,!0}function QC(i){let e=kR(),t=i[Ye];He.lFrame=e,e.currentTNode=t.firstChild,e.lView=i,e.tView=t,e.contextLView=i,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function kR(){let i=He.lFrame,e=i===null?null:i.child;return e===null?AR(i):e}function AR(i){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return i!==null&&(i.child=e),e}function RR(){let i=He.lFrame;return He.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}var FR=RR;function XC(){let i=RR();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function u4(i){return(He.lFrame.contextLView=KB(i,He.lFrame.contextLView))[dr]}function ea(){return He.lFrame.selectedIndex}function Gs(i){He.lFrame.selectedIndex=i}function hg(){let i=He.lFrame;return yR(i.tView,i.selectedIndex)}function Ui(){He.lFrame.currentNamespace=vR}function pg(){d4()}function d4(){He.lFrame.currentNamespace=null}function h4(){return He.lFrame.currentNamespace}var PR=!0;function fg(){return PR}function gg(i){PR=i}function p4(i,e,t){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(n){let a=fR(e);(t.preOrderHooks??=[]).push(i,a),(t.preOrderCheckHooks??=[]).push(i,a)}r&&(t.preOrderHooks??=[]).push(0-i,r),o&&((t.preOrderHooks??=[]).push(i,o),(t.preOrderCheckHooks??=[]).push(i,o))}function mg(i,e){for(let t=e.directiveStart,n=e.directiveEnd;t<n;t++){let o=i.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:m}=o;a&&(i.contentHooks??=[]).push(-t,a),l&&((i.contentHooks??=[]).push(t,l),(i.contentCheckHooks??=[]).push(t,l)),d&&(i.viewHooks??=[]).push(-t,d),p&&((i.viewHooks??=[]).push(t,p),(i.viewCheckHooks??=[]).push(t,p)),m!=null&&(i.destroyHooks??=[]).push(t,m)}}function kf(i,e,t){OR(i,e,3,t)}function Af(i,e,t,n){(i[Fe]&3)===t&&OR(i,e,t,n)}function S_(i,e){let t=i[Fe];(t&3)===e&&(t&=16383,t+=1,i[Fe]=t)}function OR(i,e,t,n){let r=n!==void 0?i[Fc]&65535:0,o=n??-1,a=e.length-1,l=0;for(let d=r;d<a;d++)if(typeof e[d+1]=="number"){if(l=e[d],n!=null&&l>=n)break}else e[d]<0&&(i[Fc]+=65536),(l<o||o==-1)&&(f4(i,t,e,d),i[Fc]=(i[Fc]&4294901760)+d+2),d++}function pA(i,e){Ar(4,i,e);let t=hn(null);try{e.call(i)}finally{hn(t),Ar(5,i,e)}}function f4(i,e,t,n){let r=t[n]<0,o=t[n+1],a=r?-t[n]:t[n],l=i[a];r?i[Fe]>>14<i[Fc]>>16&&(i[Fe]&3)===e&&(i[Fe]+=16384,pA(l,o)):pA(l,o)}var jc=-1,qs=class{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}};function g4(i){return i instanceof qs}function m4(i){return(i.flags&8)!==0}function v4(i){return(i.flags&16)!==0}function NR(i){return i!==jc}function Vf(i){let e=i&32767;return i&32767}function b4(i){return i>>16}function Bf(i,e){let t=b4(i),n=e;for(;t>0;)n=n[Kc],t--;return n}var Z_=!0;function Hf(i){let e=Z_;return Z_=i,e}var y4=256,LR=y4-1,jR=5,_4=0,Rr={};function C4(i,e,t){let n;typeof t=="string"?n=t.charCodeAt(0)||0:t.hasOwnProperty(Ou)&&(n=t[Ou]),n==null&&(n=t[Ou]=_4++);let r=n&LR,o=1<<r;e.data[i+(r>>jR)]|=o}function zf(i,e){let t=VR(i,e);if(t!==-1)return t;let n=e[Ye];n.firstCreatePass&&(i.injectorIndex=e.length,T_(n.data,i),T_(e,null),T_(n.blueprint,null));let r=JC(i,e),o=i.injectorIndex;if(NR(r)){let a=Vf(r),l=Bf(r,e),d=l[Ye].data;for(let p=0;p<8;p++)e[o+p]=l[a+p]|d[a+p]}return e[o+8]=r,o}function T_(i,e){i.push(0,0,0,0,0,0,0,0,e)}function VR(i,e){return i.injectorIndex===-1||i.parent&&i.parent.injectorIndex===i.injectorIndex||e[i.injectorIndex+8]===null?-1:i.injectorIndex}function JC(i,e){if(i.parent&&i.parent.injectorIndex!==-1)return i.parent.injectorIndex;let t=0,n=null,r=e;for(;r!==null;){if(n=UR(r),n===null)return jc;if(t++,r=r[Kc],n.injectorIndex!==-1)return n.injectorIndex|t<<16}return jc}function K_(i,e,t){C4(i,e,t)}function w4(i,e){if(e==="class")return i.classes;if(e==="style")return i.styles;let t=i.attrs;if(t){let n=t.length,r=0;for(;r<n;){let o=t[r];if(iR(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<n&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function BR(i,e,t){if(t&Xe.Optional||i!==void 0)return i;UC(e,"NodeInjector")}function HR(i,e,t,n){if(t&Xe.Optional&&n===void 0&&(n=null),!(t&(Xe.Self|Xe.Host))){let r=i[Bc],o=Qi(void 0);try{return r?r.get(e,n,t&Xe.Optional):XA(e,n,t&Xe.Optional)}finally{Qi(o)}}return BR(n,e,t)}function zR(i,e,t,n=Xe.Default,r){if(i!==null){if(e[Fe]&2048&&!(n&Xe.Self)){let a=D4(i,e,t,n,Rr);if(a!==Rr)return a}let o=$R(i,e,t,n,Rr);if(o!==Rr)return o}return HR(e,t,n,r)}function $R(i,e,t,n,r){let o=I4(t);if(typeof o=="function"){if(!MR(e,i,n))return n&Xe.Host?BR(r,t,n):HR(e,t,n,r);try{let a;if(a=o(n),a==null&&!(n&Xe.Optional))UC(t);else return a}finally{FR()}}else if(typeof o=="number"){let a=null,l=VR(i,e),d=jc,p=n&Xe.Host?e[hr][mn]:null;for((l===-1||n&Xe.SkipSelf)&&(d=l===-1?JC(i,e):e[l+8],d===jc||!gA(n,!1)?l=-1:(a=e[Ye],l=Vf(d),e=Bf(d,e)));l!==-1;){let m=e[Ye];if(fA(o,l,m.data)){let b=x4(l,e,t,a,n,p);if(b!==Rr)return b}d=e[l+8],d!==jc&&gA(n,e[Ye].data[l+8]===p)&&fA(o,l,e)?(a=m,l=Vf(d),e=Bf(d,e)):l=-1}}return r}function x4(i,e,t,n,r,o){let a=e[Ye],l=a.data[i+8],d=n==null?cg(l)&&Z_:n!=a&&(l.type&3)!==0,p=r&Xe.Host&&o===l,m=Rf(l,a,t,d,p);return m!==null?Zs(e,a,m,l):Rr}function Rf(i,e,t,n,r){let o=i.providerIndexes,a=e.data,l=o&1048575,d=i.directiveStart,p=i.directiveEnd,m=o>>20,b=n?l:l+m,w=r?l+m:p;for(let E=b;E<w;E++){let T=a[E];if(E<d&&t===T||E>=d&&T.type===t)return E}if(r){let E=a[d];if(E&&Go(E)&&E.type===t)return d}return null}function Zs(i,e,t,n){let r=i[t],o=e.data;if(g4(r)){let a=r;a.resolving&&hB(dB(o[t]));let l=Hf(a.canSeeViewProviders);a.resolving=!0;let d,p=a.injectImpl?Qi(a.injectImpl):null,m=MR(i,n,Xe.Default);try{r=i[t]=a.factory(void 0,o,i,n),e.firstCreatePass&&t>=n.directiveStart&&p4(t,o[t],e)}finally{p!==null&&Qi(p),Hf(l),a.resolving=!1,FR()}}return r}function I4(i){if(typeof i=="string")return i.charCodeAt(0)||0;let e=i.hasOwnProperty(Ou)?i[Ou]:void 0;return typeof e=="number"?e>=0?e&LR:E4:e}function fA(i,e,t){let n=1<<i;return!!(t[e+(i>>jR)]&n)}function gA(i,e){return!(i&Xe.Self)&&!(i&Xe.Host&&e)}var zs=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,n){return zR(this._tNode,this._lView,e,sg(n),t)}};function E4(){return new zs($i(),qe())}function $t(i){return Gu(()=>{let e=i.prototype.constructor,t=e[Nf]||Y_(e),n=Object.prototype,r=Object.getPrototypeOf(i.prototype).constructor;for(;r&&r!==n;){let o=r[Nf]||Y_(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Y_(i){return WA(i)?()=>{let e=Y_(Hi(i));return e&&e()}:Ws(i)}function D4(i,e,t,n,r){let o=i,a=e;for(;o!==null&&a!==null&&a[Fe]&2048&&!(a[Fe]&512);){let l=$R(o,a,t,n|Xe.Self,Rr);if(l!==Rr)return l;let d=o.parent;if(!d){let p=a[hR];if(p){let m=p.get(t,Rr,n);if(m!==Rr)return m}d=UR(a),a=a[Kc]}o=d}return r}function UR(i){let e=i[Ye],t=e.type;return t===2?e.declTNode:t===1?i[mn]:null}function Qc(i){return w4($i(),i)}var xf="__parameters__";function S4(i){return function(...t){if(i){let n=i(...t);for(let r in n)this[r]=n[r]}}}function WR(i,e,t){return Gu(()=>{let n=S4(e);function r(...o){if(this instanceof r)return n.apply(this,o),this;let a=new r(...o);return l.annotation=a,l;function l(d,p,m){let b=d.hasOwnProperty(xf)?d[xf]:Object.defineProperty(d,xf,{value:[]})[xf];for(;b.length<=m;)b.push(null);return(b[m]=b[m]||[]).push(a),d}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=i,r.annotationCls=r,r})}function T4(i){let e=qt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function M4(i){return typeof i=="function"}function k4(i,e,t){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++){let r=i[n],o=e[n];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function A4(i){return i.flat(Number.POSITIVE_INFINITY)}function ew(i,e){i.forEach(t=>Array.isArray(t)?ew(t,e):e(t))}function GR(i,e,t){e>=i.length?i.push(t):i.splice(e,0,t)}function $f(i,e){return e>=i.length-1?i.pop():i.splice(e,1)[0]}function qR(i,e){let t=[];for(let n=0;n<i;n++)t.push(e);return t}function R4(i,e,t,n){let r=i.length;if(r==e)i.push(t,n);else if(r===1)i.push(n,i[0]),i[0]=t;else{for(r--,i.push(i[r-1],i[r]);r>e;){let o=r-2;i[r]=i[o],r--}i[e]=t,i[e+1]=n}}function vg(i,e,t){let n=Zu(i,e);return n>=0?i[n|1]=t:(n=~n,R4(i,n,e,t)),n}function M_(i,e){let t=Zu(i,e);if(t>=0)return i[t|1]}function Zu(i,e){return F4(i,e,1)}function F4(i,e,t){let n=0,r=i.length>>t;for(;r!==n;){let o=n+(r-n>>1),a=i[o<<t];if(e===a)return o<<t;a>e?r=o:n=o+1}return~(r<<t)}var Ku=JA(WR("Optional"),8);var bg=JA(WR("SkipSelf"),4);function P4(i){let e=[],t=new Map;function n(r){let o=t.get(r);if(!o){let a=i(r);t.set(r,o=a.then(j4))}return o}return Uf.forEach((r,o)=>{let a=[];r.templateUrl&&a.push(n(r.templateUrl).then(p=>{r.template=p}));let l=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=l,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let p=r.styles.length,m=r.styleUrls;r.styleUrls.forEach((b,w)=>{l.push(""),a.push(n(b).then(E=>{l[p+w]=E,m.splice(m.indexOf(b),1),m.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&a.push(n(r.styleUrl).then(p=>{l.push(p),r.styleUrl=void 0}));let d=Promise.all(a).then(()=>V4(o));e.push(d)}),N4(),Promise.all(e).then(()=>{})}var Uf=new Map,O4=new Set;function N4(){let i=Uf;return Uf=new Map,i}function L4(){return Uf.size===0}function j4(i){return typeof i=="string"?i:i.text()}function V4(i){O4.delete(i)}var Yu=new ie("ENVIRONMENT_INITIALIZER"),ZR=new ie("INJECTOR",-1),KR=new ie("INJECTOR_DEF_TYPES"),Wf=class{get(e,t=Lu){if(t===Lu){let n=new Error(`NullInjectorError: No provider for ${Ni(e)}!`);throw n.name="NullInjectorError",n}return t}};function Qu(i){return{\u0275providers:i}}function B4(...i){return{\u0275providers:YR(!0,i),\u0275fromNgModule:!0}}function YR(i,...e){let t=[],n=new Set,r,o=a=>{t.push(a)};return ew(e,a=>{let l=a;Q_(l,o,[],n)&&(r||=[],r.push(l))}),r!==void 0&&QR(r,o),t}function QR(i,e){for(let t=0;t<i.length;t++){let{ngModule:n,providers:r}=i[t];tw(r,o=>{e(o,n)})}}function Q_(i,e,t,n){if(i=Hi(i),!i)return!1;let r=null,o=rA(i),a=!o&&Wo(i);if(!o&&!a){let d=i.ngModule;if(o=rA(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=i}let l=n.has(r);if(a){if(l)return!1;if(n.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let p of d)Q_(p,e,t,n)}}else if(o){if(o.imports!=null&&!l){n.add(r);let p;try{ew(o.imports,m=>{Q_(m,e,t,n)&&(p||=[],p.push(m))})}finally{}p!==void 0&&QR(p,e)}if(!l){let p=Ws(r)||(()=>new r);e({provide:r,useFactory:p,deps:Xi},r),e({provide:KR,useValue:r,multi:!0},r),e({provide:Yu,useValue:()=>M(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let p=i;tw(d,m=>{e(m,p)})}}else return!1;return r!==i&&i.providers!==void 0}function tw(i,e){for(let t of i)GA(t)&&(t=t.\u0275providers),Array.isArray(t)?tw(t,e):e(t)}var H4=Tt({provide:String,useValue:Tt});function XR(i){return i!==null&&typeof i=="object"&&H4 in i}function z4(i){return!!(i&&i.useExisting)}function $4(i){return!!(i&&i.useFactory)}function Wc(i){return typeof i=="function"}function U4(i){return!!i.useClass}var yg=new ie("Set Injector scope."),Ff={},W4={},k_;function iw(){return k_===void 0&&(k_=new Wf),k_}var zi=class{},zu=class extends zi{get destroyed(){return this._destroyed}constructor(e,t,n,r){super(),this.parent=t,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,J_(e,a=>this.processProvider(a)),this.records.set(ZR,Pc(void 0,this)),r.has("environment")&&this.records.set(zi,Pc(void 0,this));let o=this.records.get(yg);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(KR,Xi,Xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=zo(this),n=Qi(void 0),r;try{return e()}finally{zo(t),Qi(n)}}get(e,t=Lu,n=Xe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(iA))return e[iA](this);n=sg(n);let r,o=zo(this),a=Qi(void 0);try{if(!(n&Xe.SkipSelf)){let d=this.records.get(e);if(d===void 0){let p=Y4(e)&&og(e);p&&this.injectableDefInScope(p)?d=Pc(X_(e),Ff):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d)}let l=n&Xe.Self?iw():this.parent;return t=n&Xe.Optional&&t===Lu?null:t,l.get(e,t)}catch(l){if(l.name==="NullInjectorError"){if((l[Lf]=l[Lf]||[]).unshift(Ni(e)),o)throw l;return IB(l,e,"R3InjectorError",this.source)}else throw l}finally{Qi(a),zo(o)}}resolveInjectorInitializers(){let e=zo(this),t=Qi(void 0),n;try{let r=this.get(Yu,Xi,Xe.Self);for(let o of r)o()}finally{zo(e),Qi(t)}}toString(){let e=[],t=this.records;for(let n of t.keys())e.push(Ni(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=Hi(e);let t=Wc(e)?e:Hi(e&&e.provide),n=q4(e);if(!Wc(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Pc(void 0,Ff,!0),r.factory=()=>U_(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}else{let r=this.records.get(t)}this.records.set(t,n)}hydrate(e,t){return t.value===Ff&&(t.value=W4,t.value=t.factory()),typeof t.value=="object"&&t.value&&K4(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Hi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function X_(i){let e=og(i),t=e!==null?e.factory:Ws(i);if(t!==null)return t;if(i instanceof ie)throw new Z(204,!1);if(i instanceof Function)return G4(i);throw new Z(204,!1)}function G4(i){let e=i.length;if(e>0){let n=qR(e,"?");throw new Z(204,!1)}let t=gB(i);return t!==null?()=>t.factory(i):()=>new i}function q4(i){if(XR(i))return Pc(void 0,i.useValue);{let e=JR(i);return Pc(e,Ff)}}function JR(i,e,t){let n;if(Wc(i)){let r=Hi(i);return Ws(r)||X_(r)}else if(XR(i))n=()=>Hi(i.useValue);else if($4(i))n=()=>i.useFactory(...U_(i.deps||[]));else if(z4(i))n=()=>M(Hi(i.useExisting));else{let r=Hi(i&&(i.useClass||i.provide));if(Z4(i))n=()=>new r(...U_(i.deps));else return Ws(r)||X_(r)}return n}function Pc(i,e,t=!1){return{factory:i,value:e,multi:t?[]:void 0}}function Z4(i){return!!i.deps}function K4(i){return i!==null&&typeof i=="object"&&typeof i.ngOnDestroy=="function"}function Y4(i){return typeof i=="function"||typeof i=="object"&&i instanceof ie}function J_(i,e){for(let t of i)Array.isArray(t)?J_(t,e):t&&GA(t)?J_(t.\u0275providers,e):e(t)}function Lr(i,e){i instanceof zu&&i.assertNotDestroyed();let t,n=zo(i),r=Qi(void 0);try{return e()}finally{zo(n),Qi(r)}}function Q4(i){if(!QA()&&!CB())throw new Z(-203,!1)}function mA(i,e=null,t=null,n){let r=eF(i,e,t,n);return r.resolveInjectorInitializers(),r}function eF(i,e=null,t=null,n,r=new Set){let o=[t||Xi,B4(i)];return n=n||(typeof i=="object"?void 0:Ni(i)),new zu(o,e||iw(),n||null,r)}var Pe=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return mA({name:""},r,n,"");{let o=n.name??"";return mA({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=Lu,e.NULL=new Wf,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>M(ZR)}),e.__NG_ELEMENT_ID__=-1;let i=e;return i})();var eC;function tF(i){eC=i}function iF(){if(eC!==void 0)return eC;if(typeof document<"u")return document;throw new Z(210,!1)}var Xu=new ie("AppId",{providedIn:"root",factory:()=>X4}),X4="ng",nw=new ie("Platform Initializer"),Bt=new ie("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var _g=new ie("AnimationModuleType"),Ju=new ie("CSP nonce",{providedIn:"root",factory:()=>iF().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Cg(i){return i.ownerDocument.defaultView}function ed(i){return i.ownerDocument}function nF(i){return i instanceof Function?i():i}function J4(i){return(i??B(Pe)).get(Bt)==="browser"}function rF(i){return(i.flags&128)===128}var Nr=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(Nr||{}),eH=/^>|^->|<!--|-->|--!>|<!-$/g,tH=/(<|>)/g,iH="\u200B$1\u200B";function nH(i){return i.replace(eH,e=>e.replace(tH,iH))}var oF=new Map,rH=0;function oH(){return rH++}function sH(i){oF.set(i[ag],i)}function aH(i){oF.delete(i[ag])}var vA="__ngContext__";function qo(i,e){Uo(e)?(i[vA]=e[ag],sH(e)):i[vA]=e}var cH;function rw(i,e){return cH(i,e)}function ow(i){let e=i[ii];return pr(e)?e[ii]:e}function sF(i){return cF(i[Hu])}function aF(i){return cF(i[ur])}function cF(i){for(;i!==null&&!pr(i);)i=i[ur];return i}function Oc(i,e,t,n,r){if(n!=null){let o,a=!1;pr(n)?o=n:Uo(n)&&(a=!0,n=n[ao]);let l=Or(n);i===0&&t!==null?r==null?pF(e,t,l):Gf(e,t,l,r||null,!0):i===1&&t!==null?Gf(e,t,l,r||null,!0):i===2?EH(e,l,a):i===3&&e.destroyNode(l),o!=null&&SH(e,i,o,t,r)}}function lH(i,e){return i.createText(e)}function uH(i,e,t){i.setValue(e,t)}function dH(i,e){return i.createComment(nH(e))}function lF(i,e,t){return i.createElement(e,t)}function hH(i,e){let t=e[Vt];td(i,e,t,2,null,null),e[ao]=null,e[mn]=null}function pH(i,e,t,n,r,o){n[ao]=r,n[mn]=e,td(i,n,t,1,r,o)}function fH(i,e){td(i,e,e[Vt],2,null,null)}function gH(i){let e=i[Hu];if(!e)return A_(i[Ye],i);for(;e;){let t=null;if(Uo(e))t=e[Hu];else{let n=e[gn];n&&(t=n)}if(!t){for(;e&&!e[ur]&&e!==i;)Uo(e)&&A_(e[Ye],e),e=e[ii];e===null&&(e=i),Uo(e)&&A_(e[Ye],e),t=e&&e[ur]}e=t}}function mH(i,e,t,n){let r=gn+n,o=t.length;n>0&&(t[r-1][ur]=e),n<o-gn?(e[ur]=t[r],GR(t,gn+n,e)):(t.push(e),e[ur]=null),e[ii]=t;let a=e[qu];a!==null&&t!==a&&vH(a,e);let l=e[Fr];l!==null&&l.insertView(i),wR(e),e[Fe]|=128}function vH(i,e){let t=i[zc],r=e[ii][ii][hr];e[hr]!==r&&(i[Fe]|=$c.HasTransplantedViews),t===null?i[zc]=[e]:t.push(e)}function uF(i,e){let t=i[zc],n=t.indexOf(e),r=e[ii];t.splice(n,1)}function tC(i,e){if(i.length<=gn)return;let t=gn+e,n=i[t];if(n){let r=n[qu];r!==null&&r!==i&&uF(r,n),e>0&&(i[t-1][ur]=n[ur]);let o=$f(i,gn+e);hH(n[Ye],n);let a=o[Fr];a!==null&&a.detachView(o[Ye]),n[ii]=null,n[ur]=null,n[Fe]&=-129}return n}function dF(i,e){if(!(e[Fe]&256)){let t=e[Vt];t.destroyNode&&td(i,e,t,3,null,null),gH(e)}}function A_(i,e){if(!(e[Fe]&256)){e[Fe]&=-129,e[Fe]|=256,e[$s]&&Dk(e[$s]),yH(i,e),bH(i,e),e[Ye].type===1&&e[Vt].destroy();let t=e[qu];if(t!==null&&pr(e[ii])){t!==e[ii]&&uF(t,e);let n=e[Fr];n!==null&&n.detachView(i)}aH(e)}}function bH(i,e){let t=i.cleanup,n=e[Bu];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let a=t[o+3];a>=0?n[a]():n[-a].unsubscribe(),o+=2}else{let a=n[t[o+1]];t[o].call(a)}n!==null&&(e[Bu]=null);let r=e[$o];if(r!==null){e[$o]=null;for(let o=0;o<r.length;o++){let a=r[o];a()}}}function yH(i,e){let t;if(i!=null&&(t=i.destroyHooks)!=null)for(let n=0;n<t.length;n+=2){let r=e[t[n]];if(!(r instanceof qs)){let o=t[n+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];Ar(4,l,d);try{d.call(l)}finally{Ar(5,l,d)}}else{Ar(4,r,o);try{o.call(r)}finally{Ar(5,r,o)}}}}}function hF(i,e,t){return _H(i,e.parent,t)}function _H(i,e,t){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return t[ao];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:o}=i.data[n.directiveStart+r];if(o===Pr.None||o===Pr.Emulated)return null}return jn(n,t)}}function Gf(i,e,t,n,r){i.insertBefore(e,t,n,r)}function pF(i,e,t){i.appendChild(e,t)}function bA(i,e,t,n,r){n!==null?Gf(i,e,t,n,r):pF(i,e,t)}function CH(i,e,t,n){i.removeChild(e,t,n)}function sw(i,e){return i.parentNode(e)}function wH(i,e){return i.nextSibling(e)}function fF(i,e,t){return IH(i,e,t)}function xH(i,e,t){return i.type&40?jn(i,t):null}var IH=xH,yA;function wg(i,e,t,n){let r=hF(i,n,e),o=e[Vt],a=n.parent||e[mn],l=fF(a,n,e);if(r!=null)if(Array.isArray(t))for(let d=0;d<t.length;d++)bA(o,r,t[d],l,!1);else bA(o,r,t,l,!1);yA!==void 0&&yA(o,n,e,t,r)}function Pf(i,e){if(e!==null){let t=e.type;if(t&3)return jn(e,i);if(t&4)return iC(-1,i[e.index]);if(t&8){let n=e.child;if(n!==null)return Pf(i,n);{let r=i[e.index];return pr(r)?iC(-1,r):Or(r)}}else{if(t&32)return rw(e,i)()||Or(i[e.index]);{let n=gF(i,e);if(n!==null){if(Array.isArray(n))return n[0];let r=ow(i[hr]);return Pf(r,n)}else return Pf(i,e.next)}}}return null}function gF(i,e){if(e!==null){let n=i[hr][mn],r=e.projection;return n.projection[r]}return null}function iC(i,e){let t=gn+i+1;if(t<e.length){let n=e[t],r=n[Ye].firstChild;if(r!==null)return Pf(n,r)}return e[Us]}function EH(i,e,t){let n=sw(i,e);n&&CH(i,n,e,t)}function aw(i,e,t,n,r,o,a){for(;t!=null;){let l=n[t.index],d=t.type;if(a&&e===0&&(l&&qo(Or(l),n),t.flags|=2),(t.flags&32)!==32)if(d&8)aw(i,e,t.child,n,r,o,!1),Oc(e,i,r,l,o);else if(d&32){let p=rw(t,n),m;for(;m=p();)Oc(e,i,r,m,o);Oc(e,i,r,l,o)}else d&16?mF(i,e,n,t,r,o):Oc(e,i,r,l,o);t=a?t.projectionNext:t.next}}function td(i,e,t,n,r,o){aw(t,n,i.firstChild,e,r,o,!1)}function DH(i,e,t){let n=e[Vt],r=hF(i,t,e),o=t.parent||e[mn],a=fF(o,t,e);mF(n,0,e,t,r,a)}function mF(i,e,t,n,r,o){let a=t[hr],d=a[mn].projection[n.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++){let m=d[p];Oc(e,i,r,m,o)}else{let p=d,m=a[ii];rF(n)&&(p.flags|=128),aw(i,e,p,m,r,o,!0)}}function SH(i,e,t,n,r){let o=t[Us],a=Or(t);o!==a&&Oc(e,i,n,o,r);for(let l=gn;l<t.length;l++){let d=t[l];td(d[Ye],d,i,e,n,o)}}function TH(i,e,t,n,r){if(e)r?i.addClass(t,n):i.removeClass(t,n);else{let o=n.indexOf("-")===-1?void 0:Nr.DashCase;r==null?i.removeStyle(t,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Nr.Important),i.setStyle(t,n,r,o))}}function MH(i,e,t){i.setAttribute(e,"style",t)}function vF(i,e,t){t===""?i.removeAttribute(e,"class"):i.setAttribute(e,"class",t)}function bF(i,e,t){let{mergedAttrs:n,classes:r,styles:o}=t;n!==null&&W_(i,e,n),r!==null&&vF(i,e,r),o!==null&&MH(i,e,o)}var If;function kH(){if(If===void 0&&(If=null,qt.trustedTypes))try{If=qt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return If}function xg(i){return kH()?.createHTML(i)||i}var Ef;function AH(){if(Ef===void 0&&(Ef=null,qt.trustedTypes))try{Ef=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ef}function _A(i){return AH()?.createHTML(i)||i}var oo=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qA})`}},nC=class extends oo{getTypeName(){return"HTML"}},rC=class extends oo{getTypeName(){return"Style"}},oC=class extends oo{getTypeName(){return"Script"}},sC=class extends oo{getTypeName(){return"URL"}},aC=class extends oo{getTypeName(){return"ResourceURL"}};function Vn(i){return i instanceof oo?i.changingThisBreaksApplicationSecurity:i}function Qo(i,e){let t=RH(i);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${qA})`)}return t===e}function RH(i){return i instanceof oo&&i.getTypeName()||null}function yF(i){return new nC(i)}function _F(i){return new rC(i)}function CF(i){return new oC(i)}function wF(i){return new sC(i)}function xF(i){return new aC(i)}function FH(i){let e=new lC(i);return PH()?new cC(e):e}var cC=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(xg(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}},lC=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=xg(e),t}};function PH(){try{return!!new window.DOMParser().parseFromString(xg(""),"text/html")}catch{return!1}}var OH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ig(i){return i=String(i),i.match(OH)?i:"unsafe:"+i}function co(i){let e={};for(let t of i.split(","))e[t]=!0;return e}function id(...i){let e={};for(let t of i)for(let n in t)t.hasOwnProperty(n)&&(e[n]=!0);return e}var IF=co("area,br,col,hr,img,wbr"),EF=co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),DF=co("rp,rt"),NH=id(DF,EF),LH=id(EF,co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jH=id(DF,co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),CA=id(IF,LH,jH,NH),SF=co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VH=co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),BH=co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),HH=id(SF,VH,BH),zH=co("script,style,template"),uC=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;){if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild){t=t.firstChild;continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}}return this.buf.join("")}startElement(e){let t=e.nodeName.toLowerCase();if(!CA.hasOwnProperty(t))return this.sanitizedSomething=!0,!zH.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let n=e.attributes;for(let r=0;r<n.length;r++){let o=n.item(r),a=o.name,l=a.toLowerCase();if(!HH.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;SF[l]&&(d=Ig(d)),this.buf.push(" ",a,'="',wA(d),'"')}return this.buf.push(">"),!0}endElement(e){let t=e.nodeName.toLowerCase();CA.hasOwnProperty(t)&&!IF.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(wA(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}},$H=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UH=/([^\#-~ |!])/g;function wA(i){return i.replace(/&/g,"&amp;").replace($H,function(e){let t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(UH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Df;function cw(i,e){let t=null;try{Df=Df||FH(i);let n=e?String(e):"";t=Df.getInertBodyElement(n);let r=5,o=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=t.innerHTML,t=Df.getInertBodyElement(n)}while(n!==o);let l=new uC().sanitizeChildren(xA(t)||t);return xg(l)}finally{if(t){let n=xA(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function xA(i){return"content"in i&&WH(i)?i.content:null}function WH(i){return i.nodeType===Node.ELEMENT_NODE&&i.nodeName==="TEMPLATE"}var jr=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(jr||{});function ta(i){let e=TF();return e?_A(e.sanitize(jr.HTML,i)||""):Qo(i,"HTML")?_A(Vn(i)):cw(iF(),Wu(i))}function Eg(i){let e=TF();return e?e.sanitize(jr.URL,i)||"":Qo(i,"URL")?Vn(i):Ig(Wu(i))}function TF(){let i=qe();return i&&i[Hc].sanitizer}var GH="h",qH="b";var ZH=(i,e,t)=>null;function lw(i,e,t=!1){return ZH(i,e,t)}var dC=class{},qf=class{};function KH(i){let e=Error(`No component factory found for ${Ni(i)}.`);return e[YH]=i,e}var YH="ngComponent";var hC=class{resolveComponentFactory(e){throw KH(e)}},Lt=(()=>{let e=class e{};e.NULL=new hC;let i=e;return i})();function QH(){return Xc($i(),qe())}function Xc(i,e){return new F(jn(i,e))}var F=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=QH;let i=e;return i})();function XH(i){return i instanceof F?i.nativeElement:i}var Ks=class{},At=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>JH();let i=e;return i})();function JH(){let i=qe(),e=$i(),t=Yo(e.index,i);return(Uo(t)?t:i)[Vt]}var e5=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let i=e;return i})(),Zo=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},t5=new Zo("17.0.7"),R_={};function MF(i){return uw(i)?Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i:!1}function i5(i,e){if(Array.isArray(i))for(let t=0;t<i.length;t++)e(i[t]);else{let t=i[Symbol.iterator](),n;for(;!(n=t.next()).done;)e(n.value)}}function uw(i){return i!==null&&(typeof i=="function"||typeof i=="object")}var pC=class{constructor(){}supports(e){return MF(e)}create(e){return new fC(e)}},n5=(i,e)=>e,fC=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||n5}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,o=null;for(;t||n;){let a=!n||t&&t.currentIndex<IA(n,r,o)?t:n,l=IA(a,r,o),d=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(t=t._next,a.previousIndex==null)r++;else{o||(o=[]);let p=l-r,m=d-r;if(p!=m){for(let w=0;w<p;w++){let E=w<o.length?o[w]:o[w]=0,T=E+w;m<=T&&T<p&&(o[w]=E+1)}let b=a.previousIndex;o[b]=m-p}}l!==d&&e(a,l,d)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!MF(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,n=!1,r,o,a;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],a=this._trackByFn(l,o),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,o,a,l),n=!0):(n&&(t=this._verifyReinsertion(t,o,a,l)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,i5(e,l=>{a=this._trackByFn(r,l),t===null||!Object.is(t.trackById,a)?(t=this._mismatch(t,l,a,r),n=!0):(n&&(t=this._verifyReinsertion(t,l,a,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new gC(t,n),o,r)),e}_verifyReinsertion(e,t,n,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Zf),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,n=e._next;return t===null?this._itHead=n:t._next=n,n===null?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Zf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},gC=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},mC=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;n!==null;n=n._nextDup)if((t===null||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let t=e._prevDup,n=e._nextDup;return t===null?this._head=n:t._nextDup=n,n===null?this._tail=t:n._prevDup=t,this._head===null}},Zf=class{constructor(){this.map=new Map}put(e){let t=e.trackById,n=this.map.get(t);n||(n=new mC,this.map.set(t,n)),n.add(e)}get(e,t){let n=e,r=this.map.get(n);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function IA(i,e,t){let n=i.previousIndex;if(n===null)return n;let r=0;return t&&n<t.length&&(r=t[n]),n+e+r}var vC=class{constructor(){}supports(e){return e instanceof Map||uw(e)}create(){return new bC}},bC=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||uw(e)))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(r,n);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}let n=new yC(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}},yC=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function EA(){return new nd([new pC])}var nd=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||EA()),deps:[[e,new bg,new Ku]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new Z(901,!1)}};e.\u0275prov=N({token:e,providedIn:"root",factory:EA});let i=e;return i})();function DA(){return new rd([new vC])}var rd=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||DA()),deps:[[e,new bg,new Ku]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Z(901,!1)}};e.\u0275prov=N({token:e,providedIn:"root",factory:DA});let i=e;return i})();function Kf(i,e,t,n,r=!1){for(;t!==null;){let o=e[t.index];o!==null&&n.push(Or(o)),pr(o)&&r5(o,n);let a=t.type;if(a&8)Kf(i,e,t.child,n);else if(a&32){let l=rw(t,e),d;for(;d=l();)n.push(d)}else if(a&16){let l=gF(e,t);if(Array.isArray(l))n.push(...l);else{let d=ow(e[hr]);Kf(d[Ye],d,l,n,!0)}}t=r?t.projectionNext:t.next}return n}function r5(i,e){for(let t=gn;t<i.length;t++){let n=i[t],r=n[Ye].firstChild;r!==null&&Kf(n[Ye],n,r,e)}i[Us]!==i[ao]&&e.push(i[Us])}var kF=[];function o5(i){return i[$s]??s5(i)}function s5(i){let e=kF.pop()??Object.create(c5);return e.lView=i,e}function a5(i){i.lView[$s]!==i&&(i.lView=null,kF.push(i))}var c5=xt(X({},xk),{consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{ug(i.lView)},consumerOnSignalRead(){this.lView[$s]=this}}),l5="ngOriginalError";function F_(i){return i[l5]}var fr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&F_(e);for(;t&&F_(t);)t=F_(t);return t||null}},AF=new ie("",{providedIn:"root",factory:()=>B(fr).handleError.bind(void 0)});var RF=!1,u5=new ie("",{providedIn:"root",factory:()=>RF});var gr={};function y(i){FF(Zt(),qe(),ea()+i,!1)}function FF(i,e,t,n){if(!n)if((e[Fe]&3)===3){let o=i.preOrderCheckHooks;o!==null&&kf(e,o,t)}else{let o=i.preOrderHooks;o!==null&&Af(e,o,0,t)}Gs(t)}function f(i,e=Xe.Default){let t=qe();if(t===null)return M(i,e);let n=$i();return zR(n,t,Hi(i),e)}function dw(){let i="invalid";throw new Error(i)}function d5(i,e){let t=i.hostBindingOpCodes;if(t!==null)try{for(let n=0;n<t.length;n++){let r=t[n];if(r<0)Gs(~r);else{let o=r,a=t[++n],l=t[++n];s4(a,o);let d=e[o];l(2,d)}}}finally{Gs(-1)}}function Dg(i,e,t,n,r,o,a,l,d,p,m){let b=e.blueprint.slice();return b[ao]=r,b[Fe]=n|4|128|8,(p!==null||i&&i[Fe]&2048)&&(b[Fe]|=2048),_R(b),b[ii]=b[Kc]=i,b[dr]=t,b[Hc]=a||i&&i[Hc],b[Vt]=l||i&&i[Vt],b[Bc]=d||i&&i[Bc]||null,b[mn]=o,b[ag]=oH(),b[Vu]=m,b[hR]=p,b[hr]=e.type==2?i[hr]:b,b}function Jc(i,e,t,n,r){let o=i.data[e];if(o===null)o=h5(i,e,t,n,r),o4()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=n,o.attrs=r;let a=i4();o.injectorIndex=a===null?-1:a.injectorIndex}return Js(o,!0),o}function h5(i,e,t,n,r){let o=DR(),a=ZC(),l=a?o:o&&o.parent,d=i.data[e]=b5(i,l,t,e,n,r);return i.firstChild===null&&(i.firstChild=d),o!==null&&(a?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function PF(i,e,t,n){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(n),i.blueprint.push(n),i.data.push(null);return r}function OF(i,e,t,n,r){let o=ea(),a=n&2;try{Gs(-1),a&&e.length>Ji&&FF(i,e,Ji,!1),Ar(a?2:0,r),t(n,r)}finally{Gs(o),Ar(a?3:1,r)}}function hw(i,e,t){if(WC(e)){let n=hn(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let a=r;a<o;a++){let l=i.data[a];l.contentQueries&&l.contentQueries(1,t[a],a)}}finally{hn(n)}}}function pw(i,e,t){IR()&&(I5(i,e,t,jn(t,e)),(t.flags&64)===64&&jF(i,e,t))}function fw(i,e,t=jn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let o=0;o<n.length;o+=2){let a=n[o+1],l=a===-1?t(e,i):i[a];i[r++]=l}}}function NF(i){let e=i.tView;return e===null||e.incompleteFirstPass?i.tView=gw(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):e}function gw(i,e,t,n,r,o,a,l,d,p,m){let b=Ji+n,w=b+r,E=p5(b,w),T=typeof p=="function"?p():p;return E[Ye]={type:i,blueprint:E,template:t,queries:null,viewQuery:l,declTNode:e,data:E.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:T,incompleteFirstPass:!1,ssrId:m}}function p5(i,e){let t=[];for(let n=0;n<e;n++)t.push(n<i?null:gr);return t}function f5(i,e,t,n){let o=n.get(u5,RF)||t===Pr.ShadowDom,a=i.selectRootElement(e,o);return g5(a),a}function g5(i){m5(i)}var m5=i=>null;function v5(i,e,t,n){let r=zF(e);r.push(t),i.firstCreatePass&&$F(i).push(n,r.length-1)}function b5(i,e,t,n,r,o){let a=e?e.injectorIndex:-1,l=0;return ER()&&(l|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function SA(i,e,t,n){for(let r in i)if(i.hasOwnProperty(r)){t=t===null?{}:t;let o=i[r];n===null?TA(t,e,r,o):n.hasOwnProperty(r)&&TA(t,e,n[r],o)}return t}function TA(i,e,t,n){i.hasOwnProperty(t)?i[t].push(e,n):i[t]=[e,n]}function y5(i,e,t){let n=e.directiveStart,r=e.directiveEnd,o=i.data,a=e.attrs,l=[],d=null,p=null;for(let m=n;m<r;m++){let b=o[m],w=t?t.get(b):null,E=w?w.inputs:null,T=w?w.outputs:null;d=SA(b.inputs,m,d,E),p=SA(b.outputs,m,p,T);let V=d!==null&&a!==null&&!rR(e)?O5(d,m,a):null;l.push(V)}d!==null&&(d.hasOwnProperty("class")&&(e.flags|=8),d.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=d,e.outputs=p}function _5(i){return i==="class"?"className":i==="for"?"htmlFor":i==="formaction"?"formAction":i==="innerHtml"?"innerHTML":i==="readonly"?"readOnly":i==="tabindex"?"tabIndex":i}function mw(i,e,t,n,r,o,a,l){let d=jn(e,t),p=e.inputs,m;!l&&p!=null&&(m=p[n])?(bw(i,t,m,n,r),cg(e)&&C5(t,e.index)):e.type&3?(n=_5(n),r=a!=null?a(r,e.value||"",n):r,o.setProperty(d,n,r)):e.type&12}function C5(i,e){let t=Yo(e,i);t[Fe]&16||(t[Fe]|=64)}function vw(i,e,t,n){if(IR()){let r=n===null?null:{"":-1},o=D5(i,t),a,l;o===null?a=l=null:[a,l]=o,a!==null&&LF(i,e,t,a,r,l),r&&S5(t,n,r)}t.mergedAttrs=ju(t.mergedAttrs,t.attrs)}function LF(i,e,t,n,r,o){for(let p=0;p<n.length;p++)K_(zf(t,e),i,n[p].type);M5(t,i.data.length,n.length);for(let p=0;p<n.length;p++){let m=n[p];m.providersResolver&&m.providersResolver(m)}let a=!1,l=!1,d=PF(i,e,n.length,null);for(let p=0;p<n.length;p++){let m=n[p];t.mergedAttrs=ju(t.mergedAttrs,m.hostAttrs),k5(i,t,e,d,m),T5(d,m,r),m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let b=m.type.prototype;!a&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((i.preOrderHooks??=[]).push(t.index),a=!0),!l&&(b.ngOnChanges||b.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(t.index),l=!0),d++}y5(i,t,o)}function w5(i,e,t,n,r){let o=r.hostBindings;if(o){let a=i.hostBindingOpCodes;a===null&&(a=i.hostBindingOpCodes=[]);let l=~e.index;x5(a)!=l&&a.push(l),a.push(t,n,o)}}function x5(i){let e=i.length;for(;e>0;){let t=i[--e];if(typeof t=="number"&&t<0)return t}return 0}function I5(i,e,t,n){let r=t.directiveStart,o=t.directiveEnd;cg(t)&&A5(e,t,i.data[r+t.componentOffset]),i.firstCreatePass||zf(t,e),qo(n,e);let a=t.initialInputs;for(let l=r;l<o;l++){let d=i.data[l],p=Zs(e,i,l,t);if(qo(p,e),a!==null&&P5(e,l-r,p,d,t,a),Go(d)){let m=Yo(t.index,e);m[dr]=Zs(e,i,l,t)}}}function jF(i,e,t){let n=t.directiveStart,r=t.directiveEnd,o=t.index,a=a4();try{Gs(o);for(let l=n;l<r;l++){let d=i.data[l],p=e[l];q_(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&E5(d,p)}}finally{Gs(-1),q_(a)}}function E5(i,e){i.hostBindings!==null&&i.hostBindings(1,e)}function D5(i,e){let t=i.directiveRegistry,n=null,r=null;if(t)for(let o=0;o<t.length;o++){let a=t[o];if(oR(e,a.selectors,!1))if(n||(n=[]),Go(a))if(a.findHostDirectiveDefs!==null){let l=[];r=r||new Map,a.findHostDirectiveDefs(a,l,r),n.unshift(...l,a);let d=l.length;_C(i,e,d)}else n.unshift(a),_C(i,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,n,r),n.push(a)}return n===null?null:[n,r]}function _C(i,e,t){e.componentOffset=t,(i.components??=[]).push(e.index)}function S5(i,e,t){if(e){let n=i.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new Z(-301,!1);n.push(e[r],o)}}}function T5(i,e,t){if(t){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)t[e.exportAs[n]]=i;Go(e)&&(t[""]=i)}}function M5(i,e,t){i.flags|=1,i.directiveStart=e,i.directiveEnd=e+t,i.providerIndexes=e}function k5(i,e,t,n,r){i.data[n]=r;let o=r.factory||(r.factory=Ws(r.type,!0)),a=new qs(o,Go(r),f);i.blueprint[n]=a,t[n]=a,w5(i,e,n,PF(i,t,r.hostVars,gr),r)}function A5(i,e,t){let n=jn(e,i),r=NF(t),o=i[Hc].rendererFactory,a=16;t.signals?a=4096:t.onPush&&(a=64);let l=Sg(i,Dg(i,r,null,a,n,e,null,o.createRenderer(n,t),null,null,null));i[e.index]=l}function R5(i,e,t,n,r,o){let a=jn(i,e);F5(e[Vt],a,o,i.value,t,n,r)}function F5(i,e,t,n,r,o,a){if(o==null)i.removeAttribute(e,r,t);else{let l=a==null?Wu(o):a(o,n||"",r);i.setAttribute(e,r,l,t)}}function P5(i,e,t,n,r,o){let a=o[e];if(a!==null)for(let l=0;l<a.length;){let d=a[l++],p=a[l++],m=a[l++];VF(n,t,d,p,m)}}function VF(i,e,t,n,r){let o=hn(null);try{let a=i.inputTransforms;a!==null&&a.hasOwnProperty(n)&&(r=a[n].call(e,r)),i.setInput!==null?i.setInput(e,r,t,n):e[n]=r}finally{hn(o)}}function O5(i,e,t){let n=null,r=0;for(;r<t.length;){let o=t[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(i.hasOwnProperty(o)){n===null&&(n=[]);let a=i[o];for(let l=0;l<a.length;l+=2)if(a[l]===e){n.push(o,a[l+1],t[r+1]);break}}r+=2}return n}function BF(i,e,t,n){return[i,!0,0,e,null,n,null,t,null,null]}function HF(i,e){let t=i.contentQueries;if(t!==null){let n=hn(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a!==-1){let l=i.data[a];YC(o),l.contentQueries(2,e[a],a)}}}finally{hn(n)}}}function Sg(i,e){return i[Hu]?i[dA][ur]=e:i[Hu]=e,i[dA]=e,e}function CC(i,e,t){YC(0);let n=hn(null);try{e(i,t)}finally{hn(n)}}function zF(i){return i[Bu]||(i[Bu]=[])}function $F(i){return i.cleanup||(i.cleanup=[])}function UF(i,e){let t=i[Bc],n=t?t.get(fr,null):null;n&&n.handleError(e)}function bw(i,e,t,n,r){for(let o=0;o<t.length;){let a=t[o++],l=t[o++],d=e[a],p=i.data[a];VF(p,d,n,l,r)}}function N5(i,e,t){let n=bR(e,i);uH(i[Vt],n,t)}var L5=100;function j5(i,e=!0){let t=i[Hc],n=t.rendererFactory,r=t.afterRenderEventManager,o=!1;o||(n.begin?.(),r?.begin());try{V5(i)}catch(a){throw e&&UF(i,a),a}finally{o||(n.end?.(),t.inlineEffectRunner?.flush(),r?.end())}}function V5(i){wC(i,0);let e=0;for(;CR(i);){if(e===L5)throw new Z(103,!1);e++,wC(i,1)}}function B5(i,e,t,n){let r=e[Fe];if((r&256)===256)return;let o=!1;!o&&e[Hc].inlineEffectRunner?.flush(),QC(e);let a=null,l=null;!o&&H5(i)&&(l=o5(e),a=Ik(l));try{_R(e),r4(i.bindingStartIndex),t!==null&&OF(i,e,t,2,n);let d=(r&3)===3;if(!o)if(d){let b=i.preOrderCheckHooks;b!==null&&kf(e,b,null)}else{let b=i.preOrderHooks;b!==null&&Af(e,b,0,null),S_(e,0)}if(z5(e),WF(e,0),i.contentQueries!==null&&HF(i,e),!o)if(d){let b=i.contentCheckHooks;b!==null&&kf(e,b)}else{let b=i.contentHooks;b!==null&&Af(e,b,1),S_(e,1)}d5(i,e);let p=i.components;p!==null&&qF(e,p,0);let m=i.viewQuery;if(m!==null&&CC(2,m,n),!o)if(d){let b=i.viewCheckHooks;b!==null&&kf(e,b)}else{let b=i.viewHooks;b!==null&&Af(e,b,2),S_(e,2)}if(i.firstUpdatePass===!0&&(i.firstUpdatePass=!1),e[D_]){for(let b of e[D_])b();e[D_]=null}o||(e[Fe]&=-73)}catch(d){throw ug(e),d}finally{l!==null&&(Ek(l,a),a5(l)),XC()}}function H5(i){return i.type!==2}function WF(i,e){for(let t=sF(i);t!==null;t=aF(t)){t[Fe]&=~$c.HasChildViewsToRefresh;for(let n=gn;n<t.length;n++){let r=t[n];GF(r,e)}}}function z5(i){for(let e=sF(i);e!==null;e=aF(e)){if(!(e[Fe]&$c.HasTransplantedViews))continue;let t=e[zc];for(let n=0;n<t.length;n++){let r=t[n],o=r[ii];ZB(r)}}}function $5(i,e,t){let n=Yo(e,i);GF(n,t)}function GF(i,e){qC(i)&&wC(i,e)}function wC(i,e){let n=i[Ye],r=i[Fe],o=i[$s],a=!!(e===0&&r&16);if(a||=!!(r&64&&e===0),a||=!!(r&1024),a||=!!(o?.dirty&&n_(o)),o&&(o.dirty=!1),i[Fe]&=-9217,a)B5(n,i,n.template,i[dr]);else if(r&8192){WF(i,1);let l=n.components;l!==null&&qF(i,l,1)}}function qF(i,e,t){for(let n=0;n<e.length;n++)$5(i,e[n],t)}function yw(i){for(;i;){i[Fe]|=64;let e=ow(i);if(HB(i)&&!e)return i;i=e}return null}var Ys=class{get rootNodes(){let e=this._lView,t=e[Ye];return Kf(t,e,t.firstChild,[])}constructor(e,t,n=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dr]}set context(e){this._lView[dr]=e}get destroyed(){return(this._lView[Fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ii];if(pr(e)){let t=e[jf],n=t?t.indexOf(this):-1;n>-1&&(tC(e,n),$f(t,n))}this._attachedToViewContainer=!1}dF(this._lView[Ye],this._lView)}onDestroy(e){xR(this._lView,e)}markForCheck(){yw(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fe]&=-129}reattach(){wR(this._lView),this._lView[Fe]|=128}detectChanges(){this._lView[Fe]|=1024,j5(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,fH(this._lView[Ye],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e}},oe=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=U5;let i=e;return i})();function U5(i){return W5($i(),qe(),(i&16)===16)}function W5(i,e,t){if(cg(i)&&!t){let n=Yo(i.index,e);return new Ys(n,n)}else if(i.type&47){let n=e[hr];return new Ys(n,e)}return null}var ZF=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=G5,e.__NG_ENV_ID__=n=>n;let i=e;return i})(),xC=class extends ZF{constructor(e){super(),this._lView=e}onDestroy(e){return xR(this._lView,e),()=>YB(this._lView,e)}};function G5(){return new xC(qe())}var MA=new Set;function Tg(i){MA.has(i)||(MA.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}var IC=class extends ut{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let r=e,o=t||(()=>null),a=n;if(e&&typeof e=="object"){let d=e;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=P_(o),r&&(r=P_(r)),a&&(a=P_(a)));let l=super.subscribe({next:r,error:o,complete:a});return e instanceof ti&&e.add(l),l}};function P_(i){return e=>{setTimeout(i,void 0,e)}}var J=IC;function kA(...i){}function q5(){let i=typeof qt.requestAnimationFrame=="function",e=qt[i?"requestAnimationFrame":"setTimeout"],t=qt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ge=class i{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new J(!1),this.onMicrotaskEmpty=new J(!1),this.onStable=new J(!1),this.onError=new J(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=q5().nativeRequestAnimationFrame,Y5(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!i.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(i.isInAngularZone())throw new Z(909,!1)}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,e,Z5,kA,kA);try{return o.runTask(a,t,n)}finally{o.cancelTask(a)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}},Z5={};function _w(i){if(i._nesting==0&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function K5(i){i.isCheckStableRunning||i.lastRequestAnimationFrameId!==-1||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(qt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,EC(i),i.isCheckStableRunning=!0,_w(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),EC(i))}function Y5(i){let e=()=>{K5(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,o,a,l)=>{if(Q5(l))return t.invokeTask(r,o,a,l);try{return AA(i),t.invokeTask(r,o,a,l)}finally{(i.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||i.shouldCoalesceRunChangeDetection)&&e(),RA(i)}},onInvoke:(t,n,r,o,a,l,d)=>{try{return AA(i),t.invoke(r,o,a,l,d)}finally{i.shouldCoalesceRunChangeDetection&&e(),RA(i)}},onHasTask:(t,n,r,o)=>{t.hasTask(r,o),n===r&&(o.change=="microTask"?(i._hasPendingMicrotasks=o.microTask,EC(i),_w(i)):o.change=="macroTask"&&(i.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,r,o)=>(t.handleError(r,o),i.runOutsideAngular(()=>i.onError.emit(o)),!1)})}function EC(i){i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&i.lastRequestAnimationFrameId!==-1?i.hasPendingMicrotasks=!0:i.hasPendingMicrotasks=!1}function AA(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function RA(i){i._nesting--,_w(i)}var DC=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new J,this.onMicrotaskEmpty=new J,this.onStable=new J,this.onError=new J}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}},KF=new ie("",{providedIn:"root",factory:YF});function YF(){let i=B(Ge),e=!0,t=new De(r=>{e=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{r.next(e),r.complete()})}),n=new De(r=>{let o;i.runOutsideAngular(()=>{o=i.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});let a=i.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),e&&(e=!1,i.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}});return v_(t,n.pipe(I_()))}function Q5(i){return!Array.isArray(i)||i.length!==1?!1:i[0].data?.__ignore_ng_zone__===!0}function X5(i="zone.js",e){return i==="noop"?new DC:i==="zone.js"?new Ge(e):i}var Nc=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Nc||{}),J5={destroy(){}};function Cw(i,e){!e&&Q4(Cw);let t=e?.injector??B(Pe);if(!J4(t))return J5;Tg("NgAfterNextRender");let n=t.get(QF),r=n.handler??=new TC,o=e?.phase??Nc.MixedReadWrite,a=()=>{r.unregister(d),l()},l=t.get(ZF).onDestroy(a),d=new SC(t,o,()=>{a(),i()});return r.register(d),{destroy:a}}var SC=class{constructor(e,t,n){this.phase=t,this.callbackFn=n,this.zone=e.get(Ge),this.errorHandler=e.get(fr,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},TC=class{constructor(){this.executingCallbacks=!1,this.buckets={[Nc.EarlyRead]:new Set,[Nc.Write]:new Set,[Nc.MixedReadWrite]:new Set,[Nc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Z(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},QF=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let i=e;return i})();function ez(i,e){let t=Yo(e,i),n=t[Ye];tz(n,t);let r=t[ao];r!==null&&t[Vu]===null&&(t[Vu]=lw(r,t[Bc])),ww(n,t,t[dr])}function tz(i,e){for(let t=e.length;t<i.blueprint.length;t++)e.push(i.blueprint[t])}function ww(i,e,t){QC(e);try{let n=i.viewQuery;n!==null&&CC(1,n,t);let r=i.template;r!==null&&OF(i,e,r,1,t),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&HF(i,e),i.staticViewQueries&&CC(2,i.viewQuery,t);let o=i.components;o!==null&&iz(e,o)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{e[Fe]&=-5,XC()}}function iz(i,e){for(let t=0;t<e.length;t++)ez(i,e[t])}function Yf(i,e,t){let n=t?i.styles:null,r=t?i.classes:null,o=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")o=l;else if(o==1)r=H_(r,l);else if(o==2){let d=l,p=e[++a];n=H_(n,d+": "+p+";")}}t?i.styles=n:i.stylesWithoutHost=n,t?i.classes=r:i.classesWithoutHost=r}var Qf=class extends Lt{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Wo(e);return new Gc(t,this.ngModule)}};function FA(i){let e=[];for(let t in i)if(i.hasOwnProperty(t)){let n=i[t];e.push({propName:n,templateName:t})}return e}function nz(i){let e=i.toLowerCase();return e==="svg"?vR:e==="math"?WB:null}var MC=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,n){n=sg(n);let r=this.injector.get(e,R_,n);return r!==R_||t===R_?r:this.parentInjector.get(e,t,n)}},Gc=class extends qf{get inputs(){let e=this.componentDef,t=e.inputTransforms,n=FA(e.inputs);if(t!==null)for(let r of n)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return n}get outputs(){return FA(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=NB(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,n,r){r=r||this.ngModule;let o=r instanceof zi?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new MC(e,o):e,l=a.get(Ks,null);if(l===null)throw new Z(407,!1);let d=a.get(e5,null),p=a.get(QF,null),m={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:p},b=l.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",E=n?f5(b,n,this.componentDef.encapsulation,a):lF(b,w,nz(w)),T=4608,V=this.componentDef.onPush?576:528,A=this.componentDef.signals?T:V,$=null;E!==null&&($=lw(E,a,!0));let ce=gw(0,null,null,1,0,null,null,null,null,null,null),Te=Dg(null,ce,null,A,null,null,m,b,a,null,$);QC(Te);let we,Ot;try{let mt=this.componentDef,ct,Xt=null;mt.findHostDirectiveDefs?(ct=[],Xt=new Map,mt.findHostDirectiveDefs(mt,ct,Xt),ct.push(mt)):ct=[mt];let vt=rz(Te,E),wt=oz(vt,E,mt,ct,Te,m,b);Ot=yR(ce,Ji),E&&cz(b,mt,E,n),t!==void 0&&lz(Ot,this.ngContentSelectors,t),we=az(wt,mt,ct,Xt,Te,[uz]),ww(ce,Te,null)}finally{XC()}return new kC(this.componentType,we,Xc(Ot,Te),Te,Ot)}},kC=class extends dC{constructor(e,t,n,r,o){super(),this.location=n,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ys(r,void 0,!1),this.componentType=e}setInput(e,t){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;bw(o[Ye],o,r,e,t),this.previousInputValues.set(e,t);let a=Yo(this._tNode.index,o);yw(a)}}get injector(){return new zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rz(i,e){let t=i[Ye],n=Ji;return i[n]=e,Jc(t,n,2,"#host",null)}function oz(i,e,t,n,r,o,a){let l=r[Ye];sz(n,i,e,a);let d=null;e!==null&&(d=lw(e,r[Bc]));let p=o.rendererFactory.createRenderer(e,t),m=16;t.signals?m=4096:t.onPush&&(m=64);let b=Dg(r,NF(t),null,m,r[i.index],i,o,p,null,null,d);return l.firstCreatePass&&_C(l,i,n.length-1),Sg(r,b),r[i.index]=b}function sz(i,e,t,n){for(let r of i)e.mergedAttrs=ju(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Yf(e,e.mergedAttrs,!0),t!==null&&bF(n,t,e))}function az(i,e,t,n,r,o){let a=$i(),l=r[Ye],d=jn(a,r);LF(l,r,a,t,null,n);for(let m=0;m<t.length;m++){let b=a.directiveStart+m,w=Zs(r,l,b,a);qo(w,r)}jF(l,r,a),d&&qo(d,r);let p=Zs(r,l,a.directiveStart+a.componentOffset,a);if(i[dr]=r[dr]=p,o!==null)for(let m of o)m(p,e);return hw(l,a,i),p}function cz(i,e,t,n){if(n)W_(i,t,["ng-version",t5.full]);else{let{attrs:r,classes:o}=LB(e.selectors[0]);r&&W_(i,t,r),o&&o.length>0&&vF(i,t,o.join(" "))}}function lz(i,e,t){let n=i.projection=[];for(let r=0;r<e.length;r++){let o=t[r];n.push(o!=null?Array.from(o):null)}}function uz(){let i=$i();mg(qe()[Ye],i)}function dz(i){return Object.getPrototypeOf(i.prototype).constructor}function H(i){let e=dz(i.type),t=!0,n=[i];for(;e;){let r;if(Go(i))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);r=e.\u0275dir}if(r){if(t){n.push(r);let a=i;a.inputs=Sf(i.inputs),a.inputTransforms=Sf(i.inputTransforms),a.declaredInputs=Sf(i.declaredInputs),a.outputs=Sf(i.outputs);let l=r.hostBindings;l&&gz(i,l);let d=r.viewQuery,p=r.contentQueries;if(d&&pz(i,d),p&&fz(i,p),wf(i.inputs,r.inputs),wf(i.declaredInputs,r.declaredInputs),wf(i.outputs,r.outputs),r.inputTransforms!==null&&(a.inputTransforms===null&&(a.inputTransforms={}),wf(a.inputTransforms,r.inputTransforms)),Go(r)&&r.data.animation){let m=i.data;m.animation=(m.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(i),l===H&&(t=!1)}}e=Object.getPrototypeOf(e)}hz(n)}function hz(i){let e=0,t=null;for(let n=i.length-1;n>=0;n--){let r=i[n];r.hostVars=e+=r.hostVars,r.hostAttrs=ju(r.hostAttrs,t=ju(t,r.hostAttrs))}}function Sf(i){return i===Vc?{}:i===Xi?[]:i}function pz(i,e){let t=i.viewQuery;t?i.viewQuery=(n,r)=>{e(n,r),t(n,r)}:i.viewQuery=e}function fz(i,e){let t=i.contentQueries;t?i.contentQueries=(n,r,o)=>{e(n,r,o),t(n,r,o)}:i.contentQueries=e}function gz(i,e){let t=i.hostBindings;t?i.hostBindings=(n,r)=>{e(n,r),t(n,r)}:i.hostBindings=e}function Mg(i,e,t){return i[e]=t}function mz(i,e){return i[e]}function so(i,e,t){let n=i[e];return Object.is(n,t)?!1:(i[e]=t,!0)}function AC(i,e,t,n){let r=so(i,e,t);return so(i,e+1,n)||r}function vz(i,e,t,n,r,o){let a=AC(i,e,t,n);return AC(i,e+2,r,o)||a}function ni(i,e,t,n){let r=qe(),o=dg();if(so(r,o,e)){let a=Zt(),l=hg();R5(l,r,i,e,t,n)}return ni}function XF(i,e,t,n){return so(i,dg(),t)?e+Wu(t)+n:gr}function Tf(i,e){return i<<17|e<<2}function Qs(i){return i>>17&32767}function bz(i){return(i&2)==2}function yz(i,e){return i&131071|e<<17}function RC(i){return i|2}function qc(i){return(i&131068)>>2}function O_(i,e){return i&-131069|e<<2}function _z(i){return(i&1)===1}function FC(i){return i|1}function Cz(i,e,t,n,r,o){let a=o?e.classBindings:e.styleBindings,l=Qs(a),d=qc(a);i[n]=t;let p=!1,m;if(Array.isArray(t)){let b=t;m=b[1],(m===null||Zu(b,m)>0)&&(p=!0)}else m=t;if(r)if(d!==0){let w=Qs(i[l+1]);i[n+1]=Tf(w,l),w!==0&&(i[w+1]=O_(i[w+1],n)),i[l+1]=yz(i[l+1],n)}else i[n+1]=Tf(l,0),l!==0&&(i[l+1]=O_(i[l+1],n)),l=n;else i[n+1]=Tf(d,0),l===0?l=n:i[d+1]=O_(i[d+1],n),d=n;p&&(i[n+1]=RC(i[n+1])),PA(i,m,n,!0,o),PA(i,m,n,!1,o),wz(e,m,i,n,o),a=Tf(l,d),o?e.classBindings=a:e.styleBindings=a}function wz(i,e,t,n,r){let o=r?i.residualClasses:i.residualStyles;o!=null&&typeof e=="string"&&Zu(o,e)>=0&&(t[n+1]=FC(t[n+1]))}function PA(i,e,t,n,r){let o=i[t+1],a=e===null,l=n?Qs(o):qc(o),d=!1;for(;l!==0&&(d===!1||a);){let p=i[l],m=i[l+1];xz(p,e)&&(d=!0,i[l+1]=n?FC(m):RC(m)),l=n?Qs(m):qc(m)}d&&(i[t+1]=n?RC(o):FC(o))}function xz(i,e){return i===null||e==null||(Array.isArray(i)?i[1]:i)===e?!0:Array.isArray(i)&&typeof e=="string"?Zu(i,e)>=0:!1}var ui={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function JF(i){return i.substring(ui.key,ui.keyEnd)}function Iz(i){return i.substring(ui.value,ui.valueEnd)}function Ez(i){return iP(i),eP(i,Zc(i,0,ui.textEnd))}function eP(i,e){let t=ui.textEnd;return t===e?-1:(e=ui.keyEnd=Sz(i,ui.key=e,t),Zc(i,e,t))}function Dz(i){return iP(i),tP(i,Zc(i,0,ui.textEnd))}function tP(i,e){let t=ui.textEnd,n=ui.key=Zc(i,e,t);return t===n?-1:(n=ui.keyEnd=Tz(i,n,t),n=OA(i,n,t,58),n=ui.value=Zc(i,n,t),n=ui.valueEnd=Mz(i,n,t),OA(i,n,t,59))}function iP(i){ui.key=0,ui.keyEnd=0,ui.value=0,ui.valueEnd=0,ui.textEnd=i.length}function Zc(i,e,t){for(;e<t&&i.charCodeAt(e)<=32;)e++;return e}function Sz(i,e,t){for(;e<t&&i.charCodeAt(e)>32;)e++;return e}function Tz(i,e,t){let n;for(;e<t&&((n=i.charCodeAt(e))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)e++;return e}function OA(i,e,t,n){return e=Zc(i,e,t),e<t&&e++,e}function Mz(i,e,t){let n=-1,r=-1,o=-1,a=e,l=a;for(;a<t;){let d=i.charCodeAt(a++);if(d===59)return l;d===34||d===39?l=a=NA(i,d,a,t):e===a-4&&o===85&&r===82&&n===76&&d===40?l=a=NA(i,41,a,t):d>32&&(l=a),o=r,r=n,n=d&-33}return l}function NA(i,e,t,n){let r=-1,o=t;for(;o<n;){let a=i.charCodeAt(o++);if(a==e&&r!==92)return o;a==92&&r===92?r=0:r=a}throw new Error}function _(i,e,t){let n=qe(),r=dg();if(so(n,r,e)){let o=Zt(),a=hg();mw(o,a,n,i,e,n[Vt],t,!1)}return _}function PC(i,e,t,n,r){let o=e.inputs,a=r?"class":"style";bw(i,t,o[a],a,n)}function It(i,e,t){return rP(i,e,t,!1),It}function Me(i,e){return rP(i,e,null,!0),Me}function nP(i){oP(cP,kz,i,!1)}function kz(i,e){for(let t=Dz(e);t>=0;t=tP(e,t))cP(i,JF(e),Iz(e))}function xw(i){oP(Lz,Az,i,!0)}function Az(i,e){for(let t=Ez(e);t>=0;t=eP(e,t))vg(i,JF(e),!0)}function rP(i,e,t,n){let r=qe(),o=Zt(),a=SR(2);if(o.firstUpdatePass&&aP(o,i,a,n),e!==gr&&so(r,a,e)){let l=o.data[ea()];lP(o,l,r,r[Vt],i,r[a+1]=Vz(e,t),n,a)}}function oP(i,e,t,n){let r=Zt(),o=SR(2);r.firstUpdatePass&&aP(r,null,o,n);let a=qe();if(t!==gr&&so(a,o,t)){let l=r.data[ea()];if(uP(l,n)&&!sP(r,o)){let d=n?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(t=H_(d,t||"")),PC(r,l,a,t,n)}else jz(r,l,a,a[Vt],a[o+1],a[o+1]=Nz(i,e,t),n,o)}}function sP(i,e){return e>=i.expandoStartIndex}function aP(i,e,t,n){let r=i.data;if(r[t+1]===null){let o=r[ea()],a=sP(i,t);uP(o,n)&&e===null&&!a&&(e=!1),e=Rz(r,o,e,n),Cz(r,o,e,t,a,n)}}function Rz(i,e,t,n){let r=c4(i),o=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(t=N_(null,i,e,t,n),t=$u(t,e.attrs,n),o=null);else{let a=e.directiveStylingLast;if(a===-1||i[a]!==r)if(t=N_(r,i,e,t,n),o===null){let d=Fz(i,e,n);d!==void 0&&Array.isArray(d)&&(d=N_(null,i,e,d[1],n),d=$u(d,e.attrs,n),Pz(i,e,n,d))}else o=Oz(i,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),t}function Fz(i,e,t){let n=t?e.classBindings:e.styleBindings;if(qc(n)!==0)return i[Qs(n)]}function Pz(i,e,t,n){let r=t?e.classBindings:e.styleBindings;i[Qs(r)]=n}function Oz(i,e,t){let n,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let a=i[o].hostAttrs;n=$u(n,a,t)}return $u(n,e.attrs,t)}function N_(i,e,t,n,r){let o=null,a=t.directiveEnd,l=t.directiveStylingLast;for(l===-1?l=t.directiveStart:l++;l<a&&(o=e[l],n=$u(n,o.hostAttrs,r),o!==i);)l++;return i!==null&&(t.directiveStylingLast=l),n}function $u(i,e,t){let n=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];typeof a=="number"?r=a:r===n&&(Array.isArray(i)||(i=i===void 0?[]:["",i]),vg(i,a,t?!0:e[++o]))}return i===void 0?null:i}function Nz(i,e,t){if(t==null||t==="")return Xi;let n=[],r=Vn(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)i(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&i(n,o,r[o]);else typeof r=="string"&&e(n,r);return n}function cP(i,e,t){vg(i,e,Vn(t))}function Lz(i,e,t){let n=String(e);n!==""&&!n.includes(" ")&&vg(i,n,t)}function jz(i,e,t,n,r,o,a,l){r===gr&&(r=Xi);let d=0,p=0,m=0<r.length?r[0]:null,b=0<o.length?o[0]:null;for(;m!==null||b!==null;){let w=d<r.length?r[d+1]:void 0,E=p<o.length?o[p+1]:void 0,T=null,V;m===b?(d+=2,p+=2,w!==E&&(T=b,V=E)):b===null||m!==null&&m<b?(d+=2,T=m):(p+=2,T=b,V=E),T!==null&&lP(i,e,t,n,T,V,a,l),m=d<r.length?r[d]:null,b=p<o.length?o[p]:null}}function lP(i,e,t,n,r,o,a,l){if(!(e.type&3))return;let d=i.data,p=d[l+1],m=_z(p)?LA(d,e,t,r,qc(p),a):void 0;if(!Xf(m)){Xf(o)||bz(p)&&(o=LA(d,null,t,r,l,a));let b=bR(ea(),t);TH(n,a,b,r,o)}}function LA(i,e,t,n,r,o){let a=e===null,l;for(;r>0;){let d=i[r],p=Array.isArray(d),m=p?d[1]:d,b=m===null,w=t[r+1];w===gr&&(w=b?Xi:void 0);let E=b?M_(w,n):m===n?w:void 0;if(p&&!Xf(E)&&(E=M_(d,n)),Xf(E)&&(l=E,a))return l;let T=i[r+1];r=a?Qs(T):qc(T)}if(e!==null){let d=o?e.residualClasses:e.residualStyles;d!=null&&(l=M_(d,n))}return l}function Xf(i){return i!==void 0}function Vz(i,e){return i==null||i===""||(typeof e=="string"?i=i+e:typeof i=="object"&&(i=Ni(Vn(i)))),i}function uP(i,e){return(i.flags&(e?8:16))!==0}var yce=new RegExp(`^(\\d+)*(${qH}|${GH})*(.*)`);var Bz=(i,e)=>null;function jA(i,e){return Bz(i,e)}function Hz(i,e,t,n){let r=e.tView,a=i[Fe]&4096?4096:16,l=Dg(i,r,t,a,null,e,null,null,null,n?.injector??null,n?.dehydratedView??null),d=i[e.index];l[qu]=d;let p=i[Fr];return p!==null&&(l[Fr]=p.createEmbeddedView(r)),ww(r,l,t),l}function VA(i,e){return!e||e.firstChild===null||rF(i)}function zz(i,e,t,n=!0){let r=e[Ye];if(mH(r,e,i,t),n){let a=iC(t,i),l=e[Vt],d=sw(l,i[Us]);d!==null&&pH(r,i[mn],l,e,d,a)}let o=e[Vu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}var Si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$z;let i=e;return i})();function $z(){let i=$i();return hP(i,qe())}var Uz=Si,dP=class extends Uz{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Xc(this._hostTNode,this._hostLView)}get injector(){return new zs(this._hostTNode,this._hostLView)}get parentInjector(){let e=JC(this._hostTNode,this._hostLView);if(NR(e)){let t=Bf(e,this._hostLView),n=Vf(e),r=t[Ye].data[n+8];return new zs(r,t)}else return new zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=BA(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-gn}createEmbeddedView(e,t,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let a=jA(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(t||{},o,a);return this.insertImpl(l,r,VA(this._hostTNode,a)),l}createComponent(e,t,n,r,o){let a=e&&!M4(e),l;if(a)l=t;else{let T=t||{};l=T.index,n=T.injector,r=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let d=a?e:new Gc(Wo(e)),p=n||this.parentInjector;if(!o&&d.ngModule==null){let V=(a?p:this.parentInjector).get(zi,null);V&&(o=V)}let m=Wo(d.componentType??{}),b=jA(this._lContainer,m?.id??null),w=b?.firstChild??null,E=d.create(p,r,w,o);return this.insertImpl(E.hostView,l,VA(this._hostTNode,b)),E}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,n){let r=e._lView;if(qB(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let d=r[ii],p=new dP(d,d[mn],d[ii]);p.detach(p.indexOf(e))}}let o=this._adjustIndex(t),a=this._lContainer;return zz(a,r,o,n),e.attachToViewContainerRef(),GR(L_(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=BA(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),n=tC(this._lContainer,t);n&&($f(L_(this._lContainer),t),dF(n[Ye],n))}detach(e){let t=this._adjustIndex(e,-1),n=tC(this._lContainer,t);return n&&$f(L_(this._lContainer),t)!=null?new Ys(n):null}_adjustIndex(e,t=0){return e??this.length+t}};function BA(i){return i[jf]}function L_(i){return i[jf]||(i[jf]=[])}function hP(i,e){let t,n=e[i.index];return pr(n)?t=n:(t=BF(n,e,null,i),e[i.index]=t,Sg(e,t)),Gz(t,e,i,n),new dP(t,i,e)}function Wz(i,e){let t=i[Vt],n=t.createComment(""),r=jn(e,i),o=sw(t,r);return Gf(t,o,n,wH(t,r),!1),n}var Gz=Kz,qz=(i,e,t)=>!1;function Zz(i,e,t){return qz(i,e,t)}function Kz(i,e,t,n){if(i[Us])return;let r;t.type&8?r=Or(n):r=Wz(e,t),i[Us]=r}function Yz(i,e,t,n,r,o,a,l,d){let p=e.consts,m=Jc(e,i,4,a||null,Uc(p,l));vw(e,t,m,Uc(p,d)),mg(e,m);let b=m.tView=gw(2,m,n,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,p,null);return e.queries!==null&&(e.queries.template(e,m),b.queries=e.queries.embeddedTView(m)),m}function Q(i,e,t,n,r,o,a,l){let d=qe(),p=Zt(),m=i+Ji,b=p.firstCreatePass?Yz(m,p,d,e,t,n,r,o,a):p.data[m];Js(b,!1);let w=Qz(p,d,b,i);fg()&&wg(p,d,w,b),qo(w,d);let E=BF(w,d,w,b);return d[m]=E,Sg(d,E),Zz(E,b,d),lg(b)&&pw(p,d,b),a!=null&&fw(d,b,l),Q}var Qz=Xz;function Xz(i,e,t,n){return gg(!0),e[Vt].createComment("")}function Jz(i,e,t,n,r,o){let a=e.consts,l=Uc(a,r),d=Jc(e,i,2,n,l);return vw(e,t,d,Uc(a,o)),d.attrs!==null&&Yf(d,d.attrs,!1),d.mergedAttrs!==null&&Yf(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function C(i,e,t,n){let r=qe(),o=Zt(),a=Ji+i,l=r[Vt],d=o.firstCreatePass?Jz(a,o,r,e,t,n):o.data[a],p=e6(o,r,d,l,e,i);r[a]=p;let m=lg(d);return Js(d,!0),bF(l,p,d),(d.flags&32)!==32&&fg()&&wg(o,r,p,d),QB()===0&&qo(p,r),XB(),m&&(pw(o,r,d),hw(o,d,r)),n!==null&&fw(r,d),C}function x(){let i=$i();ZC()?KC():(i=i.parent,Js(i,!1));let e=i;e4(e)&&t4(),JB();let t=Zt();return t.firstCreatePass&&(mg(t,i),WC(i)&&t.queries.elementEnd(i)),e.classesWithoutHost!=null&&m4(e)&&PC(t,e,qe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&v4(e)&&PC(t,e,qe(),e.stylesWithoutHost,!1),x}function R(i,e,t,n){return C(i,e,t,n),x(),R}var e6=(i,e,t,n,r,o)=>(gg(!0),lF(n,r,h4()));function t6(i,e,t,n,r){let o=e.consts,a=Uc(o,n),l=Jc(e,i,8,"ng-container",a);a!==null&&Yf(l,a,!0);let d=Uc(o,r);return vw(e,t,l,d),e.queries!==null&&e.queries.elementStart(e,l),l}function ze(i,e,t){let n=qe(),r=Zt(),o=i+Ji,a=r.firstCreatePass?t6(o,r,n,e,t):r.data[o];Js(a,!0);let l=i6(r,n,a,i);return n[o]=l,fg()&&wg(r,n,l,a),qo(l,n),lg(a)&&(pw(r,n,a),hw(r,a,n)),t!=null&&fw(n,a),ze}function Ze(){let i=$i(),e=Zt();return ZC()?KC():(i=i.parent,Js(i,!1)),e.firstCreatePass&&(mg(e,i),WC(i)&&e.queries.elementEnd(i)),Ze}function ia(i,e,t){return ze(i,e,t),Ze(),ia}var i6=(i,e,t,n)=>(gg(!0),dH(e[Vt],""));function Ne(){return qe()}function kg(i,e,t){let n=qe(),r=dg();if(so(n,r,e)){let o=Zt(),a=hg();mw(o,a,n,i,e,n[Vt],t,!0)}return kg}var Hs=void 0;function n6(i){let e=i,t=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var r6=["en",[["a","p"],["AM","PM"],Hs],[["AM","PM"],Hs,Hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hs,"{1} 'at' {0}",Hs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",n6],j_={};function Bn(i){let e=o6(i),t=HA(e);if(t)return t;let n=e.split("-")[0];if(t=HA(n),t)return t;if(n==="en")return r6;throw new Z(701,!1)}function HA(i){return i in j_||(j_[i]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[i]),j_[i]}var Kt=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Kt||{});function o6(i){return i.toLowerCase().replace(/_/g,"-")}var Jf="en-US";var s6=Jf;function a6(i){pB(i,"Expected localeId to be defined"),typeof i=="string"&&(s6=i.toLowerCase().replace(/_/g,"-"))}function na(i){return!!i&&typeof i.then=="function"}function pP(i){return!!i&&typeof i.subscribe=="function"}function Y(i,e,t,n){let r=qe(),o=Zt(),a=$i();return l6(o,r,r[Vt],a,i,e,n),Y}function c6(i,e,t,n){let r=i.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===t&&r[o+1]===n){let l=e[Bu],d=r[o+2];return l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function l6(i,e,t,n,r,o,a){let l=lg(n),p=i.firstCreatePass&&$F(i),m=e[dr],b=zF(e),w=!0;if(n.type&3||a){let V=jn(n,e),A=a?a(V):V,$=b.length,ce=a?we=>a(Or(we[n.index])):n.index,Te=null;if(!a&&l&&(Te=c6(i,e,r,n.index)),Te!==null){let we=Te.__ngLastListenerFn__||Te;we.__ngNextListenerFn__=o,Te.__ngLastListenerFn__=o,w=!1}else{o=$A(n,e,m,o,!1);let we=t.listen(A,r,o);b.push(o,we),p&&p.push(r,ce,$,$+1)}}else o=$A(n,e,m,o,!1);let E=n.outputs,T;if(w&&E!==null&&(T=E[r])){let V=T.length;if(V)for(let A=0;A<V;A+=2){let $=T[A],ce=T[A+1],Ot=e[$][ce].subscribe(o),mt=b.length;b.push(o,Ot),p&&p.push(r,n.index,mt,-(mt+1))}}}function zA(i,e,t,n){try{return Ar(6,e,t),t(n)!==!1}catch(r){return UF(i,r),!1}finally{Ar(7,e,t)}}function $A(i,e,t,n,r){return function o(a){if(a===Function)return n;let l=i.componentOffset>-1?Yo(i.index,e):e;yw(l);let d=zA(e,t,n,a),p=o.__ngNextListenerFn__;for(;p;)d=zA(e,t,p,a)&&d,p=p.__ngNextListenerFn__;return r&&d===!1&&a.preventDefault(),d}}function D(i=1){return u4(i)}function u6(i,e){let t=null,n=AB(i);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(n===null?oR(i,o,!0):PB(n,o))return r}return t}function Wi(i){let e=qe()[hr][mn];if(!e.projection){let t=i?i.length:1,n=e.projection=qR(t,null),r=n.slice(),o=e.child;for(;o!==null;){let a=i?u6(o,i):0;a!==null&&(r[a]?r[a].projectionNext=o:n[a]=o,r[a]=o),o=o.next}}}function Gi(i,e=0,t){let n=qe(),r=Zt(),o=Jc(r,Ji+i,16,null,t||null);o.projection===null&&(o.projection=e),KC(),(!n[Vu]||ER())&&(o.flags&32)!==32&&DH(r,n,o)}function od(i,e,t){return fP(i,"",e,"",t),od}function fP(i,e,t,n,r){let o=qe(),a=XF(o,e,t,n);if(a!==gr){let l=Zt(),d=hg();mw(l,d,o,i,a,o[Vt],r,!1)}return fP}function d6(i,e,t,n){t>=i.data.length&&(i.data[t]=null,i.blueprint[t]=null),e[t]=n}function sd(i){let e=n4();return GC(e,Ji+i)}function j(i,e=""){let t=qe(),n=Zt(),r=i+Ji,o=n.firstCreatePass?Jc(n,r,1,e,null):n.data[r],a=h6(n,t,o,e,i);t[r]=a,fg()&&wg(n,t,a,o),Js(o,!1)}var h6=(i,e,t,n,r)=>(gg(!0),lH(e[Vt],n));function ht(i){return ge("",i,""),ht}function ge(i,e,t){let n=qe(),r=XF(n,i,e,t);return r!==gr&&N5(n,ea(),r),ge}function p6(i,e,t){let n=Zt();if(n.firstCreatePass){let r=Go(i);OC(t,n.data,n.blueprint,r,!0),OC(e,n.data,n.blueprint,r,!1)}}function OC(i,e,t,n,r){if(i=Hi(i),Array.isArray(i))for(let o=0;o<i.length;o++)OC(i[o],e,t,n,r);else{let o=Zt(),a=qe(),l=$i(),d=Wc(i)?i:Hi(i.provide),p=JR(i),m=l.providerIndexes&1048575,b=l.directiveStart,w=l.providerIndexes>>20;if(Wc(i)||!i.multi){let E=new qs(p,r,f),T=B_(d,e,r?m:m+w,b);T===-1?(K_(zf(l,a),o,d),V_(o,i,e.length),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(E),a.push(E)):(t[T]=E,a[T]=E)}else{let E=B_(d,e,m+w,b),T=B_(d,e,m,m+w),V=E>=0&&t[E],A=T>=0&&t[T];if(r&&!A||!r&&!V){K_(zf(l,a),o,d);let $=m6(r?g6:f6,t.length,r,n,p);!r&&A&&(t[T].providerFactory=$),V_(o,i,e.length,0),e.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push($),a.push($)}else{let $=gP(t[r?T:E],p,!r&&n);V_(o,i,E>-1?E:T,$)}!r&&n&&A&&t[T].componentProviders++}}}function V_(i,e,t,n){let r=Wc(e),o=U4(e);if(r||o){let d=(o?Hi(e.useClass):e).prototype.ngOnDestroy;if(d){let p=i.destroyHooks||(i.destroyHooks=[]);if(!r&&e.multi){let m=p.indexOf(t);m===-1?p.push(t,[n,d]):p[m+1].push(n,d)}else p.push(t,d)}}}function gP(i,e,t){return t&&i.componentProviders++,i.multi.push(e)-1}function B_(i,e,t,n){for(let r=t;r<n;r++)if(e[r]===i)return r;return-1}function f6(i,e,t,n){return NC(this.multi,[])}function g6(i,e,t,n){let r=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Zs(t,t[Ye],this.providerFactory.index,n);o=l.slice(0,a),NC(r,o);for(let d=a;d<l.length;d++)o.push(l[d])}else o=[],NC(r,o);return o}function NC(i,e){for(let t=0;t<i.length;t++){let n=i[t];e.push(n())}return e}function m6(i,e,t,n,r){let o=new qs(i,t,f);return o.multi=[],o.index=e,o.componentProviders=0,gP(o,r,n&&!t),o}function pt(i,e=[]){return t=>{t.providersResolver=(n,r)=>p6(n,r?r(i):i,e)}}var Ko=class{},Uu=class{};var eg=class extends Ko{constructor(e,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qf(this);let r=lR(e);this._bootstrapComponents=nF(r.bootstrap),this._r3Injector=eF(e,t,[{provide:Ko,useValue:this},{provide:Lt,useValue:this.componentFactoryResolver},...n],Ni(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},tg=class extends Uu{constructor(e){super(),this.moduleType=e}create(e){return new eg(this.moduleType,e,[])}};function v6(i,e,t){return new eg(i,e,t)}var LC=class extends Ko{constructor(e){super(),this.componentFactoryResolver=new Qf(this),this.instance=null;let t=new zu([...e.providers,{provide:Ko,useValue:this},{provide:Lt,useValue:this.componentFactoryResolver}],e.parent||iw(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ag(i,e,t=null){return new LC({providers:i,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var b6=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=YR(!1,n.type),o=r.length>0?Ag([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(M(zi))});let i=e;return i})();function mP(i){Tg("NgStandalone"),i.getStandaloneInjector=e=>e.get(b6).getOrCreateStandaloneInjector(i)}function vP(i,e,t){let n=Yc()+i,r=qe();return r[n]===gr?Mg(r,n,t?e.call(t):e()):mz(r,n)}function Rg(i,e,t,n){return bP(qe(),Yc(),i,e,t,n)}function Iw(i,e,t,n,r){return yP(qe(),Yc(),i,e,t,n,r)}function Ew(i,e,t,n,r,o,a){return y6(qe(),Yc(),i,e,t,n,r,o,a)}function Dw(i,e){let t=i[e];return t===gr?void 0:t}function bP(i,e,t,n,r,o){let a=e+t;return so(i,a,r)?Mg(i,a+1,o?n.call(o,r):n(r)):Dw(i,a+1)}function yP(i,e,t,n,r,o,a){let l=e+t;return AC(i,l,r,o)?Mg(i,l+2,a?n.call(a,r,o):n(r,o)):Dw(i,l+2)}function y6(i,e,t,n,r,o,a,l,d){let p=e+t;return vz(i,p,r,o,a,l)?Mg(i,p+4,d?n.call(d,r,o,a,l):n(r,o,a,l)):Dw(i,p+4)}function be(i,e){let t=Zt(),n,r=i+Ji;t.firstCreatePass?(n=_6(e,t.pipeRegistry),t.data[r]=n,n.onDestroy&&(t.destroyHooks??=[]).push(r,n.onDestroy)):n=t.data[r];let o=n.factory||(n.factory=Ws(n.type,!0)),a,l=Qi(f);try{let d=Hf(!1),p=o();return Hf(d),d6(t,qe(),r,p),p}finally{Qi(l)}}function _6(i,e){if(e)for(let t=e.length-1;t>=0;t--){let n=e[t];if(i===n.name)return n}}function Se(i,e,t){let n=i+Ji,r=qe(),o=GC(r,n);return _P(r,n)?bP(r,Yc(),e,o.transform,t,o):o.transform(t)}function ra(i,e,t,n){let r=i+Ji,o=qe(),a=GC(o,r);return _P(o,r)?yP(o,Yc(),e,a.transform,t,n,a):a.transform(t,n)}function _P(i,e){return i[Ye].data[e].pure}function C6(){return this._results[Symbol.iterator]()}var ig=class i{get changes(){return this._changes??=new J}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=i.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=C6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let n=A4(e);(this._changesDetected=!k4(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},at=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=I6;let i=e;return i})(),w6=at,x6=class extends w6{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,n){let r=Hz(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:n});return new Ys(r)}};function I6(){return Fg($i(),qe())}function Fg(i,e){return i.type&4?new x6(e,i,Xc(i,e)):null}var jC=class i{constructor(e){this.queryList=e,this.matches=null}clone(){return new i(this.queryList)}setDirty(){this.queryList.setDirty()}},VC=class i{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let n=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<n;o++){let a=t.getByIndex(o),l=this.queries[a.indexInDeclarationView];r.push(l.clone())}return new i(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)IP(e,t).matches!==null&&this.queries[t].setDirty()}},ng=class{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}},BC=class i{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){let r=t!==null?t.length:0,o=this.getByIndex(n).embeddedTView(e,r);o&&(o.indexInDeclarationView=n,t!==null?t.push(o):t=[o])}return t!==null?new i(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},HC=class i{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new i(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==t;)n=n.parent;return t===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(e,t,E6(t,o)),this.matchTNodeWithReadOption(e,t,Rf(t,e,o,!1,!1))}else n===at?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Rf(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===F||r===Si||r===at&&t.type&4)this.addMatch(t.index,-2);else{let o=Rf(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function E6(i,e){let t=i.localNames;if(t!==null){for(let n=0;n<t.length;n+=2)if(t[n]===e)return t[n+1]}return null}function D6(i,e){return i.type&11?Xc(i,e):i.type&4?Fg(i,e):null}function S6(i,e,t,n){return t===-1?D6(e,i):t===-2?T6(i,e,n):Zs(i,i[Ye],t,e)}function T6(i,e,t){if(t===F)return Xc(e,i);if(t===at)return Fg(e,i);if(t===Si)return hP(e,i)}function CP(i,e,t,n){let r=e[Fr].queries[n];if(r.matches===null){let o=i.data,a=t.matches,l=[];for(let d=0;d<a.length;d+=2){let p=a[d];if(p<0)l.push(null);else{let m=o[p];l.push(S6(e,m,a[d+1],t.metadata.read))}}r.matches=l}return r.matches}function zC(i,e,t,n){let r=i.queries.getByIndex(t),o=r.matches;if(o!==null){let a=CP(i,e,r,t);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)n.push(a[l/2]);else{let p=o[l+1],m=e[-d];for(let b=gn;b<m.length;b++){let w=m[b];w[qu]===w[ii]&&zC(w[Ye],w,p,n)}if(m[zc]!==null){let b=m[zc];for(let w=0;w<b.length;w++){let E=b[w];zC(E[Ye],E,p,n)}}}}}return n}function xe(i){let e=qe(),t=Zt(),n=TR();YC(n+1);let r=IP(t,n);if(i.dirty&&GB(e)===((r.metadata.flags&2)===2)){if(r.matches===null)i.reset([]);else{let o=r.crossesNgTemplate?zC(t,e,n,[]):CP(t,e,r,n);i.reset(o,XH),i.notifyOnChanges()}return!0}return!1}function ke(i,e,t){let n=Zt();n.firstCreatePass&&(xP(n,new ng(i,e,t),-1),(e&2)===2&&(n.staticViewQueries=!0)),wP(n,qe(),e)}function Pg(i,e,t,n){let r=Zt();if(r.firstCreatePass){let o=$i();xP(r,new ng(e,t,n),o.index),k6(r,i),(t&2)===2&&(r.staticContentQueries=!0)}wP(r,qe(),t)}function Ie(){return M6(qe(),TR())}function M6(i,e){return i[Fr].queries[e].queryList}function wP(i,e,t){let n=new ig((t&4)===4);v5(i,e,n,n.destroy),e[Fr]===null&&(e[Fr]=new VC),e[Fr].queries.push(new jC(n))}function xP(i,e,t){i.queries===null&&(i.queries=new BC),i.queries.track(new HC(e,t))}function k6(i,e){let t=i.contentQueries||(i.contentQueries=[]),n=t.length?t[t.length-1]:-1;e!==n&&t.push(i.queries.length-1,e)}function IP(i,e){return i.queries.getByIndex(e)}function _t(i,e){return Fg(i,e)}var Mf=null;function A6(i){Mf!==null&&(i.defaultEncapsulation!==Mf.defaultEncapsulation||i.preserveWhitespaces!==Mf.preserveWhitespaces)||(Mf=i)}var Og=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let i=e;return i})(),el=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new zt(!1)}add(){this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),$C=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ng=(()=>{let e=class e{compileModuleSync(n){return new tg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=lR(n),a=nF(o.declarations).reduce((l,d)=>{let p=Wo(d);return p&&l.push(new Gc(p)),l},[]);return new $C(r,a)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),R6=new ie("compilerOptions");var Sw=new ie(""),ad=new ie(""),Lg=(()=>{let e=class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tw||(F6(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(M(Ge),M(jg),M(ad))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),jg=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Tw?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let i=e;return i})();function F6(i){Tw=i}var Tw,Vg=new ie("Application Initializer"),EP=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=B(Vg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let a=o();if(na(a))n.push(a);else if(pP(a)){let l=new Promise((d,p)=>{a.subscribe({complete:d,error:p})});n.push(l)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),cd=new ie("appBootstrapListener");function P6(i,e,t){let n=new tg(t);return Promise.resolve(n)}function O6(){Sk(()=>{throw new Z(600,!1)})}function N6(i){return i.isBoundToModule}function L6(i,e,t){try{let n=t();return na(n)?n.catch(r=>{throw e.runOutsideAngular(()=>i.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>i.handleError(n)),n}}function DP(i,e){return Array.isArray(e)?e.reduce(DP,i):X(X({},i),e)}var Ci=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(AF),this.zoneIsStable=B(KF),this.componentTypes=[],this.components=[],this.isStable=B(el).hasPendingTasks.pipe(Oi(n=>n?Ce(!1):this.zoneIsStable),Fu()),this._injector=B(zi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof qf;if(!this._injector.get(EP).done){let T="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&cR(n)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new Z(405,!1)}let l;o?l=n:l=this._injector.get(Lt).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let d=N6(l)?void 0:this._injector.get(Ko),p=r||l.selector,m=l.create(Pe.NULL,[],p,d),b=m.location.nativeElement,w=m.injector.get(Sw,null);return w?.registerApplication(b),m.onDestroy(()=>{this.detachView(m.hostView),Of(this.components,m),w?.unregisterApplication(b)}),this._loadComponent(m),m}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Of(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(cd,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Of(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Of(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function UA(i){for(let e=i.length-1;e>=0;e--)if(i[e]!==void 0)return i[e]}var j6=(()=>{let e=class e{constructor(){this.zone=B(Ge),this.applicationRef=B(Ci)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function V6(i){return[{provide:Ge,useFactory:i},{provide:Yu,multi:!0,useFactory:()=>{let e=B(j6,{optional:!0});return()=>e.initialize()}},{provide:AF,useFactory:B6},{provide:KF,useFactory:YF}]}function B6(){let i=B(Ge),e=B(fr);return t=>i.runOutsideAngular(()=>e.handleError(t))}function H6(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}function z6(){return typeof $localize<"u"&&$localize.locale||Jf}var ld=new ie("LocaleId",{providedIn:"root",factory:()=>B(ld,Xe.Optional|Xe.SkipSelf)||z6()});var SP=new ie("PlatformDestroyListeners"),TP=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let o=X5(r?.ngZone,H6({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let a=v6(n.moduleType,this.injector,V6(()=>o)),l=a.injector.get(fr,null);return o.runOutsideAngular(()=>{let d=o.onError.subscribe({next:p=>{l.handleError(p)}});a.onDestroy(()=>{Of(this._modules,a),d.unsubscribe()})}),L6(l,o,()=>{let d=a.injector.get(EP);return d.runInitializers(),d.donePromise.then(()=>{let p=a.injector.get(ld,Jf);return a6(p||Jf),this._moduleDoBootstrap(a),a})})})}bootstrapModule(n,r=[]){let o=DP({},r);return P6(this.injector,o,n).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(n){let r=n.injector.get(Ci);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new Z(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(SP,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(M(Pe))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let i=e;return i})(),Nu=null,MP=new ie("AllowMultipleToken");function $6(i){if(Nu&&!Nu.get(MP,!1))throw new Z(400,!1);O6(),Nu=i;let e=i.get(TP);return G6(i),e}function Mw(i,e,t=[]){let n=`Platform: ${e}`,r=new ie(n);return(o=[])=>{let a=kP();if(!a||a.injector.get(MP,!1)){let l=[...t,...o,{provide:r,useValue:!0}];i?i(l):$6(U6(l,n))}return W6(r)}}function U6(i=[],e){return Pe.create({name:e,providers:[{provide:yg,useValue:"platform"},{provide:SP,useValue:new Set([()=>Nu=null])},...i]})}function W6(i){let e=kP();if(!e)throw new Z(401,!1);return e}function kP(){return Nu?.get(TP)??null}function G6(i){i.get(nw,null)?.forEach(t=>t())}var AP=Mw(null,"core",[]),RP=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(M(Ci))},e.\u0275mod=q({type:e}),e.\u0275inj=G({});let i=e;return i})();function FP(i){let e=Wo(i);if(!e)return null;let t=new Gc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Pw=null;function Vr(){return Pw}function BP(i){Pw||(Pw=i)}var qg=class{},ot=new ie("DocumentToken"),Vw=(()=>{let e=class e{historyGo(n){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>(()=>B(q6))(),providedIn:"platform"});let i=e;return i})(),HP=new ie("Location Initialized"),q6=(()=>{let e=class e extends Vw{constructor(){super(),this._doc=B(ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vr().getBaseHref(this._doc)}onPopState(n){let r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let i=e;return i})();function Bw(i,e){if(i.length==0)return e;if(e.length==0)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?i+e.substring(1):t==1?i+e:i+"/"+e}function PP(i){let e=i.match(/#|\?|$/),t=e&&e.index||i.length,n=t-(i[t-1]==="/"?1:0);return i.slice(0,n)+i.slice(t)}function uo(i){return i&&i[0]!=="?"?"?"+i:i}var oa=(()=>{let e=class e{historyGo(n){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>(()=>B(Hw))(),providedIn:"root"});let i=e;return i})(),zP=new ie("appBaseHref"),Hw=(()=>{let e=class e extends oa{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+uo(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,a){let l=this.prepareExternalUrl(o+uo(a));this._platformLocation.pushState(n,r,l)}replaceState(n,r,o,a){let l=this.prepareExternalUrl(o+uo(a));this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(M(Vw),M(zP,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),$P=(()=>{let e=class e extends oa{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return r==null&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Bw(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,a){let l=this.prepareExternalUrl(o+uo(a));l.length==0&&(l=this._platformLocation.pathname),this._platformLocation.pushState(n,r,l)}replaceState(n,r,o,a){let l=this.prepareExternalUrl(o+uo(a));l.length==0&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(M(Vw),M(zP,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),il=(()=>{let e=class e{constructor(n){this._subject=new J,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Y6(PP(OP(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+uo(r))}normalize(n){return e.stripTrailingSlash(K6(this._basePath,OP(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+uo(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+uo(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}};e.normalizeQueryParams=uo,e.joinWithSlash=Bw,e.stripTrailingSlash=PP,e.\u0275fac=function(r){return new(r||e)(M(oa))},e.\u0275prov=N({token:e,factory:()=>Z6(),providedIn:"root"});let i=e;return i})();function Z6(){return new il(M(oa))}function K6(i,e){if(!i||!e.startsWith(i))return e;let t=e.substring(i.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function OP(i){return i.replace(/\/index.html$/,"")}function Y6(i){if(new RegExp("^(https?:)?//").test(i)){let[,t]=i.split(/\/\/[^\/]+/);return t}return i}var qi=function(i){return i[i.Format=0]="Format",i[i.Standalone=1]="Standalone",i}(qi||{}),Mt=function(i){return i[i.Narrow=0]="Narrow",i[i.Abbreviated=1]="Abbreviated",i[i.Wide=2]="Wide",i[i.Short=3]="Short",i}(Mt||{}),vn=function(i){return i[i.Short=0]="Short",i[i.Medium=1]="Medium",i[i.Long=2]="Long",i[i.Full=3]="Full",i}(vn||{}),ho=function(i){return i[i.Decimal=0]="Decimal",i[i.Group=1]="Group",i[i.List=2]="List",i[i.PercentSign=3]="PercentSign",i[i.PlusSign=4]="PlusSign",i[i.MinusSign=5]="MinusSign",i[i.Exponential=6]="Exponential",i[i.SuperscriptingExponent=7]="SuperscriptingExponent",i[i.PerMille=8]="PerMille",i[i.Infinity=9]="Infinity",i[i.NaN=10]="NaN",i[i.TimeSeparator=11]="TimeSeparator",i[i.CurrencyDecimal=12]="CurrencyDecimal",i[i.CurrencyGroup=13]="CurrencyGroup",i}(ho||{});function Q6(i){return Bn(i)[Kt.LocaleId]}function X6(i,e,t){let n=Bn(i),r=[n[Kt.DayPeriodsFormat],n[Kt.DayPeriodsStandalone]],o=Hn(r,e);return Hn(o,t)}function J6(i,e,t){let n=Bn(i),r=[n[Kt.DaysFormat],n[Kt.DaysStandalone]],o=Hn(r,e);return Hn(o,t)}function e8(i,e,t){let n=Bn(i),r=[n[Kt.MonthsFormat],n[Kt.MonthsStandalone]],o=Hn(r,e);return Hn(o,t)}function t8(i,e){let n=Bn(i)[Kt.Eras];return Hn(n,e)}function Bg(i,e){let t=Bn(i);return Hn(t[Kt.DateFormat],e)}function Hg(i,e){let t=Bn(i);return Hn(t[Kt.TimeFormat],e)}function zg(i,e){let n=Bn(i)[Kt.DateTimeFormat];return Hn(n,e)}function Qg(i,e){let t=Bn(i),n=t[Kt.NumberSymbols][e];if(typeof n>"u"){if(e===ho.CurrencyDecimal)return t[Kt.NumberSymbols][ho.Decimal];if(e===ho.CurrencyGroup)return t[Kt.NumberSymbols][ho.Group]}return n}function UP(i){if(!i[Kt.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[Kt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function i8(i){let e=Bn(i);return UP(e),(e[Kt.ExtraData][2]||[]).map(n=>typeof n=="string"?kw(n):[kw(n[0]),kw(n[1])])}function n8(i,e,t){let n=Bn(i);UP(n);let r=[n[Kt.ExtraData][0],n[Kt.ExtraData][1]],o=Hn(r,e)||[];return Hn(o,t)||[]}function Hn(i,e){for(let t=e;t>-1;t--)if(typeof i[t]<"u")return i[t];throw new Error("Locale data API: locale data undefined")}function kw(i){let[e,t]=i.split(":");return{hours:+e,minutes:+t}}var r8=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ud={},o8=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,po=function(i){return i[i.Short=0]="Short",i[i.ShortGMT=1]="ShortGMT",i[i.Long=2]="Long",i[i.Extended=3]="Extended",i}(po||{}),gt=function(i){return i[i.FullYear=0]="FullYear",i[i.Month=1]="Month",i[i.Date=2]="Date",i[i.Hours=3]="Hours",i[i.Minutes=4]="Minutes",i[i.Seconds=5]="Seconds",i[i.FractionalSeconds=6]="FractionalSeconds",i[i.Day=7]="Day",i}(gt||{}),ft=function(i){return i[i.DayPeriods=0]="DayPeriods",i[i.Days=1]="Days",i[i.Months=2]="Months",i[i.Eras=3]="Eras",i}(ft||{});function s8(i,e,t,n){let r=g8(i);e=lo(t,e)||e;let a=[],l;for(;e;)if(l=o8.exec(e),l){a=a.concat(l.slice(1));let m=a.pop();if(!m)break;e=m}else{a.push(e);break}let d=r.getTimezoneOffset();n&&(d=GP(n,d),r=f8(r,n,!0));let p="";return a.forEach(m=>{let b=h8(m);p+=b?b(r,t,d):m==="''"?"'":m.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function Zg(i,e,t){let n=new Date(0);return n.setFullYear(i,e,t),n.setHours(0,0,0),n}function lo(i,e){let t=Q6(i);if(ud[t]=ud[t]||{},ud[t][e])return ud[t][e];let n="";switch(e){case"shortDate":n=Bg(i,vn.Short);break;case"mediumDate":n=Bg(i,vn.Medium);break;case"longDate":n=Bg(i,vn.Long);break;case"fullDate":n=Bg(i,vn.Full);break;case"shortTime":n=Hg(i,vn.Short);break;case"mediumTime":n=Hg(i,vn.Medium);break;case"longTime":n=Hg(i,vn.Long);break;case"fullTime":n=Hg(i,vn.Full);break;case"short":let r=lo(i,"shortTime"),o=lo(i,"shortDate");n=$g(zg(i,vn.Short),[r,o]);break;case"medium":let a=lo(i,"mediumTime"),l=lo(i,"mediumDate");n=$g(zg(i,vn.Medium),[a,l]);break;case"long":let d=lo(i,"longTime"),p=lo(i,"longDate");n=$g(zg(i,vn.Long),[d,p]);break;case"full":let m=lo(i,"fullTime"),b=lo(i,"fullDate");n=$g(zg(i,vn.Full),[m,b]);break}return n&&(ud[t][e]=n),n}function $g(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,n){return e!=null&&n in e?e[n]:t})),i}function mr(i,e,t="-",n,r){let o="";(i<0||r&&i<=0)&&(r?i=-i+1:(i=-i,o=t));let a=String(i);for(;a.length<e;)a="0"+a;return n&&(a=a.slice(a.length-e)),o+a}function a8(i,e){return mr(i,3).substring(0,e)}function ri(i,e,t=0,n=!1,r=!1){return function(o,a){let l=c8(i,o);if((t>0||l>-t)&&(l+=t),i===gt.Hours)l===0&&t===-12&&(l=12);else if(i===gt.FractionalSeconds)return a8(l,e);let d=Qg(a,ho.MinusSign);return mr(l,e,d,n,r)}}function c8(i,e){switch(i){case gt.FullYear:return e.getFullYear();case gt.Month:return e.getMonth();case gt.Date:return e.getDate();case gt.Hours:return e.getHours();case gt.Minutes:return e.getMinutes();case gt.Seconds:return e.getSeconds();case gt.FractionalSeconds:return e.getMilliseconds();case gt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}function Rt(i,e,t=qi.Format,n=!1){return function(r,o){return l8(r,o,i,e,t,n)}}function l8(i,e,t,n,r,o){switch(t){case ft.Months:return e8(e,r,n)[i.getMonth()];case ft.Days:return J6(e,r,n)[i.getDay()];case ft.DayPeriods:let a=i.getHours(),l=i.getMinutes();if(o){let p=i8(e),m=n8(e,r,n),b=p.findIndex(w=>{if(Array.isArray(w)){let[E,T]=w,V=a>=E.hours&&l>=E.minutes,A=a<T.hours||a===T.hours&&l<T.minutes;if(E.hours<T.hours){if(V&&A)return!0}else if(V||A)return!0}else if(w.hours===a&&w.minutes===l)return!0;return!1});if(b!==-1)return m[b]}return X6(e,r,n)[a<12?0:1];case ft.Eras:return t8(e,n)[i.getFullYear()<=0?0:1];default:let d=t;throw new Error(`unexpected translation type ${d}`)}}function Ug(i){return function(e,t,n){let r=-1*n,o=Qg(t,ho.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(i){case po.Short:return(r>=0?"+":"")+mr(a,2,o)+mr(Math.abs(r%60),2,o);case po.ShortGMT:return"GMT"+(r>=0?"+":"")+mr(a,1,o);case po.Long:return"GMT"+(r>=0?"+":"")+mr(a,2,o)+":"+mr(Math.abs(r%60),2,o);case po.Extended:return n===0?"Z":(r>=0?"+":"")+mr(a,2,o)+":"+mr(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${i}"`)}}}var u8=0,Gg=4;function d8(i){let e=Zg(i,u8,1).getDay();return Zg(i,0,1+(e<=Gg?Gg:Gg+7)-e)}function WP(i){return Zg(i.getFullYear(),i.getMonth(),i.getDate()+(Gg-i.getDay()))}function Aw(i,e=!1){return function(t,n){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();r=1+Math.floor((a+o)/7)}else{let o=WP(t),a=d8(o.getFullYear()),l=o.getTime()-a.getTime();r=1+Math.round(l/6048e5)}return mr(r,i,Qg(n,ho.MinusSign))}}function Wg(i,e=!1){return function(t,n){let o=WP(t).getFullYear();return mr(o,i,Qg(n,ho.MinusSign),e)}}var Rw={};function h8(i){if(Rw[i])return Rw[i];let e;switch(i){case"G":case"GG":case"GGG":e=Rt(ft.Eras,Mt.Abbreviated);break;case"GGGG":e=Rt(ft.Eras,Mt.Wide);break;case"GGGGG":e=Rt(ft.Eras,Mt.Narrow);break;case"y":e=ri(gt.FullYear,1,0,!1,!0);break;case"yy":e=ri(gt.FullYear,2,0,!0,!0);break;case"yyy":e=ri(gt.FullYear,3,0,!1,!0);break;case"yyyy":e=ri(gt.FullYear,4,0,!1,!0);break;case"Y":e=Wg(1);break;case"YY":e=Wg(2,!0);break;case"YYY":e=Wg(3);break;case"YYYY":e=Wg(4);break;case"M":case"L":e=ri(gt.Month,1,1);break;case"MM":case"LL":e=ri(gt.Month,2,1);break;case"MMM":e=Rt(ft.Months,Mt.Abbreviated);break;case"MMMM":e=Rt(ft.Months,Mt.Wide);break;case"MMMMM":e=Rt(ft.Months,Mt.Narrow);break;case"LLL":e=Rt(ft.Months,Mt.Abbreviated,qi.Standalone);break;case"LLLL":e=Rt(ft.Months,Mt.Wide,qi.Standalone);break;case"LLLLL":e=Rt(ft.Months,Mt.Narrow,qi.Standalone);break;case"w":e=Aw(1);break;case"ww":e=Aw(2);break;case"W":e=Aw(1,!0);break;case"d":e=ri(gt.Date,1);break;case"dd":e=ri(gt.Date,2);break;case"c":case"cc":e=ri(gt.Day,1);break;case"ccc":e=Rt(ft.Days,Mt.Abbreviated,qi.Standalone);break;case"cccc":e=Rt(ft.Days,Mt.Wide,qi.Standalone);break;case"ccccc":e=Rt(ft.Days,Mt.Narrow,qi.Standalone);break;case"cccccc":e=Rt(ft.Days,Mt.Short,qi.Standalone);break;case"E":case"EE":case"EEE":e=Rt(ft.Days,Mt.Abbreviated);break;case"EEEE":e=Rt(ft.Days,Mt.Wide);break;case"EEEEE":e=Rt(ft.Days,Mt.Narrow);break;case"EEEEEE":e=Rt(ft.Days,Mt.Short);break;case"a":case"aa":case"aaa":e=Rt(ft.DayPeriods,Mt.Abbreviated);break;case"aaaa":e=Rt(ft.DayPeriods,Mt.Wide);break;case"aaaaa":e=Rt(ft.DayPeriods,Mt.Narrow);break;case"b":case"bb":case"bbb":e=Rt(ft.DayPeriods,Mt.Abbreviated,qi.Standalone,!0);break;case"bbbb":e=Rt(ft.DayPeriods,Mt.Wide,qi.Standalone,!0);break;case"bbbbb":e=Rt(ft.DayPeriods,Mt.Narrow,qi.Standalone,!0);break;case"B":case"BB":case"BBB":e=Rt(ft.DayPeriods,Mt.Abbreviated,qi.Format,!0);break;case"BBBB":e=Rt(ft.DayPeriods,Mt.Wide,qi.Format,!0);break;case"BBBBB":e=Rt(ft.DayPeriods,Mt.Narrow,qi.Format,!0);break;case"h":e=ri(gt.Hours,1,-12);break;case"hh":e=ri(gt.Hours,2,-12);break;case"H":e=ri(gt.Hours,1);break;case"HH":e=ri(gt.Hours,2);break;case"m":e=ri(gt.Minutes,1);break;case"mm":e=ri(gt.Minutes,2);break;case"s":e=ri(gt.Seconds,1);break;case"ss":e=ri(gt.Seconds,2);break;case"S":e=ri(gt.FractionalSeconds,1);break;case"SS":e=ri(gt.FractionalSeconds,2);break;case"SSS":e=ri(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ug(po.Short);break;case"ZZZZZ":e=Ug(po.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ug(po.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ug(po.Long);break;default:return null}return Rw[i]=e,e}function GP(i,e){i=i.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function p8(i,e){return i=new Date(i.getTime()),i.setMinutes(i.getMinutes()+e),i}function f8(i,e,t){let n=t?-1:1,r=i.getTimezoneOffset(),o=GP(e,r);return p8(i,n*(o-r))}function g8(i){if(NP(i))return i;if(typeof i=="number"&&!isNaN(i))return new Date(i);if(typeof i=="string"){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){let[r,o=1,a=1]=i.split("-").map(l=>+l);return Zg(r,o-1,a)}let t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let n;if(n=i.match(r8))return m8(n)}let e=new Date(i);if(!NP(e))throw new Error(`Unable to convert "${i}" into a date`);return e}function m8(i){let e=new Date(0),t=0,n=0,r=i[8]?e.setUTCFullYear:e.setFullYear,o=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),n=Number(i[9]+i[11])),r.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));let a=Number(i[4]||0)-t,l=Number(i[5]||0)-n,d=Number(i[6]||0),p=Math.floor(parseFloat("0."+(i[7]||0))*1e3);return o.call(e,a,l,d,p),e}function NP(i){return i instanceof Date&&!isNaN(i.valueOf())}function Xg(i,e){e=encodeURIComponent(e);for(let t of i.split(";")){let n=t.indexOf("="),[r,o]=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Fw=/\s+/,LP=[],fo=(()=>{let e=class e{constructor(n,r,o,a){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=o,this._renderer=a,this.initialClasses=LP,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Fw):LP}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Fw):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Fw).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(r){return new(r||e)(f(nd),f(rd),f(F),f(At))},e.\u0275dir=ne({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let i=e;return i})();var Ow=class{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},di=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(!1)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,a,l)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Ow(o.item,this._ngForOf,-1,-1),l===null?void 0:l);else if(l==null)r.remove(a===null?void 0:a);else if(a!==null){let d=r.get(a);r.move(d,l),jP(d,o)}});for(let o=0,a=r.length;o<a;o++){let d=r.get(o).context;d.index=o,d.count=a,d.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let a=r.get(o.currentIndex);jP(a,o)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(f(Si),f(at),f(nd))},e.\u0275dir=ne({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let i=e;return i})();function jP(i,e){i.context.$implicit=e.item}var Ft=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new Nw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VP("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VP("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(f(Si),f(at))},e.\u0275dir=ne({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let i=e;return i})(),Nw=class{constructor(){this.$implicit=null,this.ngIf=null}};function VP(i,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${i} must be a TemplateRef, but received '${Ni(e)}'.`)}var v8=!0,Lw=class{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},zw=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=v8?n===this._ngSwitch:n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ne({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let i=e;return i})(),qP=(()=>{let e=class e{constructor(n,r,o){this.ngSwitch=o,o._addCase(),this._view=new Lw(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(r){return new(r||e)(f(Si),f(at),f(zw,9))},e.\u0275dir=ne({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let i=e;return i})();var ZP=(()=>{let e=class e{constructor(n,r,o){this._ngEl=n,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[o,a]=n.split("."),l=o.indexOf("-")===-1?void 0:Nr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,a?`${r}${a}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,o,l)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(f(F),f(rd),f(At))},e.\u0275dir=ne({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let i=e;return i})(),dd=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,o):!1,get:(n,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}};e.\u0275fac=function(r){return new(r||e)(f(Si))},e.\u0275dir=ne({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[le]});let i=e;return i})();function b8(i,e){return new Z(2100,!1)}var y8="mediumDate",_8=new ie("DATE_PIPE_DEFAULT_TIMEZONE"),C8=new ie("DATE_PIPE_DEFAULT_OPTIONS"),Jg=(()=>{let e=class e{constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,a){if(n==null||n===""||n!==n)return null;try{let l=r??this.defaultOptions?.dateFormat??y8,d=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return s8(n,l,a||this.locale,d)}catch(l){throw b8(e,l.message)}}};e.\u0275fac=function(r){return new(r||e)(f(ld,16),f(_8,24),f(C8,24))},e.\u0275pipe=Xs({name:"date",type:e,pure:!0,standalone:!0});let i=e;return i})();var ue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({});let i=e;return i})(),$w="browser",w8="server";function en(i){return i===$w}function Uw(i){return i===w8}var KP=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new jw(M(ot),window)});let i=e;return i})(),jw=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;let t=x8(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){let t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function x8(i,e){let t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if(typeof i.createTreeWalker=="function"&&i.body&&typeof i.body.attachShadow=="function"){let n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(a)return a}r=n.nextNode()}}return null}var tl=class{};var pd=class{},tm=class{},sa=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let r=t.slice(0,n),o=r.toLowerCase(),a=t.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var qw=class{encodeKey(e){return YP(e)}encodeValue(e){return YP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function D8(i,e){let t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],d=t.get(a)||[];d.push(l),t.set(a,d)}),t}var S8=/%(\d[a-f0-9])/gi,T8={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YP(i){return encodeURIComponent(i).replace(S8,(e,t)=>T8[t]??e)}function em(i){return`${i}`}var Xo=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=D8(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],r=Array.isArray(n)?n.map(em):[em(n)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(em(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(em(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zw=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function M8(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function QP(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function XP(i){return typeof Blob<"u"&&i instanceof Blob}function JP(i){return typeof FormData<"u"&&i instanceof FormData}function k8(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var hd=class i{constructor(e,t,n,r){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(M8(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new sa),this.context||(this.context=new Zw),!this.params)this.params=new Xo,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),d=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+d+a}}}serializeBody(){return this.body===null?null:QP(this.body)||XP(this.body)||JP(this.body)||k8(this.body)||typeof this.body=="string"?this.body:this.body instanceof Xo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||JP(this.body)?null:XP(this.body)?this.body.type||null:QP(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,a=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,l=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,d=e.headers||this.headers,p=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((b,w)=>b.set(w,e.setHeaders[w]),d)),e.setParams&&(p=Object.keys(e.setParams).reduce((b,w)=>b.set(w,e.setParams[w]),p)),new i(t,n,o,{params:p,headers:d,context:m,reportProgress:l,responseType:r,withCredentials:a})}},nl=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(nl||{}),fd=class{constructor(e,t=200,n="OK"){this.headers=e.headers||new sa,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Kw=class i extends fd{constructor(e={}){super(e),this.type=nl.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},im=class i extends fd{constructor(e={}){super(e),this.type=nl.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nm=class extends fd{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function Gw(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Yw=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,o={}){let a;if(n instanceof hd)a=n;else{let p;o.headers instanceof sa?p=o.headers:p=new sa(o.headers);let m;o.params&&(o.params instanceof Xo?m=o.params:m=new Xo({fromObject:o.params})),a=new hd(n,r,o.body!==void 0?o.body:null,{headers:p,context:o.context,params:m,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let l=Ce(a).pipe(ro(p=>this.handler.handle(p)));if(n instanceof hd||o.observe==="events")return l;let d=l.pipe(ci(p=>p instanceof im));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Ve(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe(Ve(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe(Ve(p=>{if(p.body!==null&&typeof p.body!="string")throw new Error("Response is not a string.");return p.body}));case"json":default:return d.pipe(Ve(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Xo().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,Gw(o,r))}post(n,r,o={}){return this.request("POST",n,Gw(o,r))}put(n,r,o={}){return this.request("PUT",n,Gw(o,r))}};e.\u0275fac=function(r){return new(r||e)(M(pd))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function nO(i,e){return e(i)}function A8(i,e){return(t,n)=>e.intercept(t,{handle:r=>i(r,n)})}function R8(i,e,t){return(n,r)=>Lr(t,()=>e(n,o=>i(o,r)))}var F8=new ie(""),Qw=new ie(""),P8=new ie(""),O8=new ie("");function N8(){let i=null;return(e,t)=>{i===null&&(i=(B(F8,{optional:!0})??[]).reduceRight(A8,nO));let n=B(el),r=n.add();return i(e,t).pipe(Ho(()=>n.remove(r)))}}var eO=(()=>{let e=class e extends pd{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=B(el);let o=B(O8,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Qw),...this.injector.get(P8,[])]));this.chain=o.reduceRight((a,l)=>R8(a,l,this.injector),nO)}let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Ho(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(M(tm),M(zi))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();var L8=/^\)\]\}',?\n/;function j8(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var tO=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?St(r.\u0275loadImpl()):Ce(null)).pipe(Oi(()=>new De(a=>{let l=r.build();if(l.open(n.method,n.urlWithParams),n.withCredentials&&(l.withCredentials=!0),n.headers.forEach((A,$)=>l.setRequestHeader(A,$.join(","))),n.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let A=n.detectContentTypeHeader();A!==null&&l.setRequestHeader("Content-Type",A)}if(n.responseType){let A=n.responseType.toLowerCase();l.responseType=A!=="json"?A:"text"}let d=n.serializeBody(),p=null,m=()=>{if(p!==null)return p;let A=l.statusText||"OK",$=new sa(l.getAllResponseHeaders()),ce=j8(l)||n.url;return p=new Kw({headers:$,status:l.status,statusText:A,url:ce}),p},b=()=>{let{headers:A,status:$,statusText:ce,url:Te}=m(),we=null;$!==204&&(we=typeof l.response>"u"?l.responseText:l.response),$===0&&($=we?200:0);let Ot=$>=200&&$<300;if(n.responseType==="json"&&typeof we=="string"){let mt=we;we=we.replace(L8,"");try{we=we!==""?JSON.parse(we):null}catch(ct){we=mt,Ot&&(Ot=!1,we={error:ct,text:we})}}Ot?(a.next(new im({body:we,headers:A,status:$,statusText:ce,url:Te||void 0})),a.complete()):a.error(new nm({error:we,headers:A,status:$,statusText:ce,url:Te||void 0}))},w=A=>{let{url:$}=m(),ce=new nm({error:A,status:l.status||0,statusText:l.statusText||"Unknown Error",url:$||void 0});a.error(ce)},E=!1,T=A=>{E||(a.next(m()),E=!0);let $={type:nl.DownloadProgress,loaded:A.loaded};A.lengthComputable&&($.total=A.total),n.responseType==="text"&&l.responseText&&($.partialText=l.responseText),a.next($)},V=A=>{let $={type:nl.UploadProgress,loaded:A.loaded};A.lengthComputable&&($.total=A.total),a.next($)};return l.addEventListener("load",b),l.addEventListener("error",w),l.addEventListener("timeout",w),l.addEventListener("abort",w),n.reportProgress&&(l.addEventListener("progress",T),d!==null&&l.upload&&l.upload.addEventListener("progress",V)),l.send(d),a.next({type:nl.Sent}),()=>{l.removeEventListener("error",w),l.removeEventListener("abort",w),l.removeEventListener("load",b),l.removeEventListener("timeout",w),n.reportProgress&&(l.removeEventListener("progress",T),d!==null&&l.upload&&l.upload.removeEventListener("progress",V)),l.readyState!==l.DONE&&l.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(M(tl))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),rO=new ie("XSRF_ENABLED"),V8="XSRF-TOKEN",B8=new ie("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>V8}),H8="X-XSRF-TOKEN",z8=new ie("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>H8}),rm=class{},$8=(()=>{let e=class e{constructor(n,r,o){this.doc=n,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xg(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(M(ot),M(Bt),M(B8))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function U8(i,e){let t=i.url.toLowerCase();if(!B(rO)||i.method==="GET"||i.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(i);let n=B(rm).getToken(),r=B(z8);return n!=null&&!i.headers.has(r)&&(i=i.clone({headers:i.headers.set(r,n)})),e(i)}var oO=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(oO||{});function W8(i,e){return{\u0275kind:i,\u0275providers:e}}function G8(...i){let e=[Yw,tO,eO,{provide:pd,useExisting:eO},{provide:tm,useExisting:tO},{provide:Qw,useValue:U8,multi:!0},{provide:rO,useValue:!0},{provide:rm,useClass:$8}];for(let t of i)e.push(...t.\u0275providers);return Qu(e)}var iO=new ie("LEGACY_INTERCEPTOR_FN");function q8(){return W8(oO.LegacyInterceptors,[{provide:iO,useFactory:N8},{provide:Qw,useExisting:iO,multi:!0}])}var sO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({providers:[G8(q8())]});let i=e;return i})();var ex=class extends qg{constructor(){super(...arguments),this.supportsDOMEvents=!0}},tx=class i extends ex{static makeCurrent(){BP(new i)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=K8();return t==null?null:Y8(t)}resetBaseElement(){gd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xg(document.cookie,e)}},gd=null;function K8(){return gd=gd||document.querySelector("base"),gd?gd.getAttribute("href"):null}function Y8(i){return new URL(i,document.baseURI).pathname}var ix=class{addToWindow(e){qt.getAngularTestability=(n,r=!0)=>{let o=e.findTestabilityInTree(n,r);if(o==null)throw new Z(5103,!1);return o},qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),qt.getAllAngularRootElements=()=>e.getAllRootElements();let t=n=>{let r=qt.getAllAngularTestabilities(),o=r.length,a=!1,l=function(d){a=a||d,o--,o==0&&n(a)};r.forEach(d=>{d.whenStable(l)})};qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,n){if(t==null)return null;let r=e.getTestability(t);return r??(n?Vr().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},Q8=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),nx=new ie("EventManagerPlugins"),lO=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(a=>a.supports(n)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(M(nx),M(Ge))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),om=class{constructor(e){this._doc=e}},Xw="ng-app-id",uO=(()=>{let e=class e{constructor(n,r,o,a={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Uw(a),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Xw}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let a=o.get(n);return a.usage+=r,a.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===n)return o.delete(r),a.removeAttribute(Xw),a;{let l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Xw,this.appId),n.appendChild(l),l}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),a=this.styleRef,l=a.get(r)?.elements;l?l.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(M(ot),M(Xu),M(Ju,8),M(Bt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),Jw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ox=/%COMP%/g,dO="%COMP%",X8=`_nghost-${dO}`,J8=`_ngcontent-${dO}`,e$=!0,t$=new ie("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>e$});function i$(i){return J8.replace(ox,i)}function n$(i){return X8.replace(ox,i)}function hO(i,e){return e.map(t=>t.replace(ox,i))}var sm=(()=>{let e=class e{constructor(n,r,o,a,l,d,p,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=d,this.ngZone=p,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Uw(d),this.defaultRenderer=new md(n,l,p,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Pr.ShadowDom&&(r=xt(X({},r),{encapsulation:Pr.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof am?o.applyToHost(n):o instanceof vd&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,a=o.get(r.id);if(!a){let l=this.doc,d=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(r.encapsulation){case Pr.Emulated:a=new am(p,m,r,this.appId,b,l,d,w);break;case Pr.ShadowDom:return new rx(p,m,n,r,l,d,this.nonce,w);default:a=new vd(p,m,r,b,l,d,w);break}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(M(lO),M(uO),M(Xu),M(t$),M(ot),M(Bt),M(Ge),M(Ju))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),md=class{constructor(e,t,n,r){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Jw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(aO(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(aO(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Z(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;let o=Jw[r];o?e.setAttributeNS(o,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){let r=Jw[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(Nr.DashCase|Nr.Important)?e.style.setProperty(t,n,r&Nr.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Nr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e!=null&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n){if(typeof e=="string"&&(e=Vr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function aO(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var rx=class extends md{constructor(e,t,n,r,o,a,l,d){super(e,o,a,d),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=hO(r.id,r.styles);for(let m of p){let b=document.createElement("style");l&&b.setAttribute("nonce",l),b.textContent=m,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vd=class extends md{constructor(e,t,n,r,o,a,l,d){super(e,o,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=d?hO(d,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},am=class extends vd{constructor(e,t,n,r,o,a,l,d){let p=r+"-"+n.id;super(e,t,n,o,a,l,d,p),this.contentAttr=i$(p),this.hostAttr=n$(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}},r$=(()=>{let e=class e extends om{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(M(ot))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),cO=["alt","control","meta","shift"],o$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},s$={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},a$=(()=>{let e=class e extends om{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,o){let a=e.parseEventName(r),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vr().onAndCancel(n,a.domEventName,l))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let a=e._normalizeKey(r.pop()),l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),cO.forEach(m=>{let b=r.indexOf(m);b>-1&&(r.splice(b,1),l+=m+".")}),l+=a,r.length!=0||a.length===0)return null;let p={};return p.domEventName=o,p.fullKey=l,p}static matchEventFullKeyCode(n,r){let o=o$[n.key]||n.key,a="";return r.indexOf("code.")>-1&&(o=n.code,a="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),cO.forEach(l=>{if(l!==o){let d=s$[l];d(n)&&(a+=l+".")}}),a+=o,a===r)}static eventCallback(n,r,o){return a=>{e.matchEventFullKeyCode(a,n)&&o.runGuarded(()=>r(a))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(M(ot))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function c$(){tx.makeCurrent()}function l$(){return new fr}function u$(){return tF(document),document}var d$=[{provide:Bt,useValue:$w},{provide:nw,useValue:c$,multi:!0},{provide:ot,useFactory:u$,deps:[]}],pO=Mw(AP,"browser",d$),h$=new ie(""),p$=[{provide:ad,useClass:ix,deps:[]},{provide:Sw,useClass:Lg,deps:[Ge,jg,ad]},{provide:Lg,useClass:Lg,deps:[Ge,jg,ad]}],f$=[{provide:yg,useValue:"root"},{provide:fr,useFactory:l$,deps:[]},{provide:nx,useClass:r$,multi:!0,deps:[ot,Ge,Bt]},{provide:nx,useClass:a$,multi:!0,deps:[ot]},sm,uO,lO,{provide:Ks,useExisting:sm},{provide:tl,useClass:Q8,deps:[]},[]],cm=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Xu,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(M(h$,12))},e.\u0275mod=q({type:e}),e.\u0275inj=G({providers:[...f$,...p$],imports:[ue,RP]});let i=e;return i})();function g$(){return new sx(M(ot))}var sx=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(M(ot))},e.\u0275prov=N({token:e,factory:function(r){let o=null;return r?o=new r:o=g$(),o},providedIn:"root"});let i=e;return i})();var rl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=M(fO),o},providedIn:"root"});let i=e;return i})();function m$(i){return new fO(i.get(ot))}var fO=(()=>{let e=class e extends rl{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case jr.NONE:return r;case jr.HTML:return Qo(r,"HTML")?Vn(r):cw(this._doc,String(r)).toString();case jr.STYLE:return Qo(r,"Style")?Vn(r):r;case jr.SCRIPT:if(Qo(r,"Script"))return Vn(r);throw new Z(5200,!1);case jr.URL:return Qo(r,"URL")?Vn(r):Ig(String(r));case jr.RESOURCE_URL:if(Qo(r,"ResourceURL"))return Vn(r);throw new Z(5201,!1);default:throw new Z(5202,!1)}}bypassSecurityTrustHtml(n){return yF(n)}bypassSecurityTrustStyle(n){return _F(n)}bypassSecurityTrustScript(n){return CF(n)}bypassSecurityTrustUrl(n){return wF(n)}bypassSecurityTrustResourceUrl(n){return xF(n)}};e.\u0275fac=function(r){return new(r||e)(M(ot))},e.\u0275prov=N({token:e,factory:function(r){let o=null;return r?o=new r:o=m$(M(Pe)),o},providedIn:"root"});let i=e;return i})();var $e="primary",Fd=Symbol("RouteTitle"),hx=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ll(i){return new hx(i)}function v$(i,e,t){let n=t.path.split("/");if(n.length>i.length||t.pathMatch==="full"&&(e.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let a=n[o],l=i[o];if(a.startsWith(":"))r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function b$(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Br(i[t],e[t]))return!1;return!0}function Br(i,e){let t=i?px(i):void 0,n=e?px(e):void 0;if(!t||!n||t.length!=n.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!xO(i[r],e[r]))return!1;return!0}function px(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function xO(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let t=[...i].sort(),n=[...e].sort();return t.every((r,o)=>n[o]===r)}else return i===e}function IO(i){return i.length>0?i[i.length-1]:null}function ns(i){return m_(i)?i:na(i)?St(Promise.resolve(i)):Ce(i)}var y$={exact:DO,subset:SO},EO={exact:_$,subset:C$,ignored:()=>!0};function gO(i,e,t){return y$[t.paths](i.root,e.root,t.matrixParams)&&EO[t.queryParams](i.queryParams,e.queryParams)&&!(t.fragment==="exact"&&i.fragment!==e.fragment)}function _$(i,e){return Br(i,e)}function DO(i,e,t){if(!ca(i.segments,e.segments)||!dm(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!i.children[n]||!DO(i.children[n],e.children[n],t))return!1;return!0}function C$(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>xO(i[t],e[t]))}function SO(i,e,t){return TO(i,e,e.segments,t)}function TO(i,e,t,n){if(i.segments.length>t.length){let r=i.segments.slice(0,t.length);return!(!ca(r,t)||e.hasChildren()||!dm(r,t,n))}else if(i.segments.length===t.length){if(!ca(i.segments,t)||!dm(i.segments,t,n))return!1;for(let r in e.children)if(!i.children[r]||!SO(i.children[r],e.children[r],n))return!1;return!0}else{let r=t.slice(0,i.segments.length),o=t.slice(i.segments.length);return!ca(i.segments,r)||!dm(i.segments,r,n)||!i.children[$e]?!1:TO(i.children[$e],e,o,n)}}function dm(i,e,t){return e.every((n,r)=>EO[t](i[r].parameters,n.parameters))}var Jo=class{constructor(e=new yt([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ll(this.queryParams)),this._queryParamMap}toString(){return I$.serialize(this)}},yt=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hm(this)}},aa=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ll(this.parameters)),this._parameterMap}toString(){return kO(this)}};function w$(i,e){return ca(i,e)&&i.every((t,n)=>Br(t.parameters,e[n].parameters))}function ca(i,e){return i.length!==e.length?!1:i.every((t,n)=>t.path===e[n].path)}function x$(i,e){let t=[];return Object.entries(i.children).forEach(([n,r])=>{n===$e&&(t=t.concat(e(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==$e&&(t=t.concat(e(r,n)))}),t}var Pd=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>(()=>new Id)(),providedIn:"root"});let i=e;return i})(),Id=class{parse(e){let t=new gx(e);return new Jo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${bd(e.root,!0)}`,n=S$(e.queryParams),r=typeof e.fragment=="string"?`#${E$(e.fragment)}`:"";return`${t}${n}${r}`}},I$=new Id;function hm(i){return i.segments.map(e=>kO(e)).join("/")}function bd(i,e){if(!i.hasChildren())return hm(i);if(e){let t=i.children[$e]?bd(i.children[$e],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==$e&&n.push(`${r}:${bd(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=x$(i,(n,r)=>r===$e?[bd(i.children[$e],!1)]:[`${r}:${bd(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[$e]!=null?`${hm(i)}/${t[0]}`:`${hm(i)}/(${t.join("//")})`}}function MO(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lm(i){return MO(i).replace(/%3B/gi,";")}function E$(i){return encodeURI(i)}function fx(i){return MO(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pm(i){return decodeURIComponent(i)}function mO(i){return pm(i.replace(/\+/g,"%20"))}function kO(i){return`${fx(i.path)}${D$(i.parameters)}`}function D$(i){return Object.keys(i).map(e=>`;${fx(e)}=${fx(i[e])}`).join("")}function S$(i){let e=Object.keys(i).map(t=>{let n=i[t];return Array.isArray(n)?n.map(r=>`${lm(t)}=${lm(r)}`).join("&"):`${lm(t)}=${lm(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}var T$=/^[^\/()?;#]+/;function cx(i){let e=i.match(T$);return e?e[0]:""}var M$=/^[^\/()?;=#]+/;function k$(i){let e=i.match(M$);return e?e[0]:""}var A$=/^[^=?&#]+/;function R$(i){let e=i.match(A$);return e?e[0]:""}var F$=/^[^&#]+/;function P$(i){let e=i.match(F$);return e?e[0]:""}var gx=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new yt([],{}):new yt([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[$e]=new yt(e,t)),n}parseSegment(){let e=cx(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new aa(pm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=k$(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let r=cx(this.remaining);r&&(n=r,this.capture(n))}e[pm(t)]=pm(n)}parseQueryParam(e){let t=R$(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let a=P$(this.remaining);a&&(n=a,this.capture(n))}let r=mO(t),o=mO(n);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=cx(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Z(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=$e);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[$e]:new yt([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function AO(i){return i.segments.length>0?new yt([],{[$e]:i}):i}function RO(i){let e={};for(let n of Object.keys(i.children)){let r=i.children[n],o=RO(r);if(n===$e&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))e[a]=l;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let t=new yt(i.segments,e);return O$(t)}function O$(i){if(i.numberOfChildren===1&&i.children[$e]){let e=i.children[$e];return new yt(i.segments.concat(e.segments),e.children)}return i}function ul(i){return i instanceof Jo}function N$(i,e,t=null,n=null){let r=FO(i);return PO(r,e,t,n)}function FO(i){let e;function t(o){let a={};for(let d of o.children){let p=t(d);a[d.outlet]=p}let l=new yt(o.url,a);return o===i&&(e=l),l}let n=t(i.root),r=AO(n);return e??r}function PO(i,e,t,n){let r=i;for(;r.parent;)r=r.parent;if(e.length===0)return lx(r,r,r,t,n);let o=L$(e);if(o.toRoot())return lx(r,r,new yt([],{}),t,n);let a=j$(o,r,i),l=a.processChildren?Cd(a.segmentGroup,a.index,o.commands):NO(a.segmentGroup,a.index,o.commands);return lx(r,a.segmentGroup,l,t,n)}function fm(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Ed(i){return typeof i=="object"&&i!=null&&i.outlets}function lx(i,e,t,n,r){let o={};n&&Object.entries(n).forEach(([d,p])=>{o[d]=Array.isArray(p)?p.map(m=>`${m}`):`${p}`});let a;i===e?a=t:a=OO(i,e,t);let l=AO(RO(a));return new Jo(l,o,r)}function OO(i,e,t){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===e?n[r]=t:n[r]=OO(o,e,t)}),new yt(i.segments,n)}var gm=class{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&fm(n[0]))throw new Z(4003,!1);let r=n.find(Ed);if(r&&r!==IO(n))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function L$(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new gm(!0,0,i);let e=0,t=!1,n=i.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,p])=>{l[d]=typeof p=="string"?p.split("/"):p}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?t=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new gm(t,e,n)}var al=class{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}};function j$(i,e,t){if(i.isAbsolute)return new al(e,!0,0);if(!t)return new al(e,!1,NaN);if(t.parent===null)return new al(t,!0,0);let n=fm(i.commands[0])?0:1,r=t.segments.length-1+n;return V$(t,r,i.numberOfDoubleDots)}function V$(i,e,t){let n=i,r=e,o=t;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Z(4005,!1);r=n.segments.length}return new al(n,!1,r-o)}function B$(i){return Ed(i[0])?i[0].outlets:{[$e]:i}}function NO(i,e,t){if(i||(i=new yt([],{})),i.segments.length===0&&i.hasChildren())return Cd(i,e,t);let n=H$(i,e,t),r=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new yt(i.segments.slice(0,n.pathIndex),{});return o.children[$e]=new yt(i.segments.slice(n.pathIndex),i.children),Cd(o,0,r)}else return n.match&&r.length===0?new yt(i.segments,{}):n.match&&!i.hasChildren()?mx(i,e,t):n.match?Cd(i,0,r):mx(i,e,t)}function Cd(i,e,t){if(t.length===0)return new yt(i.segments,{});{let n=B$(t),r={};if(Object.keys(n).some(o=>o!==$e)&&i.children[$e]&&i.numberOfChildren===1&&i.children[$e].segments.length===0){let o=Cd(i.children[$e],e,t);return new yt(i.segments,o.children)}return Object.entries(n).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=NO(i.children[o],e,a))}),Object.entries(i.children).forEach(([o,a])=>{n[o]===void 0&&(r[o]=a)}),new yt(i.segments,r)}}function H$(i,e,t){let n=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=t.length)return o;let a=i.segments[r],l=t[n];if(Ed(l))break;let d=`${l}`,p=n<t.length-1?t[n+1]:null;if(r>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!bO(d,p,a))return o;n+=2}else{if(!bO(d,{},a))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function mx(i,e,t){let n=i.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Ed(o)){let d=z$(o.outlets);return new yt(n,d)}if(r===0&&fm(t[0])){let d=i.segments[e];n.push(new aa(d.path,vO(t[0]))),r++;continue}let a=Ed(o)?o.outlets[$e]:`${o}`,l=r<t.length-1?t[r+1]:null;a&&l&&fm(l)?(n.push(new aa(a,vO(l))),r+=2):(n.push(new aa(a,{})),r++)}return new yt(n,{})}function z$(i){let e={};return Object.entries(i).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[t]=mx(new yt([],{}),0,n))}),e}function vO(i){let e={};return Object.entries(i).forEach(([t,n])=>e[t]=`${n}`),e}function bO(i,e,t){return i==t.path&&Br(e,t.parameters)}var wd="imperative",zn=class{constructor(e,t){this.id=e,this.url=t}},dl=class extends zn{constructor(e,t,n="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},go=class extends zn{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},es=class extends zn{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ts=class extends zn{constructor(e,t,n,r){super(e,t),this.reason=n,this.code=r,this.type=16}},Dd=class extends zn{constructor(e,t,n,r){super(e,t),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mm=class extends zn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vx=class extends zn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bx=class extends zn{constructor(e,t,n,r,o){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yx=class extends zn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_x=class extends zn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cx=class{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wx=class{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xx=class{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ix=class{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ex=class{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dx=class{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vm=class{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=15}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Sd=class{},Td=class{constructor(e){this.url=e}};var Sx=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Od,this.attachRef=null}},Od=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Sx,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),bm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Tx(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){let t=Tx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Mx(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Mx(e,this._root).map(t=>t.value)}};function Tx(i,e){if(i===e.value)return e;for(let t of e.children){let n=Tx(i,t);if(n)return n}return null}function Mx(i,e){if(i===e.value)return[e];for(let t of e.children){let n=Mx(i,t);if(n.length)return n.unshift(e),n}return[]}var bn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function sl(i){let e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}var ym=class extends bm{constructor(e,t){super(e),this.snapshot=t,Vx(this,e)}toString(){return this.snapshot.toString()}};function LO(i,e){let t=$$(i,e),n=new zt([new aa("",{})]),r=new zt({}),o=new zt({}),a=new zt({}),l=new zt(""),d=new Ti(n,r,a,l,o,$e,e,t.root);return d.snapshot=t.root,new ym(new bn(d,[]),t)}function $$(i,e){let t={},n={},r={},o="",a=new Md([],t,r,o,n,$e,e,null,{});return new _m("",new bn(a,[]))}var Ti=class{constructor(e,t,n,r,o,a,l,d){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Ve(p=>p[Fd]))??Ce(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ve(e=>ll(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ve(e=>ll(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function jx(i,e,t="emptyOnly"){let n,{routeConfig:r}=i;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:X(X({},e.params),i.params),data:X(X({},e.data),i.data),resolve:X(X(X(X({},i.data),e.data),r?.data),i._resolvedData)}:n={params:i.params,data:i.data,resolve:X(X({},i.data),i._resolvedData??{})},r&&VO(r)&&(n.resolve[Fd]=r.title),n}var Md=class{get title(){return this.data?.[Fd]}constructor(e,t,n,r,o,a,l,d,p){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ll(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ll(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},_m=class extends bm{constructor(e,t){super(t),this.url=e,Vx(this,t)}toString(){return jO(this._root)}};function Vx(i,e){e.value._routerState=i,e.children.forEach(t=>Vx(i,t))}function jO(i){let e=i.children.length>0?` { ${i.children.map(jO).join(", ")} } `:"";return`${i.value}${e}`}function ux(i){if(i.snapshot){let e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Br(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),Br(e.params,t.params)||i.paramsSubject.next(t.params),b$(e.url,t.url)||i.urlSubject.next(t.url),Br(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function kx(i,e){let t=Br(i.params,e.params)&&w$(i.url,e.url),n=!i.parent!=!e.parent;return t&&!n&&(!i.parent||kx(i.parent,e.parent))}function VO(i){return typeof i.title=="string"||i.title===null}var Bx=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=$e,this.activateEvents=new J,this.deactivateEvents=new J,this.attachEvents=new J,this.detachEvents=new J,this.parentContexts=B(Od),this.location=B(Si),this.changeDetector=B(oe),this.environmentInjector=B(zi),this.inputBinder=B(Im,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=n;let o=this.location,l=n.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new Ax(n,d,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:p,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ne({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[le]});let i=e;return i})(),Ax=class{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Ti?this.route:e===Od?this.childContexts:this.parent.get(e,t)}},Im=new ie(""),yO=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Mr([r.queryParams,r.params,r.data]).pipe(Oi(([a,l,d],p)=>(d=X(X(X({},a),l),d),p===0?Ce(d):Promise.resolve(d)))).subscribe(a=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let l=FP(r.component);if(!l){this.unsubscribeFromRouteData(n);return}for(let{templateName:d}of l.inputs)n.activatedComponentRef.setInput(d,a[d])});this.outletDataSubscriptions.set(n,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function U$(i,e,t){let n=kd(i,e._root,t?t._root:void 0);return new ym(n,e)}function kd(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=e.value;let r=W$(i,e,t);return new bn(n,r)}else{if(i.shouldAttach(e.value)){let o=i.retrieve(e.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>kd(i,l)),a}}let n=G$(e.value),r=e.children.map(o=>kd(i,o));return new bn(n,r)}}function W$(i,e,t){return e.children.map(n=>{for(let r of t.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return kd(i,n,r);return kd(i,n)})}function G$(i){return new Ti(new zt(i.url),new zt(i.params),new zt(i.queryParams),new zt(i.fragment),new zt(i.data),i.outlet,i.component,i)}var BO="ngNavigationCancelingError";function HO(i,e){let{redirectTo:t,navigationBehaviorOptions:n}=ul(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=zO(!1,0,e);return r.url=t,r.navigationBehaviorOptions=n,r}function zO(i,e,t){let n=new Error("NavigationCancelingError: "+(i||""));return n[BO]=!0,n.cancellationCode=e,t&&(n.url=t),n}function q$(i){return $O(i)&&ul(i.url)}function $O(i){return i&&i[BO]}var Z$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=z({type:e,selectors:[["ng-component"]],standalone:!0,features:[mP],decls:1,vars:0,template:function(r,o){r&1&&R(0,"router-outlet")},dependencies:[Bx],encapsulation:2});let i=e;return i})();function K$(i,e){return i.providers&&!i._injector&&(i._injector=Ag(i.providers,e,`Route: ${i.path}`)),i._injector??e}function Hx(i){let e=i.children&&i.children.map(Hx),t=e?xt(X({},i),{children:e}):X({},i);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$e&&(t.component=Z$),t}function Hr(i){return i.outlet||$e}function Y$(i,e){let t=i.filter(n=>Hr(n)===e);return t.push(...i.filter(n=>Hr(n)!==e)),t}function Nd(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Q$=(i,e,t,n)=>Ve(r=>(new Rx(e,r.targetRouterState,r.currentRouterState,t,n).activate(i),r)),Rx=class{constructor(e,t,n,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ux(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){let r=sl(t);e.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],n),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,t,n){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,o=sl(e);for(let a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(n&&n.outlet){let a=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){let n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,o=sl(e);for(let a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){let r=sl(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Dx(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ix(e.value.snapshot))}activateRoutes(e,t,n){let r=e.value,o=t?t.value:null;if(ux(r),r===o)if(r.component){let a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(r.component){let a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),ux(l.route.value),this.activateChildRoutes(e,null,a.children)}else{let l=Nd(r.snapshot);a.attachRef=null,a.route=r,a.injector=l,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}},Cm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},cl=class{constructor(e,t){this.component=e,this.route=t}};function X$(i,e,t){let n=i._root,r=e?e._root:null;return yd(n,r,t,[n.value])}function J$(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function pl(i,e){let t=Symbol(),n=e.get(i,t);return n===t?typeof i=="function"&&!ZA(i)?i:e.get(i):n}function yd(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=sl(e);return i.children.forEach(a=>{eU(a,o[a.value.outlet],t,n.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>xd(l,t.getContext(a),r)),r}function eU(i,e,t,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,a=e?e.value:null,l=t?t.getContext(i.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=tU(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Cm(n)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?yd(i,e,l?l.children:null,n,r):yd(i,e,t,n,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new cl(l.outlet.component,a))}else a&&xd(e,l,r),r.canActivateChecks.push(new Cm(n)),o.component?yd(i,null,l?l.children:null,n,r):yd(i,null,t,n,r);return r}function tU(i,e,t){if(typeof t=="function")return t(i,e);switch(t){case"pathParamsChange":return!ca(i.url,e.url);case"pathParamsOrQueryParamsChange":return!ca(i.url,e.url)||!Br(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kx(i,e)||!Br(i.queryParams,e.queryParams);case"paramsChange":default:return!kx(i,e)}}function xd(i,e,t){let n=sl(i),r=i.value;Object.entries(n).forEach(([o,a])=>{r.component?e?xd(a,e.children.getContext(o),t):xd(a,null,t):xd(a,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new cl(e.outlet.component,r)):t.canDeactivateChecks.push(new cl(null,r)):t.canDeactivateChecks.push(new cl(null,r))}function Ld(i){return typeof i=="function"}function iU(i){return typeof i=="boolean"}function nU(i){return i&&Ld(i.canLoad)}function rU(i){return i&&Ld(i.canActivate)}function oU(i){return i&&Ld(i.canActivateChild)}function sU(i){return i&&Ld(i.canDeactivate)}function aU(i){return i&&Ld(i.canMatch)}function UO(i){return i instanceof cr||i?.name==="EmptyError"}var um=Symbol("INITIAL_VALUE");function hl(){return Oi(i=>Mr(i.map(e=>e.pipe(fn(1),Pu(um)))).pipe(Ve(e=>{for(let t of e)if(t!==!0){if(t===um)return um;if(t===!1||t instanceof Jo)return t}return!0}),ci(e=>e!==um),fn(1)))}function cU(i,e){return Nt(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?Ce(xt(X({},t),{guardsResult:!0})):lU(a,n,r,i).pipe(Nt(l=>l&&iU(l)?uU(n,o,i,e):Ce(l)),Ve(l=>xt(X({},t),{guardsResult:l})))})}function lU(i,e,t,n){return St(i).pipe(Nt(r=>gU(r.component,r.route,t,e,n)),kr(r=>r!==!0,!0))}function uU(i,e,t,n){return St(e).pipe(ro(r=>jo(hU(r.route.parent,n),dU(r.route,n),fU(i,r.path,t),pU(i,r.route,t))),kr(r=>r!==!0,!0))}function dU(i,e){return i!==null&&e&&e(new Ex(i)),Ce(!0)}function hU(i,e){return i!==null&&e&&e(new xx(i)),Ce(!0)}function pU(i,e,t){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return Ce(!0);let r=n.map(o=>_f(()=>{let a=Nd(e)??t,l=pl(o,a),d=rU(l)?l.canActivate(e,i):Lr(a,()=>l(e,i));return ns(d).pipe(kr())}));return Ce(r).pipe(hl())}function fU(i,e,t){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(a=>J$(a)).filter(a=>a!==null).map(a=>_f(()=>{let l=a.guards.map(d=>{let p=Nd(a.node)??t,m=pl(d,p),b=oU(m)?m.canActivateChild(n,i):Lr(p,()=>m(n,i));return ns(b).pipe(kr())});return Ce(l).pipe(hl())}));return Ce(o).pipe(hl())}function gU(i,e,t,n,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ce(!0);let a=o.map(l=>{let d=Nd(e)??r,p=pl(l,d),m=sU(p)?p.canDeactivate(i,e,t,n):Lr(d,()=>p(i,e,t,n));return ns(m).pipe(kr())});return Ce(a).pipe(hl())}function mU(i,e,t,n){let r=e.canLoad;if(r===void 0||r.length===0)return Ce(!0);let o=r.map(a=>{let l=pl(a,i),d=nU(l)?l.canLoad(e,t):Lr(i,()=>l(e,t));return ns(d)});return Ce(o).pipe(hl(),WO(n))}function WO(i){return d_(li(e=>{if(ul(e))throw HO(i,e)}),Ve(e=>e===!0))}function vU(i,e,t,n){let r=e.canMatch;if(!r||r.length===0)return Ce(!0);let o=r.map(a=>{let l=pl(a,i),d=aU(l)?l.canMatch(e,t):Lr(i,()=>l(e,t));return ns(d)});return Ce(o).pipe(hl(),WO(n))}var Ad=class{constructor(e){this.segmentGroup=e||null}},wm=class extends Error{constructor(e){super(),this.urlTree=e}};function ol(i){return Mc(new Ad(i))}function bU(i){return Mc(new Z(4e3,!1))}function yU(i){return Mc(zO(!1,3))}var Fx=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return Ce(n);if(r.numberOfChildren>1||!r.children[$e])return bU(e.redirectTo);r=r.children[$e]}}applyRedirectCommands(e,t,n){let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t.startsWith("/"))throw new wm(r);return r}applyRedirectCreateUrlTree(e,t,n,r){let o=this.createSegmentGroup(e,t.root,n,r);return new Jo(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let n={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);n[r]=t[l]}else n[r]=o}),n}createSegmentGroup(e,t,n,r){let o=this.createSegments(e,t.segments,n,r),a={};return Object.entries(t.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(e,d,n,r)}),new yt(o,a)}createSegments(e,t,n,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,n))}findPosParam(e,t,n){let r=n[t.path.substring(1)];if(!r)throw new Z(4001,!1);return r}findOrReturn(e,t){let n=0;for(let r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}},Px={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _U(i,e,t,n,r){let o=zx(i,e,t);return o.matched?(n=K$(e,n),vU(n,e,t,r).pipe(Ve(a=>a===!0?o:X({},Px)))):Ce(o)}function zx(i,e,t){if(e.path==="**")return CU(t);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||t.length>0)?X({},Px):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||v$)(t,i,e);if(!r)return X({},Px);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?X(X({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function CU(i){return{matched:!0,parameters:i.length>0?IO(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function _O(i,e,t,n){return t.length>0&&IU(i,t,n)?{segmentGroup:new yt(e,xU(n,new yt(t,i.children))),slicedSegments:[]}:t.length===0&&EU(i,t,n)?{segmentGroup:new yt(i.segments,wU(i,e,t,n,i.children)),slicedSegments:t}:{segmentGroup:new yt(i.segments,i.children),slicedSegments:t}}function wU(i,e,t,n,r){let o={};for(let a of n)if(Em(i,t,a)&&!r[Hr(a)]){let l=new yt([],{});o[Hr(a)]=l}return X(X({},r),o)}function xU(i,e){let t={};t[$e]=e;for(let n of i)if(n.path===""&&Hr(n)!==$e){let r=new yt([],{});t[Hr(n)]=r}return t}function IU(i,e,t){return t.some(n=>Em(i,e,n)&&Hr(n)!==$e)}function EU(i,e,t){return t.some(n=>Em(i,e,n))}function Em(i,e,t){return(i.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function DU(i,e,t,n){return Hr(i)!==n&&(n===$e||!Em(e,t,i))?!1:zx(e,i,t).matched}function SU(i,e,t){return e.length===0&&!i.children[t]}var Ox=class{};function TU(i,e,t,n,r,o,a="emptyOnly"){return new Nx(i,e,t,n,r,a,o).recognize()}var MU=31,Nx=class{constructor(e,t,n,r,o,a,l){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new Fx(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=_O(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ve(t=>{let n=new Md([],Object.freeze({}),Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,{},$e,this.rootComponentType,null,{}),r=new bn(n,t),o=new _m("",r),a=N$(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root,null),{state:o,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,$e).pipe(Vo(n=>{if(n instanceof wm)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ad?this.noMatchError(n):n}))}inheritParamsAndData(e,t){let n=e.value,r=jx(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,t,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,t,n):this.processSegment(e,t,n,n.segments,r,!0).pipe(Ve(o=>o instanceof bn?[o]:[]))}processChildren(e,t,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return St(r).pipe(ro(o=>{let a=n.children[o],l=Y$(t,o);return this.processSegmentGroup(e,l,a,o)}),w_((o,a)=>(o.push(...a),o)),Bo(null),__(),Nt(o=>{if(o===null)return ol(n);let a=GO(o);return kU(a),Ce(a)}))}processSegment(e,t,n,r,o,a){return St(t).pipe(ro(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,n,r,o,a).pipe(Vo(d=>{if(d instanceof Ad)return Ce(null);throw d}))),kr(l=>!!l),Vo(l=>{if(UO(l))return SU(n,r,o)?Ce(new Ox):ol(n);throw l}))}processSegmentAgainstRoute(e,t,n,r,o,a,l){return DU(n,r,o,a)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,o,a):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,n,o,a):ol(r):ol(r)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,o,a){let{matched:l,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=zx(t,r,o);if(!l)return ol(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>MU&&(this.allowRedirects=!1));let b=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,p);return this.applyRedirects.lineralizeSegments(r,b).pipe(Nt(w=>this.processSegment(e,n,t,w.concat(m),a,!1)))}matchSegmentAgainstRoute(e,t,n,r,o){let a=_U(t,n,r,e,this.urlSerializer);return n.path==="**"&&(t.children={}),a.pipe(Oi(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(Oi(({routes:d})=>{let p=n._loadedInjector??e,{consumedSegments:m,remainingSegments:b,parameters:w}=l,E=new Md(m,w,Object.freeze(X({},this.urlTree.queryParams)),this.urlTree.fragment,RU(n),Hr(n),n.component??n._loadedComponent??null,n,FU(n)),{segmentGroup:T,slicedSegments:V}=_O(t,m,b,d);if(V.length===0&&T.hasChildren())return this.processChildren(p,d,T).pipe(Ve($=>$===null?null:new bn(E,$)));if(d.length===0&&V.length===0)return Ce(new bn(E,[]));let A=Hr(n)===o;return this.processSegment(p,d,T,V,A?$e:o,!0).pipe(Ve($=>new bn(E,$ instanceof bn?[$]:[])))}))):ol(t)))}getChildConfig(e,t,n){return t.children?Ce({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ce({routes:t._loadedRoutes,injector:t._loadedInjector}):mU(e,t,n,this.urlSerializer).pipe(Nt(r=>r?this.configLoader.loadChildren(e,t).pipe(li(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):yU(t))):Ce({routes:[],injector:e})}};function kU(i){i.sort((e,t)=>e.value.outlet===$e?-1:t.value.outlet===$e?1:e.value.outlet.localeCompare(t.value.outlet))}function AU(i){let e=i.value.routeConfig;return e&&e.path===""}function GO(i){let e=[],t=new Set;for(let n of i){if(!AU(n)){e.push(n);continue}let r=e.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),t.add(r)):e.push(n)}for(let n of t){let r=GO(n.children);e.push(new bn(n.value,r))}return e.filter(n=>!t.has(n))}function RU(i){return i.data||{}}function FU(i){return i.resolve||{}}function PU(i,e,t,n,r,o){return Nt(a=>TU(i,e,t,n,a.extractedUrl,r,o).pipe(Ve(({state:l,tree:d})=>xt(X({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function OU(i,e){return Nt(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return Ce(t);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let p of qO(d))a.add(p);let l=0;return St(a).pipe(ro(d=>o.has(d)?NU(d,n,i,e):(d.data=jx(d,d.parent,i).resolve,Ce(void 0))),li(()=>l++),Ac(1),Nt(d=>l===a.size?Ce(t):Pi))})}function qO(i){let e=i.children.map(t=>qO(t)).flat();return[i,...e]}function NU(i,e,t,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!VO(r)&&(o[Fd]=r.title),LU(o,i,e,n).pipe(Ve(a=>(i._resolvedData=a,i.data=jx(i,i.parent,t).resolve,null)))}function LU(i,e,t,n){let r=px(i);if(r.length===0)return Ce({});let o={};return St(r).pipe(Nt(a=>jU(i[a],e,t,n).pipe(kr(),li(l=>{o[a]=l}))),Ac(1),y_(o),Vo(a=>UO(a)?Pi:Mc(a)))}function jU(i,e,t,n){let r=Nd(e)??n,o=pl(i,r),a=o.resolve?o.resolve(e,t):Lr(r,()=>o(e,t));return ns(a)}function dx(i){return Oi(e=>{let t=i(e);return t?St(t).pipe(Ve(()=>e)):Ce(e)})}var ZO=(()=>{let e=class e{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===$e);return r}getResolvedTitleForRoute(n){return n.data[Fd]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>(()=>B(VU))(),providedIn:"root"});let i=e;return i})(),VU=(()=>{let e=class e extends ZO{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(M(sx))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),jd=new ie("",{providedIn:"root",factory:()=>({})}),Rd=new ie("ROUTES"),$x=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(Ng)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ce(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ns(n.loadComponent()).pipe(Ve(KO),li(a=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=a}),Ho(()=>{this.componentLoaders.delete(n)})),o=new xc(r,()=>new ut).pipe(wc());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let a=BU(r,this.compiler,n,this.onLoadEndListener).pipe(Ho(()=>{this.childrenLoaders.delete(r)})),l=new xc(a,()=>new ut).pipe(wc());return this.childrenLoaders.set(r,l),l}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function BU(i,e,t,n){return ns(i.loadChildren()).pipe(Ve(KO),Nt(r=>r instanceof Uu||Array.isArray(r)?Ce(r):St(e.compileModuleAsync(r))),Ve(r=>{n&&n(i);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(t).injector,a=o.get(Rd,[],{optional:!0,self:!0}).flat()),{routes:a.map(Hx),injector:o}}))}function HU(i){return i&&typeof i=="object"&&"default"in i}function KO(i){return HU(i)?i.default:i}var Ux=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>(()=>B(zU))(),providedIn:"root"});let i=e;return i})(),zU=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),YO=new ie(""),QO=new ie("");function $U(i,e,t){let n=i.get(QO),r=i.get(ot);return i.get(Ge).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,a=new Promise(p=>{o=p}),l=r.startViewTransition(()=>(o(),UU(i))),{onViewTransitionCreated:d}=n;return d&&Lr(i,()=>d({transition:l,from:e,to:t})),a})}function UU(i){return new Promise(e=>{Cw(e,{injector:i})})}var Wx=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=B($x),this.environmentInjector=B(zi),this.urlSerializer=B(Pd),this.rootContexts=B(Od),this.location=B(il),this.inputBindingEnabled=B(Im,{optional:!0})!==null,this.titleStrategy=B(ZO),this.options=B(jd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(Ux),this.createViewTransition=B(YO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ce(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Cx(o)),r=o=>this.events.next(new wx(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(xt(X(X({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new zt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wd,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ci(a=>a.id!==0),Ve(a=>xt(X({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Oi(a=>{this.currentTransition=a;let l=!1,d=!1;return Ce(a).pipe(li(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?xt(X({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Oi(p=>{let m=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=p.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!m&&b!=="reload"){let w="";return this.events.next(new ts(p.id,this.urlSerializer.serialize(p.rawUrl),w,0)),p.resolve(null),Pi}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Ce(p).pipe(Oi(w=>{let E=this.transitions?.getValue();return this.events.next(new dl(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),E!==this.transitions?.getValue()?Pi:Promise.resolve(w)}),PU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),li(w=>{a.targetSnapshot=w.targetSnapshot,a.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=xt(X({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let E=new mm(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){let{id:w,extractedUrl:E,source:T,restoredState:V,extras:A}=p,$=new dl(w,this.urlSerializer.serialize(E),T,V);this.events.next($);let ce=LO(E,this.rootComponentType).snapshot;return this.currentTransition=a=xt(X({},p),{targetSnapshot:ce,urlAfterRedirects:E,extras:xt(X({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,Ce(a)}else{let w="";return this.events.next(new ts(p.id,this.urlSerializer.serialize(p.extractedUrl),w,1)),p.resolve(null),Pi}}),li(p=>{let m=new vx(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}),Ve(p=>(this.currentTransition=a=xt(X({},p),{guards:X$(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),a)),cU(this.environmentInjector,p=>this.events.next(p)),li(p=>{if(a.guardsResult=p.guardsResult,ul(p.guardsResult))throw HO(this.urlSerializer,p.guardsResult);let m=new bx(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(m)}),ci(p=>p.guardsResult?!0:(this.cancelNavigationTransition(p,"",3),!1)),dx(p=>{if(p.guards.canActivateChecks.length)return Ce(p).pipe(li(m=>{let b=new yx(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}),Oi(m=>{let b=!1;return Ce(m).pipe(OU(this.paramsInheritanceStrategy,this.environmentInjector),li({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(m,"",2)}}))}),li(m=>{let b=new _x(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}))}),dx(p=>{let m=b=>{let w=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(b.routeConfig).pipe(li(E=>{b.component=E}),Ve(()=>{})));for(let E of b.children)w.push(...m(E));return w};return Mr(m(p.targetSnapshot.root)).pipe(Bo(),fn(1))}),dx(()=>this.afterPreactivation()),Oi(()=>{let{currentSnapshot:p,targetSnapshot:m}=a,b=this.createViewTransition?.(this.environmentInjector,p.root,m.root);return b?St(b).pipe(Ve(()=>a)):Ce(a)}),Ve(p=>{let m=U$(n.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=a=xt(X({},p),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,a}),li(()=>{this.events.next(new Sd)}),Q$(this.rootContexts,n.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),fn(1),li({next:p=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new go(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{l=!0}}),We(this.transitionAbortSubject.pipe(li(p=>{throw p}))),Ho(()=>{if(!l&&!d){let p="";this.cancelNavigationTransition(a,p,1)}this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Vo(p=>{if(d=!0,$O(p))this.events.next(new es(a.id,this.urlSerializer.serialize(a.extractedUrl),p.message,p.cancellationCode)),q$(p)?this.events.next(new Td(p.url)):a.resolve(!1);else{this.events.next(new Dd(a.id,this.urlSerializer.serialize(a.extractedUrl),p,a.targetSnapshot??void 0));try{a.resolve(n.errorHandler(p))}catch(m){a.reject(m)}}return Pi}))}))}cancelNavigationTransition(n,r,o){let a=new es(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(a),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function WU(i){return i!==wd}var GU=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>(()=>B(qU))(),providedIn:"root"});let i=e;return i})(),Lx=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},qU=(()=>{let e=class e extends Lx{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=$t(e)))(o||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),XO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:()=>(()=>B(ZU))(),providedIn:"root"});let i=e;return i})(),ZU=(()=>{let e=class e extends XO{constructor(){super(...arguments),this.location=B(il),this.urlSerializer=B(Pd),this.options=B(jd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(Ux),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Jo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=LO(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof dl)this.stateMemento=this.createStateMemento();else if(n instanceof ts)this.rawUrlTree=r.initialUrl;else if(n instanceof mm){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Sd?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof es&&(n.code===3||n.code===2)?this.restoreHistory(r):n instanceof Dd?this.restoreHistory(r,!0):n instanceof go&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let a=this.browserPageId,l=X(X({},r.extras.state),this.generateNgRouterState(r.id,a));this.location.replaceState(o,"",l)}else{let a=X(X({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,a=this.currentPageId-o;a!==0?this.location.historyGo(a):this.currentUrlTree===n.finalUrl&&a===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=$t(e)))(o||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),_d=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(_d||{});function JO(i,e){i.events.pipe(ci(t=>t instanceof go||t instanceof es||t instanceof Dd||t instanceof ts),Ve(t=>t instanceof go||t instanceof ts?_d.COMPLETE:(t instanceof es?t.code===0||t.code===1:!1)?_d.REDIRECTING:_d.FAILED),ci(t=>t!==_d.REDIRECTING),fn(1)).subscribe(()=>{e()})}function KU(i){throw i}var YU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},is=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=B(Og),this.stateManager=B(XO),this.options=B(jd,{optional:!0})||{},this.pendingTasks=B(el),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(Wx),this.urlSerializer=B(Pd),this.location=B(il),this.urlHandlingStrategy=B(Ux),this._events=new ut,this.errorHandler=this.options.errorHandler||KU,this.navigated=!1,this.routeReuseStrategy=B(GU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(Rd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(Im,{optional:!0}),this.eventsSubscription=new ti,this.isNgZoneEnabled=B(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,a=this.navigationTransitions.currentNavigation;if(o!==null&&a!==null){if(this.stateManager.handleRouterEvent(r,a),r instanceof es&&r.code!==0&&r.code!==1)this.navigated=!0;else if(r instanceof go)this.navigated=!0;else if(r instanceof Td){let l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||WU(o.source)};this.scheduleNavigation(l,wd,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}JU(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)}))}navigateToSyncWithBrowser(n,r,o){let a={replaceUrl:!0},l=o?.navigationId?o:null;if(o){let p=X({},o);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(a.state=p)}let d=this.parseUrl(n);this.scheduleNavigation(d,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Hx),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:a,fragment:l,queryParamsHandling:d,preserveFragment:p}=r,m=p?this.currentUrlTree.fragment:l,b=null;switch(d){case"merge":b=X(X({},this.currentUrlTree.queryParams),a);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=a||null}b!==null&&(b=this.removeEmptyProps(b));let w;try{let E=o?o.snapshot:this.routerState.snapshot.root;w=FO(E)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),w=this.currentUrlTree.root}return PO(w,n,b,m??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=ul(n)?n:this.parseUrl(n),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,wd,null,r)}navigate(n,r={skipLocationChange:!1}){return XU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=X({},YU):r===!1?o=X({},QU):o=r,ul(n))return gO(this.currentUrlTree,n,o);let a=this.parseUrl(n);return gO(this.currentUrlTree,a,o)}removeEmptyProps(n){return Object.keys(n).reduce((r,o)=>{let a=n[o];return a!=null&&(r[o]=a),r},{})}scheduleNavigation(n,r,o,a,l){if(this.disposed)return Promise.resolve(!1);let d,p,m;l?(d=l.resolve,p=l.reject,m=l.promise):m=new Promise((w,E)=>{d=w,p=E});let b=this.pendingTasks.add();return JO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:a,resolve:d,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(w=>Promise.reject(w))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function XU(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new Z(4008,!1)}function JU(i){return!(i instanceof Sd)&&!(i instanceof Td)}var xm=class{};var e7=(()=>{let e=class e{constructor(n,r,o,a,l){this.router=n,this.injector=o,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(ci(n=>n instanceof go),ro(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let a of r){a.providers&&!a._injector&&(a._injector=Ag(a.providers,n,`Route: ${a.path}`));let l=a._injector??n,d=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&a.canLoad===void 0||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(d,a.children??a._loadedRoutes))}return St(o).pipe(Lo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=Ce(null);let a=o.pipe(Nt(l=>l===null?Ce(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??n,l.routes))));if(r.loadComponent&&!r._loadedComponent){let l=this.loader.loadComponent(r);return St([a,l]).pipe(Lo())}else return a})}};e.\u0275fac=function(r){return new(r||e)(M(is),M(Ng),M(zi),M(xm),M($x))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),e2=new ie(""),t7=(()=>{let e=class e{constructor(n,r,o,a,l={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof go?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ts&&n.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vm&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vm(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){dw()},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function t2(i,...e){return Qu([{provide:Rd,multi:!0,useValue:i},[],{provide:Ti,useFactory:i2,deps:[is]},{provide:cd,multi:!0,useFactory:n2},e.map(t=>t.\u0275providers)])}function i2(i){return i.routerState.root}function Vd(i,e){return{\u0275kind:i,\u0275providers:e}}function n2(){let i=B(Pe);return e=>{let t=i.get(Ci);if(e!==t.components[0])return;let n=i.get(is),r=i.get(r2);i.get(Gx)===1&&n.initialNavigation(),i.get(o2,null,Xe.Optional)?.setUpPreloading(),i.get(e2,null,Xe.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var r2=new ie("",{factory:()=>new ut}),Gx=new ie("",{providedIn:"root",factory:()=>1});function i7(){return Vd(2,[{provide:Gx,useValue:0},{provide:Vg,multi:!0,deps:[Pe],useFactory:e=>{let t=e.get(HP,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let r=e.get(is),o=e.get(r2);JO(r,()=>{n(!0)}),e.get(Wx).afterPreactivation=()=>(n(!0),o.closed?Ce(void 0):o),r.initialNavigation()}))}}])}function n7(){return Vd(3,[{provide:Vg,multi:!0,useFactory:()=>{let e=B(is);return()=>{e.setUpLocationChangeListener()}}},{provide:Gx,useValue:2}])}var o2=new ie("");function r7(i){return Vd(0,[{provide:o2,useExisting:e7},{provide:xm,useExisting:i}])}function o7(){return Vd(8,[yO,{provide:Im,useExisting:yO}])}function s7(i){let e=[{provide:YO,useValue:$U},{provide:QO,useValue:X({skipNextTransition:!!i?.skipInitialTransition},i)}];return Vd(9,e)}var CO=new ie("ROUTER_FORROOT_GUARD"),a7=[il,{provide:Pd,useClass:Id},is,Od,{provide:Ti,useFactory:i2,deps:[is]},$x,[]],s2=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[a7,[],{provide:Rd,multi:!0,useValue:n},{provide:CO,useFactory:d7,deps:[[is,new Ku,new bg]]},{provide:jd,useValue:r||{}},r?.useHash?l7():u7(),c7(),r?.preloadingStrategy?r7(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?h7(r):[],r?.bindToComponentInputs?o7().\u0275providers:[],r?.enableViewTransitions?s7().\u0275providers:[],p7()]}}static forChild(n){return{ngModule:e,providers:[{provide:Rd,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(M(CO,8))},e.\u0275mod=q({type:e}),e.\u0275inj=G({});let i=e;return i})();function c7(){return{provide:e2,useFactory:()=>{let i=B(KP),e=B(Ge),t=B(jd),n=B(Wx),r=B(Pd);return t.scrollOffset&&i.setOffset(t.scrollOffset),new t7(r,n,i,e,t)}}}function l7(){return{provide:oa,useClass:$P}}function u7(){return{provide:oa,useClass:Hw}}function d7(i){return"guarded"}function h7(i){return[i.initialNavigation==="disabled"?n7().\u0275providers:[],i.initialNavigation==="enabledBlocking"?i7().\u0275providers:[]]}var wO=new ie("");function p7(){return[{provide:wO,useFactory:n2},{provide:cd,multi:!0,useExisting:wO}]}var Dm=class i{token;stringKey;constructor(e){this.token=e,this.stringKey=this.generateStringKey()}static from(e){return new i(e)}toString(){return this.stringKey}generateStringKey(){return typeof this.token!="string"?this.token.toString().split(" ")[1]||"":this.token}},Bd=class extends Dm{constructor(e){super(e)}getError(){return typeof this.token=="string"?"Key not found for the token: "+this.token:"Key not found for the token: "+this.token.toString()}},qx=class{records=new Map;getKey(e){let t=this.records.get(e);return t||new Bd(e)}getKeyAndTryRegister(e,t){return this.has(e)||this.set(e,t),this.getKey(e)}has(e){return this.records.has(e)}set(e,t){this.records.set(e,Dm.from(e))}clear(){this.records.clear()}},Zx=class{providers=new Map;get(e){let t=this.providers.get(e);if(!t)throw new Error(`There is no provider for ${e.toString()}.`);return t}has(e){return this.providers.has(e)}set(e,t){this.providers.set(e,t)}clear(){this.providers.clear()}},gl=class{serviceToken;constructor(e){this.serviceToken=e}getToken(){return typeof this.serviceToken=="object"?this.serviceToken.inject:this.serviceToken}isOptional(){return typeof this.serviceToken!="string"&&typeof this.serviceToken=="object"&&this.serviceToken.optional!==void 0?this.serviceToken.optional:!1}isCollection(){return typeof this.serviceToken!="string"&&typeof this.serviceToken=="object"&&this.serviceToken.collection?this.serviceToken.collection:!1}},Hd=class{provider;constructor(e){this.provider=e}getDeps(){return(this.provider.services||[]).map(e=>new gl(e))}},Kx=class extends Hd{constructor(e){super(e)}create(e){return new this.provider(...e)}},Yx=class extends Hd{constructor(e){super(e)}getDeps(){return[]}create(e){return this.provider}},Qx=class extends Hd{constructor(e){super(e)}getDeps(){return(this.provider.deps||[]).map(e=>new gl(e))}create(e){return this.provider.create(...e)}},zd=class{},Xx=class extends zd{providers=[];getDeps(){return this.providers.map(e=>(e.services||[]).map(t=>new gl(t)))}create(e){return e.map((t,n)=>new this.providers[n](...t))}addProvider(e){this.providers.push(e)}},Jx=class extends zd{providers=[];getDeps(){return this.providers.map(e=>(e.deps||[]).map(t=>new gl(t)))}create(e){return e.map((t,n)=>this.providers[n].create(...t))}addProvider(e){this.providers.push(e)}},eI=class extends zd{providers=[];getDeps(){return[]}create(e){return[...this.providers]}addProvider(e){this.providers.push(e)}},tI=class{keyRegister;providerManager=new Zx;collectionProviders=new Map;constructor(e){this.keyRegister=e}provide(e,t){return t===void 0?this.provide(e,e):this.provideClass(e,t)}provideClass(e,t){return this.addProvider(e,t,n=>new Kx(n))}provideValue(e,t){return this.addProvider(e,t,n=>new Yx(n))}provideFactory(e,t){return this.addProvider(e,t,n=>new Qx(n))}provideCollection(e,t){return this.addCollectionProvider(e,t,()=>new Xx)}provideFactoryCollection(e,t){return this.addCollectionProvider(e,t,()=>new Jx)}provideValueCollection(e,t){return this.addCollectionProvider(e,t,()=>new eI)}clear(){this.providerManager.clear(),this.collectionProviders.clear()}getRecordFactory(e){return this.providerManager.get(e)}getCollectionRecordFactory(e){return this.collectionProviders.get(e)}addProvider(e,t,n){let r=this.keyRegister.getKeyAndTryRegister(e,t);this.providerManager.set(r,n(t))}addCollectionProvider(e,t,n){let r=this.keyRegister.getKeyAndTryRegister(e,t);if(this.collectionProviders.has(r)){let o=this.collectionProviders.get(r);o&&o.addProvider(t)}else{let o=n();o.addProvider(t),this.collectionProviders.set(r,o)}}},iI=class{records=new Map;get(e){return this.records.get(e)}has(e){return this.records.has(e)}set(e,t){this.records.set(e,t)}clear(){this.records.clear()}},nI=class{keyRegister;containerProvider;recordManager=new iI;collectionRecords=new Map;constructor(e,t){this.keyRegister=e,this.containerProvider=t}resolve(e){return this.innerResolve(e)}resolveCollection(e){return this.innerResolveCollection(e)}clear(){this.recordManager.clear(),this.collectionRecords.clear()}resolveDependencies(e){return e.getDeps().map(n=>n.isCollection()?this.innerResolveCollection(n.getToken(),n.isOptional()):this.resolveDependency(n))}resolveDependency(e){return this.innerResolve(e.getToken(),e.isOptional())}innerResolve(e,t){let n=this.keyRegister.getKey(e);if(n instanceof Bd){if(t)return null;throw new Error(n.getError())}if(!this.recordManager.has(n)){let r=this.containerProvider.getRecordFactory(n),o=this.resolveDependencies(r),a=r.create(o);this.recordManager.set(n,a)}return this.recordManager.get(n)}innerResolveCollection(e,t=!1){let n=this.keyRegister.getKey(e);if(n instanceof Bd){if(t)return null;throw new Error(n.getError())}if(!this.collectionRecords.has(n)){let r=this.containerProvider.getCollectionRecordFactory(n);if(r){let o=r.getDeps().map(l=>l.map(d=>d.isCollection()?this.innerResolveCollection(d.getToken(),d.isOptional()):this.resolveDependency(d))),a=r.create(o);this.collectionRecords.set(n,a)}}return this.collectionRecords.get(n)}},rI=class{keyRegister=new qx;containerProvider=new tI(this.keyRegister);containerRecord=new nI(this.keyRegister,this.containerProvider);resolve(e){return this.containerRecord.resolve(e)}resolveCollection(e){return this.containerRecord.resolveCollection(e)}provide(e,t){return this.containerProvider.provide(e,t),this}provideClass(e,t){return this.containerProvider.provideClass(e,t),this}provideValue(e,t){return this.containerProvider.provideValue(e,t),this}provideFactory(e,t){return this.containerProvider.provideFactory(e,t),this}provideCollection(e,t){return this.containerProvider.provideCollection(e,t),this}provideFactoryCollection(e,t){return this.containerProvider.provideFactoryCollection(e,t),this}provideValueCollection(e,t){return this.containerProvider.provideValueCollection(e,t),this}clear(){this.keyRegister.clear(),this.containerProvider.clear(),this.containerRecord.clear()}clearOnlyRecords(){this.containerRecord.clear()}};function gI(){return new rI}var Sm=class{subscriber;closed=!1;constructor(e,t){this.subscriber=e,t!=null&&(this.closed=t)}unsubscribe(){this.closed||(this.closed=!0,this.subscriber.unsubscribe())}getFinalize(){return this.subscriber.getFinalize()}},tn=class{observer;finalize=()=>{};completed=!1;closed=!1;constructor(e){this.observer=e}next(e){this.isCompleted()||this.observer&&this.observer.next&&this.observer.next(e)}error(e){this.completed||(this.observer&&this.observer.error&&this.observer.error(e),this.unsubscribe())}complete(){this.completed||(this.completed=!0,this.observer&&this.observer.complete&&this.observer.complete(),this.unsubscribe())}unsubscribe(){this.closed||(this.closed=!0,this.completed=!0,this.finalize())}setFinalize(e){e&&typeof e=="function"&&(this.finalize=e)}getFinalize(){return this.finalize}isCompleted(){return this.completed}isClosed(){return this.closed}getObserver(){return this.observer}},hi=class{generatorFn;source;generatorFinalize;constructor(e){this.generatorFn=e}pipe(...e){this.source=this;for(let t of e)this.source=this.innerPipe(t,this.source);return this.source}subscribe(e){let t;if(e instanceof tn)t=e;else if(e!==null&&this.isObserver(e)){let{next:n,error:r,complete:o}=e;t=this.createSubscriber(n,r,o)}else t=this.createSubscriber(arguments[0],arguments[1],arguments[2]);return this.generatorFn&&(this.generatorFinalize=this.generatorFn(t),t.setFinalize(this.generatorFinalize)),this.getSubscription(t)}createSubscriber(e,t,n){return new tn({next:e,error:t,complete:n})}getSubscription(e){return new Sm(e)}innerPipe(e,t){return(n=>e(n))(t)}isObserver(e){return typeof e=="object"}};function a2(){return new Sm(new tn({}),!0)}var Yt=class extends hi{thrownError=null;isCompleted=!1;isClosed=!1;subscribers=[];constructor(){super()}next(e){if(this.verifyNotClosed(),!(this.isCompleted||this.thrownError!==null))for(let t of this.subscribers)t.next(e)}error(e){if(this.verifyNotClosed(),!this.isCompleted){this.thrownError=e;for(let t of this.subscribers)t.error(e);this.subscribers.length=0}}complete(){if(this.verifyNotClosed(),!this.isCompleted){this.isCompleted=!0;for(let e of this.subscribers)e.complete();this.subscribers.length=0}}subscribe(e){this.verifyNotClosed();let t;return e instanceof tn?t=e:t=this.createSubscriber(arguments[0],arguments[1],arguments[2]),this.thrownError!==null?(t.error(this.thrownError),a2()):this.isCompleted?(t.complete(),a2()):(this.subscribers.push(t),this.getSubscription(t))}unsubscribe(){this.isCompleted=!0,this.isClosed=!0,this.subscribers.length=0}toObservable(){return new hi(e=>{let t=this.subscribe(n=>e.next(n),n=>e.error(n),()=>e.complete());return()=>t.unsubscribe()})}verifyNotClosed(){if(this.isClosed)throw new Error("Observable already closed")}},ml=class extends Yt{constructor(){super()}},os=(()=>{class i{static index=0;static generate(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+`${i.index++}`}}return i})(),Tm=class{aggregateId;messageType;messageId;constructor(e,t,n=os.generate()){this.aggregateId=e,this.messageType=t,this.messageId=n}getMessageType(){return this.messageType}getAggregateId(){return this.aggregateId}getMessageId(){return this.messageId}toString(){return this.messageType}equalsByType(e){return this.getMessageType()===e.getMessageType()}equals(e){return this.getMessageType()===e.getMessageType()&&this.messageId===e.messageId}ofMessageType(e){return Array.isArray(e)?!!e.find(n=>this.isMessageType(n)):this.isMessageType(e)}isMessageType(e){return this.getMessageType()===e}},mo=class extends Tm{payload;constructor(e,t,n){super(e,n),this.payload=t}isSameType(e){return this.constructor.name===e.constructor.name}getPayload(){return this.payload}};function f7(...i){return new hi(e=>{i.forEach(t=>{e.next(t)}),e.complete()})}function mI(){return new hi(i=>{i.complete()})}function ya(i){return e=>i===0?mI():new hi(t=>{let n=0,r=new tn({next:()=>{},error:a=>t.error(a),complete:()=>t.complete()});return r.observer.next=function(a){n<i&&(t.next(a),n++,n===i&&r.complete())},e.subscribe(r).getFinalize()})}function Hm(i,e,t){let n=e||(o=>{i.next(o)}),r=t||(()=>{i.complete()});return new tn({next:n,error:o=>i.error(o),complete:r})}function g7(i){return new tn({next:e=>i.next(e),error:e=>i.error(e),complete:()=>i.complete()})}function nt(i){return e=>new hi(t=>{let n=Hm(t,r=>{i(r)&&t.next(r)});return e.subscribe(n).getFinalize()})}var Mm=class{domainEvents=[];domainEvents$=new Yt;next(e){this.domainEvents.push(e),this.domainEvents$.next(e)}findEventByType(e){return this.getEvents().reverse().find(n=>n.constructor.name===e)}waitForEvent(e){let t=this.findEventByType(e);return t?f7(t):this.waitForNextEventOccurrence(e)}waitForNextEventOccurrence(e){let t;if(e instanceof mo)t=e.constructor.name;else if(typeof e=="string")t=e;else return new hi(n=>{n.error(new Error("Unsupported argument type."))});return this.domainEvents$.toObservable().pipe(nt(n=>n.constructor.name===t),ya(1))}getEvents(){return this.domainEvents}},$d=class extends Yt{constructor(){super()}},Ud=(()=>{class i extends hi{commandsStream;constructor(t){super(),this.commandsStream=t}static services=[$d];subscribe(){return this.commandsStream.toObservable().subscribe(arguments[0],arguments[1],arguments[2])}ofCommandHandler(...t){return this.commandsStream.toObservable().pipe(nt(n=>t.some(r=>r.forCommand(n))))}ofCreateAggregateHandler(...t){return this.commandsStream.toObservable().pipe(nt(n=>t.some(r=>r.forCommand(n))))}ofNullHandler(t,n){return this.commandsStream.toObservable().pipe(nt(r=>{if(!t&&!n)return!0;let o=!0;return t&&(o=!t.some(a=>a.forCommand(r))),n&&(o=o&&!n.some(a=>a.forCommand(r))),o}))}}return i})(),Qt=class i{value;constructor(e){return i.isValueEmpty(e)?this.value=null:this.value=e,this}static empty(){return new i(null)}static of(e){return new i(e)}static isValueEmpty(e){return typeof e>"u"||e===null}isEmpty(){return i.isValueEmpty(this.value)}isPresent(){return!this.isEmpty()}filter(e){return this.isPresent()&&e(this.value)?this:i.empty()}forEach(e){this.isPresent()&&e(this.value)}map(e){return this.isPresent()?new i(e(this.value)):i.empty()}getValueOrNullOrThrowError(){return this.value}getOrThrow(){if(this.isEmpty())throw new Error("Called getOrThrow on an empty Optional");return this.value}getOrElse(e){return this.isPresent()?this.value:e()}ifPresent(e){this.isPresent()&&e(this.value)}ifEmpty(e){this.isEmpty()&&e()}orElse(e){return this.isPresent()?this:e()}},vl=class{map=new Map;constructor(){}add(e,t){this.map.set(e,t)}get(e){return Qt.of(this.map.get(e))}has(e){return this.map.has(e)}},bl=class{map=new Map;constructor(){}add(e,t){this.map.set(e,t)}get(e){return Qt.of(this.map.get(e))}has(e){return this.map.has(e)}},Wd=class{aggregateFactoryArchive=P.resolve(vl);aggregateRepositoryArchive=P.resolve(bl);constructor(){}register(e){if(e){let t=new Set,n=[];e.filter(r=>{t.has(r.key)||(t.add(r.key),n.push(r))}),n.forEach(r=>{let o=P.resolve(r.factory),a=P.resolve(r.repository);this.aggregateFactoryArchive.has(r.key)||this.aggregateFactoryArchive.add(r.key,o),this.aggregateRepositoryArchive.has(r.key)||this.aggregateRepositoryArchive.add(r.key,a)})}}};function rn(i){return e=>new hi(t=>{let n=g7(t),r=new tn({next:()=>n.complete()});return i.subscribe(r),e.subscribe(n).getFinalize()})}function bo(i){return new De(e=>{let t=i.subscribe(n=>e.next(n),n=>e.error(n),()=>e.complete());return()=>t.unsubscribe()})}var Mi=class{hermesUnsubscribe$=new Yt;constructor(){}onDestroy(){this.hermesUnsubscribe()}takeUntil(){return We(bo(this.hermesUnsubscribe$))}hermesUnsubscribe(){this.hermesUnsubscribe$.next(),this.hermesUnsubscribe$.complete()}hermesTakeUntil(){return rn(this.hermesUnsubscribe$)}isNotStopped(){return!this.hermesUnsubscribe$.isCompleted}},Gd=class extends Mi{commandBus=P.resolve(Ud);constructor(){super()}register(e){if(e){let t=new Set,n=[];e.filter(r=>{t.has(r.commandHandler)||(t.add(r.commandHandler),n.push(r))}),n.forEach(r=>{this.commandBus.ofCommandHandler(r).pipe(this.hermesTakeUntil()).subscribe(o=>{r.handleCommand(o)})})}}registerAggregateCommandHandlers(e){if(e){let t=new Set,n=[];e.filter(r=>{t.has(r.createAggregateCommandHandler)||(t.add(r.createAggregateCommandHandler),n.push(r))}),n.forEach(r=>{this.commandBus.ofCreateAggregateHandler(r).pipe(this.hermesTakeUntil()).subscribe(o=>{r.handleCommand(o)})})}}},$n=(()=>{class i extends hi{eventStream;constructor(t){super(),this.eventStream=t}static services=[ml];subscribe(){return this.eventStream.toObservable().subscribe(arguments[0],arguments[1],arguments[2])}ofEvents(t){return this.eventStream.toObservable().pipe(nt(n=>t.some(r=>this.createEventInstance(r).equalsByType(n))))}ofEventHandlers(t){return this.eventStream.toObservable().pipe(nt(n=>t.some(r=>r.forEvents([n]))))}createEventInstance(t){let n=[],r=t.constructor.length;if(n.fill(void 0,0,r),n.length===0)return new t;if(n.length===1)return new t(n[0]);if(n.length===2)return new t(n[0],n[1]);if(n.length===3)return new t(n[0],n[1],n[2]);if(n.length===4)return new t(n[0],n[1],n[2],n[3]);if(n.length===5)return new t(n[0],n[1],n[2],n[3],n[4]);throw new Error("DomainEventBus constructor out of arguments")}}return i})(),oI=(()=>{class i extends Mi{domainEventBus;unsub$=new Yt;constructor(t){super(),this.domainEventBus=t}static services=[$n];init(t){if(t){let n=new Set,r=[];t.filter(o=>{n.has(o.domainEventHandler)||(n.add(o.domainEventHandler),r.push(o))}),r.forEach(o=>{this.domainEventBus.ofEventHandlers([o]).pipe(rn(this.unsub$),this.hermesTakeUntil()).subscribe(a=>{o.handleEvent(a)})})}}reinit(t){this.stop(),this.init(t)}stop(){this.unsub$.next(),this.unsub$.complete(),this.unsub$=new Yt}}return i})(),zm="GUI - COMMAND_LOGGER_ENABLED",$m="GUI - EVENT_LOGGER_ENABLED",km=class{domainName;setDomain(e){this.domainName=e}log(e){this.shouldPrint(e)&&this.print(e)}shouldPrint(e){return this.domainName?e.toString().includes(this.domainName):!0}},yl=class extends km{},Am=class extends yl{enabled=!1;unsubscribe$=new Yt;commandBus=P.resolve(Ud);constructor(){super(),this.commandBus.pipe(nt(()=>this.enabled),rn(this.unsubscribe$)).subscribe(e=>{this.log(e)})}onDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}start(){this.enabled=!0}stop(){this.enabled=!1}print(e){console.log(e.toString(),e)}},Rm=class extends yl{start(){}stop(){}print(e){}},_l=class extends km{constructor(){super()}},Fm=class extends _l{constructor(){super()}start(){}stop(){}print(e){}},qd=class{stores=[];register(e){this.stores.push(e)}captureAggregatesSnapshot(e){if(!e)return{};let t={};return this.stores.forEach(n=>{let r=n.findById(e);if(r){let o=r.constructor.name;t[o]=r}}),this.cloneAggregates(t)}cloneAggregates(e){return e}},Pm=class extends _l{enabled=!1;unsubscribe$=new Yt;eventBus=P.resolve($n);aggregateStoreRegister=P.resolve(qd);constructor(){super(),this.eventBus.pipe(nt(()=>this.enabled),rn(this.unsubscribe$)).subscribe(e=>{this.log(e)})}onDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}start(){this.enabled=!0}stop(){this.enabled=!1}print(e){let t=e.getAggregateId(),n=this.aggregateStoreRegister.captureAggregatesSnapshot(t);console.log(e.toString(),e,n)}},l2="Hermes - aggregateDefinitionToken",sI="HERMES - DOMAIN_EVENT_HANDLERS_TOKEN",u2="HERMES - CREATE_AGGREGATE_COMMAND_HANDLERS",d2="HERMES - COMMAND_HANDLERS_TOKEN",h2=(()=>{class i extends Mi{aggregateDefinitionInitializer;commandHandlerInitializer;domainEventHandlerInitializer;commandBus;definedAggregate;eventHandlers;aggregateCommandHandlers;commandHandlers;started=!1;constructor(t,n,r,o,a,l,d,p){super(),this.aggregateDefinitionInitializer=t,this.commandHandlerInitializer=n,this.domainEventHandlerInitializer=r,this.commandBus=o,this.definedAggregate=a,this.eventHandlers=l,this.aggregateCommandHandlers=d,this.commandHandlers=p,this.eventHandlers===null&&(this.eventHandlers=[]),this.aggregateCommandHandlers===null&&(this.aggregateCommandHandlers=[]),this.commandHandlers===null&&(this.commandHandlers=[])}static services=[Wd,Gd,oI,Ud,{inject:l2,collection:!0},{inject:sI,collection:!0,optional:!0},{inject:u2,collection:!0,optional:!0},{inject:d2,collection:!0,optional:!0}];run(){this.started||(this.checkNullCommand(this.commandHandlers,this.aggregateCommandHandlers),this.checkCommandHandlerIsCollection(this.commandHandlers),this.checkDomainEventHandlerIsCollection(this.eventHandlers),this.aggregateDefinitionInitializer.register(this.definedAggregate),this.commandHandlerInitializer.register(this.commandHandlers),this.commandHandlerInitializer.registerAggregateCommandHandlers(this.aggregateCommandHandlers),this.domainEventHandlerInitializer.init(this.eventHandlers),this.started=!0)}destroy(){this.commandHandlerInitializer.onDestroy(),this.domainEventHandlerInitializer.onDestroy()}checkNullCommand(t,n){this.commandBus.ofNullHandler(t,n).pipe(this.hermesTakeUntil()).subscribe(r=>{console.error(`Command ${r.toString()} was not intercepted by any CommandHandler.`)})}checkCommandHandlerIsCollection(t){t&&!Array.isArray(t)&&console.warn('You might provided commandHandler without specifying "multi: true".')}checkDomainEventHandlerIsCollection(t){t&&!Array.isArray(t)&&console.warn('You might provided eventHandler without specifying "multi: true".')}}return i})();function m7(i,e,t){return i?e:t}function v7(i,e,t){return i?e:t}function p2(){P.resolve(h2).run()}var wi=class{commandStream=P.resolve($d);dispatch(e){this.commandStream.next(e)}},et=(()=>{class i{eventStream;constructor(t){this.eventStream=t}static services=[ml];publish(t){if(Array.isArray(t))for(let n of t)this.publishEvent(n);else this.publishEvent(t)}publishFromAggregate(t){[...t.getEvents()].forEach(r=>{this.publish(r.toDomainEvent())})}publishEvent(t){t||console.error(`${t} is not defined`),t instanceof mo||console.error(`${t} is not a DomainEvent`),this.eventStream.next(t)}}return i})(),P=gI();P.provideValue($m,!0);P.provideValue(zm,!0);P.provide(Am);P.provide(Rm);P.provide(Fm);P.provide(Pm);P.provide($n);P.provide(qd);P.provideFactory(yl,{create:m7,deps:[zm,Am,Rm]});P.provideFactory(_l,{create:v7,deps:[$m,Pm,Fm]});P.provide(vl,vl);P.provide(et);P.provide(bl);P.provide(ml,ml);P.provide(Mm,Mm);P.provide(Ud,Ud);P.provide($d);P.provide(wi);P.provide(Wd,Wd);P.provide(Gd,Gd);P.provide(oI,oI);P.provide(h2);var rs=class extends Tm{};var la=class{},ua=class{aggregateId;type;constructor(e,t){this.aggregateId=e,this.type=t}getAggregateId(){return this.aggregateId}getType(){return this.type}equals(e){return this.equalsByType(e)&&this.getAggregateId().equals(e.getAggregateId())}equalsByType(e){return this.getType()===e.getType()}};var da=class{},aI=class{},ha=class{type;aggregateId;events;constructor(e,t){this.type=t,this.aggregateId=e,this.events=[]}getId(){return this.aggregateId}getType(){return this.type}getEvents(){return this.events}addEvent(e){if(Array.isArray(e))for(let t of e)this.events.push(t);else this.events.push(e)}clearEvents(){this.events.length=0}equals(e){return e.getId().toString()===this.getId().toString()}},pa=class{uid;constructor(e){this.uid=e}getId(){return this.uid}equals(e){return this.uid===e.getId()}},fa=class extends pa{constructor(e){super(e)}toString(){return super.getId()}};var Om=class extends Mi{constructor(){super()}onDestroy(){this.hermesUnsubscribe()}},Cl=class{keys=new Map;values=new WeakMap;find(e){let t=this.getInternalKey(e);return t!==void 0?Qt.of(this.values.get(t)):Qt.empty()}has(e){let t=this.getInternalKey(e);return this.values.has(t)}set(e,t){this.keys.set(e.toString(),e),this.values.set(e,t)}size(){return this.keys.size}remove(e){this.hasInternalKey(e)&&(this.keys.delete(e.toString()),this.values.delete(e))}removeAll(){this.keys.forEach(e=>{this.values.delete(e)}),this.keys.clear()}getInternalKey(e){return this.keys.get(e.toString())}hasInternalKey(e){return this.keys.has(e.toString())}};function ee(i){return e=>new hi(t=>{let n=0,r=Hm(t,o=>{t.next(i(o,n++))});return e.subscribe(r).getFinalize()})}function Un(i){let e=i||b7;return t=>new hi(n=>{let r=null,o=Hm(n,a=>{(r===null||!e(r,a))&&(r=a,n.next(a))});return t.subscribe(o).getFinalize()})}function b7(i,e){return i===e}var cI=class extends Yt{lastValue;constructor(e){super(),this.lastValue=e}next(e){this.lastValue=e,super.next(e)}subscribe(){let e=super.subscribe(arguments[0],arguments[1],arguments[2]);return super.next(this.lastValue),e}},nn=class extends Yt{bufferSize;values=[];constructor(e=1){super(),this.bufferSize=e}pipe(...e){return super.pipe(...e)}next(e){this.values.push(e),this.bufferSize<this.values.length&&this.values.shift(),super.next(e)}subscribe(){let e;arguments[0]instanceof tn?e=arguments[0]:e=this.createSubscriber(arguments[0],arguments[1],arguments[2]);let t=super.subscribe(e);for(let n of this.values)e.next(n);return t}},Nm=class extends Yt{constructor(){super()}static of(e){return e!==void 0?new cI(e):new nn(1)}},lI=class extends tn{next(e){if(this.isCompleted())return;let t=this.getObserver();t&&t.next&&(t.next(e),this.complete())}},uI=class extends hi{createSubscriber(e,t,n){return new lI({next:e,error:t,complete:n})}};function _a(i){return new uI(e=>{let t=new tn({next:r=>e.next(r),error:r=>e.error(r),complete:()=>{}});return i.subscribe(t).getFinalize()})}var dI=class extends Om{archive=new Cl;archive$;defaultValue=Qt.empty();constructor(e){super(),this.archive$=Nm.of(),e!=null&&(this.defaultValue=Qt.of(e))}on(e){return this.tryToInitDefault(e),this.archive$.toObservable().pipe(nt(()=>this.isNotStopped()),ee(t=>t.find(e)),nt(t=>t.isPresent()),ee(t=>t.getValueOrNullOrThrowError()),Un(this.equals),this.hermesTakeUntil())}once(e){return _a(this.on(e))}find(e){return this.tryToInitDefault(e),this.archive.find(e)}next(e,t){this.archive.set(e,t),this.archive$.next(this.archive)}equals(e,t){return e===t}createDefaultValue(e){return e}tryToInitDefault(e){this.defaultValue.ifPresent(t=>{this.archive.has(e)||this.next(e,t)})}},Ct=class extends dI{constructor(e){super(e)}},vr=class extends Ct{constructor(e){super(e)}handle(e){this.next(e.getAggregateId(),e.getPayload())}},Lm=class{entityId;constructor(e){this.entityId=e}getId(){return this.entityId}},jm=class{uid;constructor(e){this.uid=e}toString(){return this.uid}getId(){return this.uid}equals(e){return this.uid===e.getId()}},Zd=class{rootId;constructor(e){this.rootId=e}getId(){return this.rootId}},ga=class{uid;constructor(e){this.uid=e}toString(){return this.uid}getId(){return this.uid}equals(e){return this.uid===e.getId()}},Vm=class extends Mi{domainEventBus=P.resolve($n);constructor(){super(),this.domainEventBus.ofEvents(this.forEvents()).pipe(this.hermesTakeUntil()).subscribe(e=>{try{this.subscribe(e)}catch(t){console.error(t)}})}},hI=class{},zr=class extends Om{domainEventBus=P.resolve($n);constructor(){super()}onEvent(e,t){return this.domainEventBus.ofEvents([t]).pipe(nt(n=>n.getAggregateId().toString()===e.toString()))}},ma=class{entityId;constructor(e){this.entityId=e}getId(){return this.entityId}equals(e){return this.entityId.equals(e.getId())}},vo=class extends pa{};function vI(i){}function Um(i){}var pi=class{};function bI(i){return new hi(e=>{let t=setTimeout(()=>{e.next(0)},i);return()=>{clearTimeout(t),e.complete()}})}function Qd(i,e){return new hi(t=>{let n=r=>{t.next(r)};return i.addEventListener(e,n),()=>{i.removeEventListener(e,n)}})}function _n(i){return e=>new hi(t=>{let n=!1,r=null,o=function(){n&&!r&&t.complete()},a=Hm(t,l=>{r&&r.unsubscribe();let d=new tn({next:m=>t.next(m),error:m=>t.error(m),complete:()=>{r=null,o()}});return r=d,i(l).subscribe(d).getFinalize()},()=>{n=!0,o()});return e.subscribe(a).getFinalize()})}function ss(i){return new hi(e=>{let t=i.subscribe(n=>e.next(n),n=>e.error(n),()=>e.complete());return()=>t.unsubscribe()})}var yn=class{archive$;constructor(e){this.archive$=Nm.of(e)}on(){return this.archive$.toObservable().pipe(Un(this.compare))}next(e){this.archive$.next(e)}compare(e,t){return e===t}},f2=(()=>{class i{static index=0;static generate(){return i.index++,i.index}}return i})();var va=class extends aI{inMemoryStore;aggregateStoreRegister=P.resolve(qd);constructor(e){super(),this.inMemoryStore=e,this.aggregateStoreRegister.register(this)}save(e){if(Array.isArray(e))e.forEach(t=>{this.inMemoryStore.set(t)});else{let t=e;this.inMemoryStore.set(t)}}findById(e){let t=this.inMemoryStore.get(e);return t.ifPresent(n=>n.clearEvents()),t}remove(e){this.inMemoryStore.delete(e)}},Kd=class extends hI{inMemoryStore;constructor(e){super(),this.inMemoryStore=e}getById(e){return this.getValue(e)}getValue(e){return this.inMemoryStore.get(e).map(this.toReadModel.bind(this))}},ba=class{state=new Map;set(e){this.state.set(e.getId().toString(),e)}setMany(e){e.forEach(t=>{this.set(t)})}get(e){return Qt.of(this.state.get(e.toString()))}getAll(){return Array.from(this.state.values()).map(e=>Qt.of(e))}has(e){return this.state.has(e.toString())}delete(e){this.state.delete(e.toString())}clear(){this.state.clear()}};var Yd=class extends rs{constructor(e,t){super(e,t)}},c2="hermesApi";function g2(){let i=P.resolve(yl),e=P.resolve(_l),t=()=>({set loggers(n){},set domain(n){n&&(i.setDomain(n),e.setDomain(n))}});window[c2]=t(),window[c2].loggers=!1}function y7(i,e){return new pI(i,e)}var pI=class{createAggregateCommandHandler;aggregateType;aggregateFactoryArchive=P.resolve(vl);aggregateRepositoryArchive=P.resolve(bl);domainEventPublisher=P.resolve(et);commandType;constructor(e,t){this.createAggregateCommandHandler=e,this.aggregateType=t,this.commandType=this.createCommandInstance().getMessageType()}handleCommand(e){let t=e.getAggregateId();this.aggregateFactoryArchive.get(this.aggregateType).ifPresent(r=>{let o=r.create(t),a=o.getType(),l=o.createEvent(),d=new l(t,a);o.addEvent(d),this.aggregateRepositoryArchive.get(this.aggregateType).ifPresent(m=>{m.save(o),this.domainEventPublisher.publishFromAggregate(o)})})}forCommand(e){return this.commandType===e.getMessageType()}createCommandInstance(){let e=[],t=this.createAggregateCommandHandler.forCommand().constructor.length;if(e.fill(void 0,0,t),e.length===0)return new(this.createAggregateCommandHandler.forCommand());if(e.length===1)return new(this.createAggregateCommandHandler.forCommand())(e[0]);if(e.length===2)return new(this.createAggregateCommandHandler.forCommand())(e[0],e[1]);if(e.length===3)return new(this.createAggregateCommandHandler.forCommand())(e[0],e[1],e[2]);if(e.length===4)return new(this.createAggregateCommandHandler.forCommand())(e[0],e[1],e[2],e[3]);if(e.length===5)return new(this.createAggregateCommandHandler.forCommand())(e[0],e[1],e[2],e[3],e[4]);throw new Error("CreateAggregateCommandHandlerImpl constructor out of arguments")}};function _7(i,e){return new fI(i,e)}var fI=class{commandHandler;aggregateType;aggregateRepositoryArchive=P.resolve(bl);domainEventPublisher=P.resolve(et);commandType;constructor(e,t){this.commandHandler=e,this.aggregateType=t,this.commandType=this.createCommandInstance().getMessageType()}publishDomainEvents(e,t){this.commandHandler.publish?this.commandHandler.publish(e,t):this.domainEventPublisher.publishFromAggregate(e)}handleCommand(e){let t=e.getAggregateId();this.aggregateRepositoryArchive.get(this.aggregateType).ifPresent(r=>{r.findById(t).ifPresent(a=>{this.commandHandler.handle(a,e),this.publishDomainEvents(a,e)})})}forCommand(e){return this.commandType===e.getMessageType()}createCommandInstance(){let e=[],t=this.commandHandler.forCommand().constructor.length;if(e.fill(void 0,0,t),e.length===0)return new(this.commandHandler.forCommand());if(e.length===1)return new(this.commandHandler.forCommand())(e[0]);if(e.length===2)return new(this.commandHandler.forCommand())(e[0],e[1]);if(e.length===3)return new(this.commandHandler.forCommand())(e[0],e[1],e[2]);if(e.length===4)return new(this.commandHandler.forCommand())(e[0],e[1],e[2],e[3]);if(e.length===5)return new(this.commandHandler.forCommand())(e[0],e[1],e[2],e[3],e[4]);throw new Error("CommandHandlerImpl constructor out of arguments")}};function C7(i){return new Bm(i,[i.forEvent()])}function w7(i){return new Bm(i,i.forEvents())}var Bm=class{domainEventHandler;events;eventTypes;constructor(e,t){this.domainEventHandler=e,this.events=t,this.eventTypes=this.createDomainEventTypes()}handleEvent(e){this.domainEventHandler.handle(e)}forEvents(e){return e.some(t=>this.eventTypes.some(n=>n===t.getMessageType()))}createDomainEventTypes(){let e=[];for(let t of this.events){let n=this.createDomainEventInstance(t);e.push(n.getMessageType())}return e}createDomainEventInstance(e){let t=[],n=e.constructor.length;if(t.fill(void 0,0,n),t.length===0)return new e;if(t.length===1)return new e(t[0]);if(t.length===2)return new e(t[0],t[1]);if(t.length===3)return new e(t[0],t[1],t[2]);if(t.length===4)return new e(t[0],t[1],t[2],t[3]);if(t.length===5)return new e(t[0],t[1],t[2],t[3],t[4]);throw new Error("DomainEventHandler constructor out of arguments")}},Li=class{api;domain;container=P;initialized=!1;constructor(e,t){this.api=e,this.domain=t}init(){this.initialized||(this.defineAggregate(),this.registerApiProviders(),this.registerDomainProviders(),this.registerCommandHandlers(),this.registerEventHandlers(),this.registerMultiEventHandlers(),this.initialized=!0)}defineAggregate(){let e=this.domain.defineAggregate();e&&(this.container.provide(e.factory),this.container.provide(e.repository),this.container.provideValue(e.aggregateKey,e.aggregateKey),this.container.provideValueCollection(l2,{key:e.aggregateKey,factory:e.factory,repository:e.repository}),this.container.provide(e.createCommandHandler),this.container.provideFactoryCollection(u2,{create:y7,deps:[e.createCommandHandler,e.aggregateKey]}))}registerApiProviders(){this.api.registerProviders(this.container)}registerDomainProviders(){this.domain.registerProviders(this.container)}registerCommandHandlers(){this.domain.registerCommandHandlers().forEach(e=>{this.container.provide(e),this.container.provideFactoryCollection(d2,{create:_7,deps:[e,this.domain.registerKey(this.container)]})})}registerEventHandlers(){this.domain.registerDomainEventHandler().forEach(e=>{this.container.provide(e),this.container.provideFactoryCollection(sI,{create:C7,deps:[e]})})}registerMultiEventHandlers(){this.domain.registerMultiDomainEventHandler().forEach(e=>{this.container.provide(e),this.container.provideFactoryCollection(sI,{create:w7,deps:[e]})})}};var E2=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(f(At),f(F))},e.\u0275dir=ne({type:e});let i=e;return i})(),D2=(()=>{let e=class e extends E2{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=$t(e)))(o||e)}})(),e.\u0275dir=ne({type:e,features:[H]});let i=e;return i})(),wI=new ie("NgValueAccessor");var x7={provide:wI,useExisting:Ln(()=>$r),multi:!0};function I7(){let i=Vr()?Vr().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var E7=new ie("CompositionEventMode"),$r=(()=>{let e=class e extends E2{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!I7())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(f(At),f(F),f(E7,8))},e.\u0275dir=ne({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Y("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[pt([x7]),H]});let i=e;return i})();function D7(i){return i!=null&&typeof i.length=="number"}var xI=new ie("NgValidators"),S2=new ie("NgAsyncValidators");function S7(i){return e=>D7(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function m2(i){return null}function T2(i){return i!=null}function M2(i){return na(i)?St(i):i}function k2(i){let e={};return i.forEach(t=>{e=t!=null?X(X({},e),t):e}),Object.keys(e).length===0?null:e}function A2(i,e){return e.map(t=>t(i))}function T7(i){return!i.validate}function R2(i){return i.map(e=>T7(e)?e:t=>e.validate(t))}function M7(i){if(!i)return null;let e=i.filter(T2);return e.length==0?null:function(t){return k2(A2(t,e))}}function F2(i){return i!=null?M7(R2(i)):null}function k7(i){if(!i)return null;let e=i.filter(T2);return e.length==0?null:function(t){let n=A2(t,e).map(M2);return Au(n).pipe(Ve(k2))}}function P2(i){return i!=null?k7(R2(i)):null}function v2(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function O2(i){return i._rawValidators}function N2(i){return i._rawAsyncValidators}function yI(i){return i?Array.isArray(i)?i:[i]:[]}function qm(i,e){return Array.isArray(i)?i.includes(e):i===e}function b2(i,e){let t=yI(e);return yI(i).forEach(r=>{qm(t,r)||t.push(r)}),t}function y2(i,e){return yI(e).filter(t=>!qm(i,t))}var Zm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=F2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=P2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},xl=class extends Zm{get formDirective(){return null}get path(){return null}},eh=class extends Zm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Km=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},A7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yle=xt(X({},A7),{"[class.ng-submitted]":"isSubmitted"}),as=(()=>{let e=class e extends Km{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(f(eh,2))},e.\u0275dir=ne({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Me("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[H]});let i=e;return i})(),cs=(()=>{let e=class e extends Km{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(f(xl,10))},e.\u0275dir=ne({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Me("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[H]});let i=e;return i})();var Xd="VALID",Wm="INVALID",wl="PENDING",Jd="DISABLED";function II(i){return(Jm(i)?i.validators:i)||null}function R7(i){return Array.isArray(i)?F2(i):i||null}function EI(i,e){return(Jm(e)?e.asyncValidators:i)||null}function F7(i){return Array.isArray(i)?P2(i):i||null}function Jm(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function L2(i,e,t){let n=i.controls;if(!(e?Object.keys(n):n).length)throw new Z(1e3,"");if(!n[t])throw new Z(1001,"")}function j2(i,e,t){i._forEachChild((n,r)=>{if(t[r]===void 0)throw new Z(1002,"")})}var Il=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xd}get invalid(){return this.status===Wm}get pending(){return this.status==wl}get disabled(){return this.status===Jd}get enabled(){return this.status!==Jd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(b2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(b2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(y2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(y2(e,this._rawAsyncValidators))}hasValidator(e){return qm(this._rawValidators,e)}hasAsyncValidator(e){return qm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wl,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Jd,this.errors=null,this._forEachChild(n=>{n.disable(xt(X({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xt(X({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xd,this._forEachChild(n=>{n.enable(xt(X({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(xt(X({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xd||this.status===wl)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jd:Xd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wl,this._hasOwnPendingAsyncValidator=!0;let t=M2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(e,t){let n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new J,this.statusChanges=new J}_calculateStatus(){return this._allControlsDisabled()?Jd:this.errors?Wm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wl)?wl:this._anyControlsHaveStatus(Wm)?Wm:Xd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=R7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=F7(this._rawAsyncValidators)}},Ym=class extends Il{constructor(e,t,n){super(II(t),EI(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){j2(this,!0,e),Object.keys(e).forEach(n=>{L2(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,n)=>n._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,n]of Object.entries(this.controls))if(this.contains(t)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,n,r)=>((n.enabled||this.disabled)&&(t[r]=n.value),t))}_reduceChildren(e,t){let n=e;return this._forEachChild((r,o)=>{n=t(n,r,o)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _I=class extends Ym{};var V2=new ie("CallSetDisabledState",{providedIn:"root",factory:()=>DI}),DI="always";function P7(i,e){return[...e.path,i]}function _2(i,e,t=DI){SI(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),N7(i,e),j7(i,e),L7(i,e),O7(i,e)}function C2(i,e,t=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Xm(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Qm(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function O7(i,e){if(e.valueAccessor.setDisabledState){let t=n=>{e.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function SI(i,e){let t=O2(i);e.validator!==null?i.setValidators(v2(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let n=N2(i);e.asyncValidator!==null?i.setAsyncValidators(v2(n,e.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();Qm(e._rawValidators,r),Qm(e._rawAsyncValidators,r)}function Xm(i,e){let t=!1;if(i!==null){if(e.validator!==null){let r=O2(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==e.validator);o.length!==r.length&&(t=!0,i.setValidators(o))}}if(e.asyncValidator!==null){let r=N2(i);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==e.asyncValidator);o.length!==r.length&&(t=!0,i.setAsyncValidators(o))}}}let n=()=>{};return Qm(e._rawValidators,n),Qm(e._rawAsyncValidators,n),t}function N7(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&B2(i,e)})}function L7(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&B2(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function B2(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function j7(i,e){let t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function V7(i,e){i==null,SI(i,e)}function B7(i,e){return Xm(i,e)}function H7(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function z7(i){return Object.getPrototypeOf(i.constructor)===D2}function $7(i,e){i._syncPendingControls(),e.forEach(t=>{let n=t.control;n.updateOn==="submit"&&n._pendingChange&&(t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function U7(i,e){if(!e)return null;Array.isArray(e);let t,n,r;return e.forEach(o=>{o.constructor===$r?t=o:z7(o)?n=o:r=o}),r||n||t||null}function W7(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function w2(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function x2(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Gm=class extends Il{constructor(e=null,t,n){super(II(t),EI(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(x2(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){w2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){w2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){x2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var G7=i=>i instanceof Gm;var ls=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ne({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})(),q7={provide:wI,useExisting:Ln(()=>th),multi:!0},th=(()=>{let e=class e extends D2{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=$t(e)))(o||e)}})(),e.\u0275dir=ne({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&Y("input",function(l){return o.onChange(l.target.value)})("blur",function(){return o.onTouched()})},features:[pt([q7]),H]});let i=e;return i})();var Z7=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({});let i=e;return i})();var H2=new ie("NgModelWithFormControlWarning");var K7={provide:xl,useExisting:Ln(()=>yo)},yo=(()=>{let e=class e extends xl{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new J,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return _2(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){C2(n.control||null,n,!1),W7(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,$7(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(C2(r||null,n),G7(o)&&(_2(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);V7(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&B7(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){SI(this.form,this),this._oldForm&&Xm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(f(xI,10),f(S2,10),f(V2,8))},e.\u0275dir=ne({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&Y("submit",function(l){return o.onSubmit(l)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pt([K7]),H,le]});let i=e;return i})();var Y7={provide:eh,useExisting:Ln(()=>_o)},_o=(()=>{let e=class e extends eh{set isDisabled(n){}constructor(n,r,o,a,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new J,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=U7(this,a)}ngOnChanges(n){this._added||this._setUpControl(),H7(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return P7(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(f(xl,13),f(xI,10),f(S2,10),f(wI,10),f(H2,8))},e.\u0275dir=ne({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[pt([Y7]),H,le]});let i=e;return i})();function Q7(i){return typeof i=="number"?i:parseInt(i,10)}var X7=(()=>{let e=class e{constructor(){this._validator=m2}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):m2,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ne({type:e,features:[le]});let i=e;return i})();var J7={provide:xI,useExisting:Ln(()=>TI),multi:!0},TI=(()=>{let e=class e extends X7{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>Q7(n),this.createValidator=n=>S7(n)}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=$t(e)))(o||e)}})(),e.\u0275dir=ne({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&ni("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[pt([J7]),H]});let i=e;return i})();var eW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[Z7]});let i=e;return i})(),CI=class extends Il{constructor(e,t,n){super(II(t),EI(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){j2(this,!1,e),e.forEach((n,r)=>{L2(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,n)=>n._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function I2(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Co=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),a={};return I2(r)?a=r:r!==null&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Ym(o,a)}record(n,r=null){let o=this._reduceControls(n);return new _I(o,r)}control(n,r,o){let a={};return this.useNonNullable?(I2(r)?a=r:(a.validators=r,a.asyncValidators=o),new Gm(n,xt(X({},a),{nonNullable:!0}))):new Gm(n,r,o)}array(n,r,o){let a=n.map(l=>this._createControl(l));return new CI(a,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Gm)return n;if(n instanceof Il)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,a=n.length>2?n[2]:null;return this.control(r,o,a)}else return this.control(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var us=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:H2,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:V2,useValue:n.callSetDisabledState??DI}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[eW]});let i=e;return i})();var Eo=["*"],tW=["gui-button",""];var iW=["input"];function nW(i,e){if(i&1&&(C(0,"div"),j(1),x()),i&2){let t=e.$implicit;y(1),ht(t)}}function rW(i,e){if(i&1){let t=Ne();C(0,"div",6),Y("click",function(){let o=pe(t).$implicit,a=D(2);return fe(a.selectDate(o))}),j(1),x()}if(i&2){let t=e.$implicit,n=D(2);Me("gui-date-picker-current-day",n.isDate(n.currentDay,t))("gui-date-picker-selected-day",n.isDate(n.selectedDate,t))("gui-date-picker-selected-month",n.displayMonthDays(t.getMonth())),y(1),ge(" ",t.getDate()," ")}}function oW(i,e){if(i&1&&(C(0,"div",4),Q(1,rW,2,7,"div",5),x()),i&2){let t=e.$implicit;y(1),_("ngForOf",t)}}function sW(i,e){if(i&1){let t=Ne();C(0,"div",4),Y("click",function(){let o=pe(t).$implicit,a=D(2);return fe(a.selectMonth(o.nr))}),j(1),x()}if(i&2){let t=e.$implicit,n=D(2);Me("gui-date-picker-current-month",n.isMonth(n.currentDay,t.nr))("gui-date-picker-selected-month",n.isMonth(n.selectedDate,t.nr)),y(1),ge(" ",t.name," ")}}function aW(i,e){if(i&1&&(C(0,"div",2),Q(1,sW,2,5,"div",3),x()),i&2){let t=e.$implicit;y(1),_("ngForOf",t)}}function cW(i,e){if(i&1){let t=Ne();C(0,"div",4),Y("click",function(){let o=pe(t).$implicit,a=D(2);return fe(a.selectYear(o))}),j(1),x()}if(i&2){let t=e.$implicit,n=D(2);Me("gui-date-picker-current-year",n.isYear(n.currentDay,t))("gui-date-picker-selected-year",n.isYear(n.selectedDate,t)),y(1),ge(" ",t," ")}}function lW(i,e){if(i&1&&(C(0,"div",2),Q(1,cW,2,5,"div",3),x()),i&2){let t=e.$implicit;y(1),_("ngForOf",t)}}var uW=["gui-input",""];function dW(i,e){if(i&1){let t=Ne();C(0,"div",4)(1,"gui-arrow-icon",5),Y("click",function(){pe(t);let r=D();return fe(r.changeTimeItem("hours",r.steps))}),x(),R(2,"input",6),C(3,"gui-arrow-icon",5),Y("click",function(){pe(t);let r=D();return fe(r.changeTimeItem("hours",-r.steps))}),x()()}if(i&2){let t=D();y(1),_("direction",t.Direction.TOP),y(2),_("direction",t.Direction.BOTTOM)}}function hW(i,e){if(i&1){let t=Ne();C(0,"div",4)(1,"gui-arrow-icon",5),Y("click",function(){pe(t);let r=D();return fe(r.changeTimeItem("minutes",r.steps))}),x(),R(2,"input",7),C(3,"gui-arrow-icon",5),Y("click",function(){pe(t);let r=D();return fe(r.changeTimeItem("minutes",-r.steps))}),x()()}if(i&2){let t=D();y(1),_("direction",t.Direction.TOP),y(2),_("direction",t.Direction.BOTTOM)}}function pW(i,e){if(i&1){let t=Ne();C(0,"div",4)(1,"gui-arrow-icon",5),Y("click",function(){pe(t);let r=D();return fe(r.changeTimeItem("seconds",r.steps))}),x(),R(2,"input",8),C(3,"gui-arrow-icon",5),Y("click",function(){pe(t);let r=D();return fe(r.changeTimeItem("seconds",-r.steps))}),x()()}if(i&2){let t=D();y(1),_("direction",t.Direction.TOP),y(2),_("direction",t.Direction.BOTTOM)}}function fW(i,e){if(i&1&&R(0,"gui-date-picker-days-view",7),i&2){let t=D(2);_("activeMonth",t.activeMonth)("selectedDate",t.selectedDate)("weeks",t.weeks)}}function gW(i,e){if(i&1&&R(0,"gui-date-picker-months-view",8),i&2){let t=D(2);_("activeYear",t.activeYear)("selectedDate",t.selectedDate)}}function mW(i,e){if(i&1&&R(0,"gui-date-picker-years-view",9),i&2){let t=D(2);_("selectedDate",t.selectedDate)("years",t.years)}}function vW(i,e){if(i&1&&(ze(0),R(1,"gui-date-picker-view-panel",2),ze(2,3),Q(3,fW,1,3,"gui-date-picker-days-view",4)(4,gW,1,2,"gui-date-picker-months-view",5)(5,mW,1,2,"gui-date-picker-years-view",6),Ze()()),i&2){let t=D();y(1),_("activeMonth",t.activeMonth)("activeYear",t.activeYear)("fabricCalendarView",t.fabricCalendarView)("selectedDate",t.selectedDate)("years",t.years),y(1),_("ngSwitch",t.getCalendarView()),y(1),_("ngSwitchCase",t.FabricCalendarView.DAYS),y(1),_("ngSwitchCase",t.FabricCalendarView.MONTHS),y(1),_("ngSwitchCase",t.FabricCalendarView.YEARS)}}function bW(i,e){if(i&1&&R(0,"gui-time-picker",10),i&2){let t=D();_("datePickerComposition",t.datePickerComposition)("selectedDate",t.selectedDate)}}var nh=["container"];function yW(i,e){}var _W=["datePicker"];function CW(i,e){}var wW=["dropdownMenu"];function xW(i,e){if(i&1&&(C(0,"div"),R(1,"gui-arrow-icon",6),x()),i&2){let t=D();Me("gui-dropdown-arrow",t.isArrowEnabled),y(1),_("direction",t.arrowDirection)}}function IW(i,e){}var EW=["guiNotification"];function DW(i,e){if(i&1){let t=Ne();C(0,"gui-notification",1),Y("onNotificationClose",function(r){pe(t);let o=D();return fe(o.emitClosedNotification(r))}),x()}if(i&2){let t=e.$implicit;_("notification",t)}}function SW(i,e){if(i&1){let t=Ne();C(0,"gui-notifications-container",1),Y("onNotificationClose",function(r){pe(t);let o=D();return fe(o.removeNotification(r))}),x()}if(i&2){let t=D();_("notifications",t.notificationsTopRight)("position",t.FabricNotificationPosition.TOP_RIGHT)}}function TW(i,e){if(i&1){let t=Ne();C(0,"gui-notifications-container",1),Y("onNotificationClose",function(r){pe(t);let o=D();return fe(o.removeNotification(r))}),x()}if(i&2){let t=D();_("notifications",t.notificationsTopLeft)("position",t.FabricNotificationPosition.TOP_LEFT)}}function MW(i,e){if(i&1){let t=Ne();C(0,"gui-notifications-container",1),Y("onNotificationClose",function(r){pe(t);let o=D();return fe(o.removeNotification(r))}),x()}if(i&2){let t=D();_("notifications",t.notificationsBottomRight)("position",t.FabricNotificationPosition.BOTTOM_RIGHT)}}function kW(i,e){if(i&1){let t=Ne();C(0,"gui-notifications-container",1),Y("onNotificationClose",function(r){pe(t);let o=D();return fe(o.removeNotification(r))}),x()}if(i&2){let t=D();_("notifications",t.notificationsBottomLeft)("position",t.FabricNotificationPosition.BOTTOM_LEFT)}}var AW=["svgEl"],RW=["tab"],FW=["tabItem"],PW=["tabMenuList"];function OW(i,e){if(i&1){let t=Ne();C(0,"div",7),Y("click",function(){pe(t);let r=D();return fe(r.scrollTabList(!1))}),R(1,"gui-arrow-icon",8),x()}if(i&2){let t=D();y(1),_("direction",t.Direction.LEFT)}}function NW(i,e){if(i&1&&(C(0,"span"),j(1),x()),i&2){let t=D().$implicit;y(1),ht(t)}}function LW(i,e){if(i&1&&(ze(0),R(1,"gui-svg-template",12),Ze()),i&2){let t=D().$implicit;y(1),_("svg",t.svg)}}function jW(i,e){if(i&1){let t=Ne();C(0,"div",9,10),Y("click",function(){let o=pe(t).$implicit,a=D();return fe(a.toggleTab(o))}),Q(2,NW,2,1,"span",11)(3,LW,2,1,"ng-container",11),x()}if(i&2){let t=e.$implicit,n=D();ni("data-tab",n.getTabName(t)),y(2),_("ngIf",!n.isSvg(t)),y(1),_("ngIf",n.isSvg(t))}}function VW(i,e){if(i&1){let t=Ne();C(0,"div",7),Y("click",function(){pe(t);let r=D();return fe(r.scrollTabList(!0))}),R(1,"gui-arrow-icon"),x()}}var BW=["optionList"];function HW(i,e){if(i&1){let t=Ne();C(0,"div",3),Y("click",function(){let o=pe(t).$implicit,a=D();return fe(a.selectOption(o))}),j(1),x()}if(i&2){let t=e.$implicit,n=D();It("width",n.width,"px"),Me("gui-option-selected",n.isOptionSelected(t)),y(1),ge(" ",n.getOptionValue(t)," ")}}var st=function(i){return i.FABRIC="FABRIC",i.MATERIAL="MATERIAL",i.GENERIC="GENERIC",i.LIGHT="LIGHT",i.DARK="DARK",i}(st||{}),X2=(()=>{class i{elementRef;renderer;static PRIMARY_CLASS_NAME="gui-primary";static SECONDARY_CLASS_NAME="gui-secondary";static OUTLINE_CLASS_NAME="gui-outline";primary=!1;secondary=!1;outline=!1;constructor(t,n){this.elementRef=t,this.renderer=n}ngOnChanges(t){t.primary&&(this.primary?this.addClass(i.PRIMARY_CLASS_NAME):this.removeClass(i.PRIMARY_CLASS_NAME)),t.secondary&&(this.secondary?this.addClass(i.SECONDARY_CLASS_NAME):this.removeClass(i.SECONDARY_CLASS_NAME)),t.outline&&(this.outline?this.addClass(i.OUTLINE_CLASS_NAME):this.removeClass(i.OUTLINE_CLASS_NAME))}addClass(t){this.renderer.addClass(this.elementRef.nativeElement,t)}removeClass(t){this.renderer.removeClass(this.elementRef.nativeElement,t)}static \u0275fac=function(n){return new(n||i)(f(F),f(At))};static \u0275dir=ne({type:i,inputs:{primary:"primary",secondary:"secondary",outline:"outline"},features:[le]})}return i})();var El=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),Do=(()=>{class i extends X2{link=!1;text=!1;constructor(t,n){super(t,n)}ngOnChanges(t){super.ngOnChanges(t),t.link&&(this.link?this.addClass("gui-link"):this.removeClass("gui-link")),t.text&&(this.text?this.addClass("gui-text"):this.removeClass("gui-text"))}static \u0275fac=function(n){return new(n||i)(f(F),f(At))};static \u0275cmp=z({type:i,selectors:[["button","gui-button",""],["a","gui-button",""]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-button",!0)},inputs:{link:"link",text:"text"},features:[H,le],attrs:tW,ngContentSelectors:Eo,decls:1,vars:0,template:function(n,r){n&1&&(Wi(),Gi(0))},styles:[`.gui-button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-align:start;align-items:flex-start;background:#e6e6e6;border-radius:4px;border-style:none;box-sizing:border-box;color:#595959;cursor:pointer;display:inline-block;font-family:Arial;font-size:13.3333px;letter-spacing:normal;outline:none;padding:10px 20px;text-align:center;text-indent:0;text-rendering:auto;text-shadow:none;text-transform:none;transition:background .2s;word-spacing:normal;-ms-writing-mode:lr-tb!important;writing-mode:horizontal-tb!important}.gui-button.gui-outline:focus{box-shadow:0 0 0 2px #d6d6d6}.gui-button.gui-outline.gui-primary:focus{box-shadow:0 0 0 2px #439de1}.gui-button.gui-outline.gui-secondary:focus{box-shadow:0 0 0 2px #5ac88b}.gui-button.gui-primary{background:#2185d0;color:#fff}.gui-button.gui-primary.gui-outline{color:#2185d0}.gui-button.gui-primary:hover:not(.gui-chip,.gui-badge){background:#1e77ba}.gui-button.gui-primary:active{background:#1a69a4;color:#fff}.gui-button.gui-primary:disabled{background:#6fb4e8;color:#439de1}.gui-button.gui-primary.gui-badge{background:#439de1}.gui-button.gui-secondary{background:#3cb371;color:#fff}.gui-button.gui-secondary.gui-outline{color:#3cb371}.gui-button.gui-secondary.gui-button:hover{background:#36a065}.gui-button.gui-secondary.gui-button:active{background:#32945e;color:#fff}.gui-button.gui-secondary.gui-button:disabled{background:#80d5a6;color:#5ac88b}.gui-button.gui-secondary.gui-badge{background:#5ac88b}.gui-button.gui-link{background:transparent;border:0;color:#2185d0}.gui-button.gui-link:hover{background:none;color:#1e77ba;text-decoration:underline}.gui-button.gui-link:focus{text-decoration:underline}.gui-button.gui-outline{background:transparent;color:#999;border-color:#d6d6d6;border-style:solid;border-width:1px}.gui-button.gui-outline.gui-button:hover{background:#cccccc;color:#fff}.gui-button.gui-outline.gui-button:disabled{border-color:#ccc;color:#ccc}.gui-button.gui-outline.gui-badge{background:#fff}.gui-button.gui-outline.gui-primary{border-color:#439de1}.gui-button.gui-outline.gui-primary.gui-button:hover{background:#2185d0;border-color:#2185d0}.gui-button.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#6fb4e8;color:#6fb4e8}.gui-button.gui-outline.gui-primary.gui-badge{background:#fff;border-color:#439de1;color:#439de1}.gui-button.gui-outline.gui-secondary{border-color:#5ac88b}.gui-button.gui-outline.gui-secondary.gui-button:hover{background:#3cb371;border-color:#3cb371}.gui-button.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#80d5a6;color:#80d5a6}.gui-button.gui-outline.gui-secondary.gui-badge{background:#fff;border-color:#5ac88b;color:#5ac88b}.gui-button.gui-text{background:transparent;border:0}.gui-button.gui-text:hover{background:#e6e6e6}.gui-button.gui-text:focus{background:#e6e6e6}.gui-button.gui-text.gui-primary{color:#2185d0}.gui-button.gui-text.gui-primary:hover{background:#2185d0;color:#fff}.gui-button.gui-text.gui-primary:focus{background:#2185d0;color:#fff}.gui-button.gui-text.gui-secondary{color:#3cb371}.gui-button.gui-text.gui-secondary:hover{background:#3cb371;color:#fff}.gui-button.gui-text.gui-secondary:focus{background:#3cb371;color:#fff}.gui-button.gui-text.gui-button:disabled{background:transparent}.gui-button.gui-text.gui-button:disabled .gui-text-disabled{display:inline-block}.gui-button:hover{background:#cccccc;color:#333}.gui-button:active{background:#999;color:#333}.gui-button:disabled{color:#ccc;cursor:default;pointer-events:none}
`,`.gui-dark .gui-button{background:#424242;color:#bdbdbd}.gui-dark .gui-button.gui-outline:focus{box-shadow:0 0 0 2px #616161}.gui-dark .gui-button.gui-outline.gui-primary:focus{box-shadow:0 0 0 2px #ce93d8}.gui-dark .gui-button.gui-outline.gui-secondary:focus{box-shadow:0 0 0 2px #80cbc4}.gui-dark .gui-button.gui-primary{background:#ce93d8;color:#212121}.gui-dark .gui-button.gui-primary.gui-outline{color:#ce93d8}.gui-dark .gui-button.gui-primary.gui-button:hover{background:#c680d1}.gui-dark .gui-button.gui-primary.gui-button:active{background:#b55bc4;color:#212121}.gui-dark .gui-button.gui-primary.gui-button:disabled{background:#ce93d8;color:#212121;opacity:.5}.gui-dark .gui-button.gui-primary.gui-badge{background:#dfb8e6}.gui-dark .gui-button.gui-secondary{background:#80cbc4;color:#212121}.gui-dark .gui-button.gui-secondary.gui-outline{color:#80cbc4}.gui-dark .gui-button.gui-secondary.gui-button:hover{background:#6ec4bc}.gui-dark .gui-button.gui-secondary.gui-button:active{background:#26a69a;color:#212121}.gui-dark .gui-button.gui-secondary.gui-button:disabled{background:#80cbc4;color:#212121;opacity:.5}.gui-dark .gui-button.gui-secondary.gui-badge{background:#a4dad5}.gui-dark .gui-button.gui-link{background:transparent;border:0;color:#2185d0}.gui-dark .gui-button.gui-link:hover{background:none;color:#1e77ba;text-decoration:underline}.gui-dark .gui-button.gui-link:focus{text-decoration:underline}.gui-dark .gui-button.gui-outline{background:transparent;color:#bdbdbd;border-color:#616161;border-style:solid;border-width:1px}.gui-dark .gui-button.gui-outline.gui-button:hover{background:#616161;color:#bdbdbd}.gui-dark .gui-button.gui-outline.gui-badge{background:#121212}.gui-dark .gui-button.gui-outline.gui-primary{border-color:#ce93d8}.gui-dark .gui-button.gui-outline.gui-primary.gui-button:hover{background:#ce93d8;border-color:#ce93d8;color:#212121}.gui-dark .gui-button.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#f0def3;color:#f0def3}.gui-dark .gui-button.gui-outline.gui-primary.gui-badge{background:#121212;border-color:#ce93d8;color:#dfb8e6}.gui-dark .gui-button.gui-outline.gui-secondary{border-color:#80cbc4}.gui-dark .gui-button.gui-outline.gui-secondary.gui-button:hover{background:#80cbc4;border-color:#80cbc4;color:#212121}.gui-dark .gui-button.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#b2ebf2;color:#b2ebf2}.gui-dark .gui-button.gui-outline.gui-secondary.gui-badge{background:#121212;border-color:#80cbc4;color:#80cbc4}.gui-dark .gui-button:hover{background:#616161}.gui-dark .gui-button:active{background:#212121}.gui-dark .gui-button:disabled{opacity:.36}
`,`.gui-light .gui-button{background:#f6f5f4;border-color:#d8d7d6;color:#333;font-family:Roboto,Helvetica Neue,sans-serif}.gui-light .gui-button.gui-link{background:transparent;border:0;color:#2185d0}.gui-light .gui-button.gui-link:hover{background:none;color:#1e77ba;text-decoration:underline}.gui-light .gui-button.gui-link:focus{text-decoration:underline}.gui-light .gui-button:hover{background:#ecebeb}.gui-light .gui-button:active{background:#f6f5f4}.gui-light .gui-button:disabled{opacity:.5}
`,`.gui-material .gui-button{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500;padding:10px 16px}.gui-material .gui-button.gui-outline:focus{box-shadow:0 0 0 1px #5262c5}.gui-material .gui-button.gui-outline.gui-primary:focus{box-shadow:0 0 0 1px #6200ee}.gui-material .gui-button.gui-outline.gui-secondary:focus{box-shadow:0 0 0 1px #0097a7}.gui-material .gui-button.gui-primary{background:#6200ee;color:#fff}.gui-material .gui-button.gui-primary.gui-outline{color:#6200ee}.gui-material .gui-button.gui-primary.gui-button:hover{background:#974dff}.gui-material .gui-button.gui-primary.gui-button:active{background:#791aff;color:#fff}.gui-material .gui-button.gui-primary.gui-button:disabled{background:#d1c4e9;color:#7d22ff}.gui-material .gui-button.gui-primary.gui-badge{background:#6200ee}.gui-material .gui-button.gui-secondary{background:#0097a7;color:#fff}.gui-material .gui-button.gui-secondary.gui-outline{color:#0097a7}.gui-material .gui-button.gui-secondary.gui-button:hover{background:#00a1b3}.gui-material .gui-button.gui-secondary.gui-button:active{background:#00808e;color:#fff}.gui-material .gui-button.gui-secondary.gui-button:disabled{background:#b2ebf2;color:#00c5da}.gui-material .gui-button.gui-secondary.gui-badge{background:#0097a7}.gui-material .gui-button.gui-link{background:transparent;border:0;color:#3949ab}.gui-material .gui-button.gui-link:hover{color:#4051bf}.gui-material .gui-button.gui-outline{background:transparent;color:#3949ab;border-color:#5262c5}.gui-material .gui-button.gui-outline.gui-button:hover{background:#e8eaf6;color:#3949ab}.gui-material .gui-button.gui-outline.gui-button:active{background:#c5cae9}.gui-material .gui-button.gui-outline.gui-button:disabled{border-color:#c5cae9;color:#c5cae9}.gui-material .gui-button.gui-outline.gui-badge{background:#fff}.gui-material .gui-button.gui-outline.gui-primary{border-color:#6200ee}.gui-material .gui-button.gui-outline.gui-primary.gui-button:hover{background:#ede7f6;border-color:#6200ee;color:#6200ee}.gui-material .gui-button.gui-outline.gui-primary.gui-button:active{background:#d1c4e9}.gui-material .gui-button.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#d1c4e9;color:#d1c4e9}.gui-material .gui-button.gui-outline.gui-primary.gui-badge{background:#fff;border-color:#6200ee;color:#7d22ff}.gui-material .gui-button.gui-outline.gui-secondary{border-color:#0097a7}.gui-material .gui-button.gui-outline.gui-secondary.gui-button:hover{background:#e0f7fa;border-color:#0097a7;color:#0097a7}.gui-material .gui-button.gui-outline.gui-secondary.gui-button:active{background:#b2ebf2}.gui-material .gui-button.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#b2ebf2;color:#b2ebf2}.gui-material .gui-button.gui-outline.gui-secondary.gui-badge{background:#fff;border-color:#0097a7;color:#0097a7}.gui-material .gui-button:hover{background:#5262c5}.gui-material .gui-button:active{background:#4051bf}.gui-material .gui-button:disabled{background:#c5cae9;color:#7885d2}
`],encapsulation:2,changeDetection:0})}return i})(),Wn=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),J2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-button-group"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-button-group",!0)},ngContentSelectors:Eo,decls:1,vars:0,template:function(n,r){n&1&&(Wi(),Gi(0))},styles:[`.gui-button-group{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-button-group .gui-button{border-radius:0}.gui-button-group .gui-button:not(:last-child){border-right:none;margin:0}.gui-button-group .gui-button:last-child{border-radius:0 4px 4px 0}.gui-button-group .gui-button:first-child{border-radius:4px 0 0 4px}.gui-button-group .gui-button-toggle .gui-button{border-radius:0}.gui-button-group .gui-button-toggle:not(:last-child) .gui-button{border-right:none;margin:0}.gui-button-group .gui-button-toggle:last-child .gui-button{border-radius:0 4px 4px 0}.gui-button-group .gui-button-toggle:first-child .gui-button{border-radius:4px 0 0 4px}
`],encapsulation:2,changeDetection:0})}return i})(),Dl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})();var $2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),ps=(()=>{class i{elementRef;renderer;inputRef;name="";inputChecked=!1;disabled=!1;readonly=!1;indeterminate=!1;changed=new J;checked=!1;constructor(t,n){this.elementRef=t,this.renderer=n}ngOnChanges(t){this.checked=this.inputChecked,t.disabled&&(this.disabled?this.renderer.addClass(this.elementRef.nativeElement,"gui-disabled"):this.renderer.removeClass(this.elementRef.nativeElement,"gui-disabled")),t.readonly&&(this.readonly?this.renderer.addClass(this.elementRef.nativeElement,"gui-readonly"):this.renderer.removeClass(this.elementRef.nativeElement,"gui-readonly")),t.indeterminate&&this.inputRef&&(this.indeterminate?this.inputRef.nativeElement.indeterminate=!0:(this.inputRef.nativeElement.indeterminate=!1,this.inputRef.nativeElement.checked=this.checked))}ngAfterViewInit(){this.inputRef&&(this.inputRef.nativeElement.indeterminate=this.indeterminate)}check(t){t.stopPropagation(),this.checked=!this.checked,this.changed.emit(this.checked)}static \u0275fac=function(n){return new(n||i)(f(F),f(At))};static \u0275cmp=z({type:i,selectors:[["gui-checkbox"]],viewQuery:function(n,r){if(n&1&&ke(iW,5,F),n&2){let o;xe(o=Ie())&&(r.inputRef=o.first)}},hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-checkbox",!0)},inputs:{name:"name",inputChecked:["checked","inputChecked"],disabled:"disabled",readonly:"readonly",indeterminate:"indeterminate"},outputs:{changed:"changed"},features:[le],ngContentSelectors:Eo,decls:5,vars:3,consts:[["type","checkbox",3,"checked","disabled","click"],["input",""],[1,"gui-checkmark"]],template:function(n,r){n&1&&(Wi(),C(0,"label")(1,"input",0,1),Y("click",function(a){return r.check(a)}),x(),R(3,"span",2),Gi(4),x()),n&2&&(y(1),_("checked",r.checked)("disabled",r.disabled),ni("name",r.name))},styles:[`.gui-checkbox{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:24px;padding-left:32px;position:relative}.gui-checkbox label{cursor:pointer}.gui-checkbox label:hover .gui-checkmark{border-color:#999}.gui-checkbox input{height:0;opacity:0;position:absolute;width:0}.gui-checkbox .gui-checkmark{border-color:#575757;border-radius:4px;border-style:solid;border-width:2px;box-sizing:content-box;height:20px;left:0;position:absolute;width:20px}.gui-checkbox input:checked+.gui-checkmark{border-color:#575757}.gui-checkbox.gui-disabled.gui-checkbox{color:#ccc;pointer-events:none}.gui-checkbox.gui-readonly.gui-checkbox{pointer-events:none}.gui-checkbox .gui-checkmark:after{content:" ";display:none;left:6px;position:absolute;-ms-transform:rotate(45deg);transform:rotate(45deg)}.gui-checkbox input:checked+.gui-checkmark:after{box-sizing:content-box;display:block}.gui-checkbox .gui-checkmark:after{border-color:#575757;border-style:solid;border-width:0 3.2px 3.2px 0;height:12px;width:5.2px}.gui-checkbox input:indeterminate+.gui-checkmark:after{display:block;height:10px;left:9px;top:4px;-ms-transform:rotate(90deg);transform:rotate(90deg);width:0}
`,`.gui-material .gui-checkbox{font-family:Roboto,Helvetica Neue,sans-serif}.gui-material .gui-checkbox input:focus+.gui-checkmark{border-color:#3949ab}.gui-material .gui-checkbox label:hover .gui-checkmark{border-color:#575757}.gui-material .gui-checkbox .gui-checkmark{border-color:#999}.gui-material .gui-checkbox input:checked+.gui-checkmark{background:#3949ab;border-color:#3949ab}.gui-material .gui-checkbox .gui-checkmark:after{border-color:#fff}.gui-material .gui-checkbox.gui-indeterminate .gui-checkmark{background:#3949ab;border-color:#3949ab}
`,`.gui-dark .gui-checkbox{color:#bdbdbd}.gui-dark .gui-checkbox .gui-checkmark{border-color:#878787}.gui-dark .gui-checkbox input:checked+.gui-checkmark{border-color:#878787}.gui-dark .gui-checkbox .gui-checkmark:after{border-color:#878787}.gui-dark .gui-checkbox.gui-disabled.gui-checkbox{opacity:.36}
`],encapsulation:2,changeDetection:0})}return i})(),xo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),LI=(()=>{class i extends X2{constructor(t,n){super(t,n)}static \u0275fac=function(n){return new(n||i)(f(F),f(At))};static \u0275cmp=z({type:i,selectors:[["gui-chip"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-chip",!0)},features:[H],ngContentSelectors:Eo,decls:1,vars:0,template:function(n,r){n&1&&(Wi(),Gi(0))},styles:[`.gui-chip{background:#e6e6e6;border-radius:4px;box-sizing:border-box;color:#595959;display:inline-block;font-family:Arial;font-size:14px;font-weight:700;margin:0 2px;padding:9.6px 12px}.gui-chip.gui-primary{background:#2185d0;color:#fff}.gui-chip.gui-primary.gui-outline{color:#2185d0}.gui-chip.gui-primary:hover:not(.gui-chip,.gui-badge){background:#1e77ba}.gui-chip.gui-primary:active{background:#1a69a4;color:#fff}.gui-chip.gui-primary:disabled{background:#6fb4e8;color:#439de1}.gui-chip.gui-primary.gui-badge{background:#439de1}.gui-chip.gui-secondary{background:#3cb371;color:#fff}.gui-chip.gui-secondary.gui-outline{color:#3cb371}.gui-chip.gui-secondary.gui-button:hover{background:#36a065}.gui-chip.gui-secondary.gui-button:active{background:#32945e;color:#fff}.gui-chip.gui-secondary.gui-button:disabled{background:#80d5a6;color:#5ac88b}.gui-chip.gui-secondary.gui-badge{background:#5ac88b}.gui-chip.gui-outline{background:transparent;color:#999;border-color:#d6d6d6;border-style:solid;border-width:1px}.gui-chip.gui-outline.gui-button:hover{background:#cccccc;color:#fff}.gui-chip.gui-outline.gui-button:disabled{border-color:#ccc;color:#ccc}.gui-chip.gui-outline.gui-badge{background:#fff}.gui-chip.gui-outline.gui-primary{border-color:#439de1}.gui-chip.gui-outline.gui-primary.gui-button:hover{background:#2185d0;border-color:#2185d0}.gui-chip.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#6fb4e8;color:#6fb4e8}.gui-chip.gui-outline.gui-primary.gui-badge{background:#fff;border-color:#439de1;color:#439de1}.gui-chip.gui-outline.gui-secondary{border-color:#5ac88b}.gui-chip.gui-outline.gui-secondary.gui-button:hover{background:#3cb371;border-color:#3cb371}.gui-chip.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#80d5a6;color:#80d5a6}.gui-chip.gui-outline.gui-secondary.gui-badge{background:#fff;border-color:#5ac88b;color:#5ac88b}
`,`.gui-material .gui-chip{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500;padding:10px 16px}.gui-material .gui-chip.gui-primary{background:#6200ee;color:#fff}.gui-material .gui-chip.gui-primary.gui-outline{color:#6200ee}.gui-material .gui-chip.gui-primary.gui-button:hover{background:#974dff}.gui-material .gui-chip.gui-primary.gui-button:active{background:#791aff;color:#fff}.gui-material .gui-chip.gui-primary.gui-button:disabled{background:#d1c4e9;color:#7d22ff}.gui-material .gui-chip.gui-primary.gui-badge{background:#6200ee}.gui-material .gui-chip.gui-secondary{background:#0097a7;color:#fff}.gui-material .gui-chip.gui-secondary.gui-outline{color:#0097a7}.gui-material .gui-chip.gui-secondary.gui-button:hover{background:#00a1b3}.gui-material .gui-chip.gui-secondary.gui-button:active{background:#00808e;color:#fff}.gui-material .gui-chip.gui-secondary.gui-button:disabled{background:#b2ebf2;color:#00c5da}.gui-material .gui-chip.gui-secondary.gui-badge{background:#0097a7}.gui-material .gui-chip.gui-outline{background:transparent;color:#3949ab;border-color:#5262c5}.gui-material .gui-chip.gui-outline.gui-button:hover{background:#e8eaf6;color:#3949ab}.gui-material .gui-chip.gui-outline.gui-button:active{background:#c5cae9}.gui-material .gui-chip.gui-outline.gui-button:disabled{border-color:#c5cae9;color:#c5cae9}.gui-material .gui-chip.gui-outline.gui-badge{background:#fff}.gui-material .gui-chip.gui-outline.gui-primary{border-color:#6200ee}.gui-material .gui-chip.gui-outline.gui-primary.gui-button:hover{background:#ede7f6;border-color:#6200ee;color:#6200ee}.gui-material .gui-chip.gui-outline.gui-primary.gui-button:active{background:#d1c4e9}.gui-material .gui-chip.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#d1c4e9;color:#d1c4e9}.gui-material .gui-chip.gui-outline.gui-primary.gui-badge{background:#fff;border-color:#6200ee;color:#7d22ff}.gui-material .gui-chip.gui-outline.gui-secondary{border-color:#0097a7}.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:hover{background:#e0f7fa;border-color:#0097a7;color:#0097a7}.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:active{background:#b2ebf2}.gui-material .gui-chip.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#b2ebf2;color:#b2ebf2}.gui-material .gui-chip.gui-outline.gui-secondary.gui-badge{background:#fff;border-color:#0097a7;color:#0097a7}
`,`.gui-dark .gui-chip{background:#333;color:#bdbdbd}.gui-dark .gui-chip.gui-primary{background:#ce93d8;color:#212121}.gui-dark .gui-chip.gui-primary.gui-outline{color:#ce93d8}.gui-dark .gui-chip.gui-primary.gui-button:hover{background:#c680d1}.gui-dark .gui-chip.gui-primary.gui-button:active{background:#b55bc4;color:#212121}.gui-dark .gui-chip.gui-primary.gui-button:disabled{background:#ce93d8;color:#212121;opacity:.5}.gui-dark .gui-chip.gui-primary.gui-badge{background:#dfb8e6}.gui-dark .gui-chip.gui-secondary{background:#80cbc4;color:#212121}.gui-dark .gui-chip.gui-secondary.gui-outline{color:#80cbc4}.gui-dark .gui-chip.gui-secondary.gui-button:hover{background:#6ec4bc}.gui-dark .gui-chip.gui-secondary.gui-button:active{background:#26a69a;color:#212121}.gui-dark .gui-chip.gui-secondary.gui-button:disabled{background:#80cbc4;color:#212121;opacity:.5}.gui-dark .gui-chip.gui-secondary.gui-badge{background:#a4dad5}.gui-dark .gui-chip.gui-outline{background:transparent;color:#bdbdbd;border-color:#616161;border-style:solid;border-width:1px}.gui-dark .gui-chip.gui-outline.gui-button:hover{background:#616161;color:#bdbdbd}.gui-dark .gui-chip.gui-outline.gui-badge{background:#121212}.gui-dark .gui-chip.gui-outline.gui-primary{border-color:#ce93d8}.gui-dark .gui-chip.gui-outline.gui-primary.gui-button:hover{background:#ce93d8;border-color:#ce93d8;color:#212121}.gui-dark .gui-chip.gui-outline.gui-primary.gui-button:disabled{background:transparent;border-color:#f0def3;color:#f0def3}.gui-dark .gui-chip.gui-outline.gui-primary.gui-badge{background:#121212;border-color:#ce93d8;color:#dfb8e6}.gui-dark .gui-chip.gui-outline.gui-secondary{border-color:#80cbc4}.gui-dark .gui-chip.gui-outline.gui-secondary.gui-button:hover{background:#80cbc4;border-color:#80cbc4;color:#212121}.gui-dark .gui-chip.gui-outline.gui-secondary.gui-button:disabled{background:transparent;border-color:#b2ebf2;color:#b2ebf2}.gui-dark .gui-chip.gui-outline.gui-secondary.gui-badge{background:#121212;border-color:#80cbc4;color:#80cbc4}
`,`.gui-light .gui-chip{background:#f6f5f4;border-color:#333;border-style:solid;border-width:1px;color:#333}
`],encapsulation:2,changeDetection:0})}return i})(),ds=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),So=(()=>{class i{unsubscribe$=new ut;constructor(){}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.unsubscribe$.isStopped||(this.unsubscribe$.next(),this.unsubscribe$.complete())}static \u0275fac=function(n){return new(n||i)};static \u0275dir=ne({type:i})}return i})(),xi=function(i){return i[i.DAYS=0]="DAYS",i[i.MONTHS=1]="MONTHS",i[i.YEARS=2]="YEARS",i}(xi||{}),Ii=function(i){return i[i.NONE=0]="NONE",i[i.DATE_PICKER=1]="DATE_PICKER",i[i.TIME_PICKER=2]="TIME_PICKER",i[i.TIME_PICKER_HOURS=4]="TIME_PICKER_HOURS",i[i.TIME_PICKER_MINUTES=8]="TIME_PICKER_MINUTES",i[i.TIME_PICKER_SECONDS=16]="TIME_PICKER_SECONDS",i[i.TIME_PICKER_MERIDIAN=32]="TIME_PICKER_MERIDIAN",i[i.ALL=63]="ALL",i}(Ii||{}),jI=new Date().getMonth(),VI=new Date().getFullYear(),rh=(()=>{class i{selectedDate=new Date;selectedTime;selectedDate$=new zt(this.selectedDate);observeSelectedDate(){return this.selectedDate$.asObservable()}dateSelected(t){this.selectedDate=new Date(t.getTime()),this.setSelectedDateTime(),this.selectedDate$.next(this.selectedDate)}changeTime(t,n){this.selectedTime=t,this.selectedDate||(this.selectedDate=n),this.setSelectedDateTime()}next(){this.dateSelected(this.selectedDate)}setSelectedDateTime(){this.selectedTime&&(this.selectedDate.setHours(this.selectedTime.hours),this.selectedDate.setMinutes(this.selectedTime.minutes),this.selectedDate.setSeconds(this.selectedTime.seconds))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),BI=(()=>{class i{datePickerFormat$=new zt(Ii.DATE_PICKER);onComposition(){return this.datePickerFormat$.asObservable()}next(t){this.datePickerFormat$.next(this.getComposition(t))}getComposition(t){let n=t.split(":").join(" "),r=n.split("/").join(" "),o=r.split(".").join(" "),a=o.split(",").join(" "),l=a.split(" "),d=Ii.NONE;return l.forEach(p=>{let m=p.toLowerCase().includes("d"),b=p.includes("M"),w=p.toLowerCase().includes("y"),E=p.toLowerCase().includes("h"),T=p.includes("m"),V=p.toLowerCase().includes("s"),A=p.includes("h"),$=m||b||w,ce=E||T||V;$&&(d=d|Ii.DATE_PICKER),ce&&(d=d|Ii.TIME_PICKER),A&&(d=d|Ii.TIME_PICKER_MERIDIAN),E&&(d=d|Ii.TIME_PICKER_HOURS),T&&(d=d|Ii.TIME_PICKER_MINUTES),V&&(d=d|Ii.TIME_PICKER_SECONDS)}),d}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),eN=(()=>{class i{weeks=[];getDaysInMonths(t,n){this.resetWeeks();let r=new Date(t,n+1,0).getDate();for(let o=1;o<=r;o++)this.createWeeks(new Date(t,n,o));return this.weeks}createWeeks(t){let n=t.getDate(),r=6;for(let o=0;o<r;o++)n===1?this.addDaysToWeek(o,t):this.canAddDaysToWeek(o,n)&&this.addDaysToWeek(o,this.getLastDayDate(this.weeks[o-1]));this.weeks=[this.weeks[0],this.weeks[1],this.weeks[2],this.weeks[3],this.weeks[4],this.weeks[5]]}addDaysToWeek(t,n){let r=this.weeks[t];for(let o=1;o<=7;o++){let a=n.getDay()===0&&this.weeks[0].length===0,l;a?l=n.getDate()-6:l=n.getDate()-n.getDay()+o;let d=new Date(n.setDate(l));r.length<7&&r.push(d)}}getLastDayNumber(t){return t.length===7?t[t.length-1].getDate():0}getLastDayDate(t){let n=t[t.length-1].getDate();return new Date(t[t.length-1].setDate(n))}canAddDaysToWeek(t,n){return this.weeks[t].length===0&&this.weeks[t-1].length===7&&n>this.getLastDayNumber(this.weeks[t-1])}resetWeeks(){this.weeks=[],this.weeks[0]=[],this.weeks[1]=[],this.weeks[2]=[],this.weeks[3]=[],this.weeks[4]=[],this.weeks[5]=[]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),HI=(()=>{class i{rowsForDisplay=[];minYear=0;maxYear=0;selectedYear=0;inc=10;getYears(t){this.minYear=t-50,this.maxYear=t+50;let n=this.maxYear-this.minYear,r=[],o=[];return r=this.createYearsPool(this.minYear,n,r),o=this.divideYearsPool(r,o),this.rowsForDisplay=this.createRowsForDisplay(o,t)}prevYearRange(t){return this.selectedYear||(this.selectedYear=t),this.selectedYear>this.minYear&&(this.selectedYear-=this.inc),this.selectedYear>this.minYear?this.getYears(this.selectedYear):this.rowsForDisplay}nextYearRange(t){return this.selectedYear||(this.selectedYear=t),this.selectedYear<this.maxYear&&(this.selectedYear+=this.inc),this.selectedYear<this.maxYear?this.getYears(this.selectedYear):this.rowsForDisplay}createYearsPool(t,n,r){for(let o=0;o<=n;o++)r.push(t+o);return r}divideYearsPool(t,n){for(let r=0;r<t.length;r+=5)n.push(t.slice(r,r+5));return n}createRowsForDisplay(t,n){if(n>=this.minYear||n<=this.maxYear){for(let r=0;r<t.length;r++)if(t[r].indexOf(n)>-1)return t[r-1]?t[r-2]?t[r+1]?t[r+2]?this.rowsForDisplay=[t[r-2],t[r-1],t[r],t[r+1],t[r+2]]:[t[r-3],t[r-2],t[r-1],t[r],t[r+1]]:[t[r-4],t[r-3],t[r-2],t[r-1],t[r]]:[t[r-1],t[r],t[r+1],t[r+2],t[r+3]]:[t[r],t[r+1],t[r+2],t[r+3],t[r+4]]}return[[]]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),zI=(()=>{class i{years$=new ut;onYears(){return this.years$.asObservable()}next(t){this.years$.next(t)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),oh=(()=>{class i{activeMonth$=new ut;activeYear$=new ut;onActiveMonth(){return this.activeMonth$.asObservable()}onActiveYear(){return this.activeYear$.asObservable()}nextMonth(t,n){n===11?(this.activeYear$.next(t+1),this.selectMonth(0)):this.selectMonth(n+1)}prevMonth(t,n){n===0?(this.activeYear$.next(t-1),this.selectMonth(11)):this.selectMonth(n-1)}selectYear(t){this.activeYear$.next(t)}selectMonth(t){this.activeMonth$.next(t)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),sh=(()=>{class i{activeView$=new ut;onActiveView(){return this.activeView$.asObservable()}switchView(t){this.activeView$.next(t)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),zW=["Mo","Tu","We","Th","Fr","Sa","Su"],ih=class{static areDatesSame(e,t){return e&&t&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}static isMonth(e,t,n){return e.getMonth()===t&&e.getFullYear()===n}},$W=(()=>{class i{datePickerService;selectedDate;activeMonth=jI;weeks=[];daysOfTheWeek=zW;currentDay=new Date;constructor(t){this.datePickerService=t}selectDate(t){this.datePickerService.dateSelected(t)}isDate(t,n){return ih.areDatesSame(t,n)}displayMonthDays(t){return t===this.activeMonth}static \u0275fac=function(n){return new(n||i)(f(rh))};static \u0275cmp=z({type:i,selectors:[["gui-date-picker-days-view"]],inputs:{selectedDate:"selectedDate",activeMonth:"activeMonth",weeks:"weeks"},decls:4,vars:2,consts:[[1,"gui-display-grid","gui-grid-rows-gap-8","gui-py-6"],[1,"gui-display-grid","gui-grid-cols-7","gui-py-4","gui-date-picker-header"],[4,"ngFor","ngForOf"],["class","gui-display-grid gui-grid-cols-7",4,"ngFor","ngForOf"],[1,"gui-display-grid","gui-grid-cols-7"],["class","gui-date-picker-cell gui-date-picker-day",3,"gui-date-picker-current-day","gui-date-picker-selected-day","gui-date-picker-selected-month","click",4,"ngFor","ngForOf"],[1,"gui-date-picker-cell","gui-date-picker-day",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),Q(2,nW,2,1,"div",2),x(),Q(3,oW,2,1,"div",3),x()),n&2&&(y(2),_("ngForOf",r.daysOfTheWeek),y(1),_("ngForOf",r.weeks))},dependencies:[di],encapsulation:2,changeDetection:0})}return i})(),UW=[[{nr:0,name:"Jan"},{nr:1,name:"Feb"},{nr:2,name:"Mar"}],[{nr:3,name:"Apr"},{nr:4,name:"May"},{nr:5,name:"Jun"}],[{nr:6,name:"Jul"},{nr:7,name:"Aug"},{nr:8,name:"Sep"}],[{nr:9,name:"Oct"},{nr:10,name:"Nov"},{nr:11,name:"Dec"}]],WW=(()=>{class i{calendarService;calendarViewService;selectedDate;activeYear=VI;currentDay=new Date;monthsPerQuarters=UW;constructor(t,n){this.calendarService=t,this.calendarViewService=n}isMonth(t,n){return ih.isMonth(t,n,this.activeYear)}selectMonth(t){this.calendarService.selectMonth(t),this.calendarViewService.switchView(xi.DAYS)}static \u0275fac=function(n){return new(n||i)(f(oh),f(sh))};static \u0275cmp=z({type:i,selectors:[["gui-date-picker-months-view"]],inputs:{selectedDate:"selectedDate",activeYear:"activeYear"},decls:2,vars:1,consts:[[1,"gui-display-grid","gui-grid-rows-gap-8","gui-py-6","gui-date-picker-view-border-top"],["class","gui-display-grid gui-grid-cols-3",4,"ngFor","ngForOf"],[1,"gui-display-grid","gui-grid-cols-3"],["class","gui-date-picker-cell gui-date-picker-month",3,"gui-date-picker-current-month","gui-date-picker-selected-month","click",4,"ngFor","ngForOf"],[1,"gui-date-picker-cell","gui-date-picker-month",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0),Q(1,aW,2,1,"div",1),x()),n&2&&(y(1),_("ngForOf",r.monthsPerQuarters))},dependencies:[di],encapsulation:2,changeDetection:0})}return i})(),GW=(()=>{class i{calendarService;calendarViewService;selectedDate;years=[];currentDay=new Date;constructor(t,n){this.calendarService=t,this.calendarViewService=n}selectYear(t){this.calendarService.selectYear(t),this.calendarViewService.switchView(xi.MONTHS)}isYear(t,n){return t?t.getFullYear()===n:!1}static \u0275fac=function(n){return new(n||i)(f(oh),f(sh))};static \u0275cmp=z({type:i,selectors:[["gui-date-picker-years-view"]],inputs:{selectedDate:"selectedDate",years:"years"},decls:2,vars:1,consts:[[1,"gui-display-grid","gui-grid-rows-gap-8","gui-py-6","gui-date-picker-view-border-top"],["class","gui-display-grid gui-grid-cols-5",4,"ngFor","ngForOf"],[1,"gui-display-grid","gui-grid-cols-5"],["class","gui-date-picker-cell gui-date-picker-year",3,"gui-date-picker-current-year","gui-date-picker-selected-year","click",4,"ngFor","ngForOf"],[1,"gui-date-picker-cell","gui-date-picker-year",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0),Q(1,lW,2,1,"div",1),x()),n&2&&(y(1),_("ngForOf",r.years))},dependencies:[di],encapsulation:2,changeDetection:0})}return i})(),MI=function(i){return i[i.NEXT=0]="NEXT",i[i.PREV=1]="PREV",i}(MI||{}),wo=function(i){return i[i.TOP=-90]="TOP",i[i.BOTTOM=90]="BOTTOM",i[i.LEFT=180]="LEFT",i[i.RIGHT=0]="RIGHT",i}(wo||{}),U2=["January","February","March","April","May","June","July","August","September","October","November","December"],iv=(()=>{class i{direction=wo.RIGHT;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-arrow-icon"]],hostVars:4,hostBindings:function(n,r){n&2&&Me("gui-arrow-icon",!0)("gui-icon",!0)},inputs:{direction:"direction"},decls:2,vars:2,consts:[["height","10.661","viewBox","0 0 6.081 10.661","width","6.081","xmlns","http://www.w3.org/2000/svg"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(0.311 0.311)"]],template:function(n,r){n&1&&(Ui(),C(0,"svg",0),R(1,"path",1),x()),n&2&&It("transform","rotate("+r.direction+"deg)")},styles:[`.gui-arrow-icon{cursor:pointer}.gui-arrow-icon svg path{stroke:#aaa;transition:stroke .2s ease-in-out}.gui-arrow-icon:hover svg path{stroke:#464646}
`],encapsulation:2,changeDetection:0})}return i})(),qW=(()=>{class i{calendarViewService;calendarService;datePickerYearsService;datePickerYears;fabricCalendarView=xi.DAYS;selectedDate;activeMonth=jI;activeYear=VI;years=[];Direction=wo;FabricCalendarCardView=MI;constructor(t,n,r,o){this.calendarViewService=t,this.calendarService=n,this.datePickerYearsService=r,this.datePickerYears=o}getDisplayedDate(){switch(this.fabricCalendarView){case xi.DAYS:return`${U2[this.activeMonth]} ${this.activeYear}`;case xi.MONTHS:return`${U2[this.activeMonth]} ${this.activeYear}`;case xi.YEARS:return`${this.getDisplayedYearRange()}`;default:return""}}switchCalendarView(){switch(this.fabricCalendarView){case xi.DAYS:this.calendarViewService.switchView(xi.YEARS);break;case xi.MONTHS:this.calendarViewService.switchView(xi.DAYS);break;case xi.YEARS:this.calendarViewService.switchView(xi.DAYS);break;default:break}}switchCard(t){let n=t===MI.NEXT,r=n?1:-1,o=this.activeYear+r,a=n?this.datePickerYears.nextYearRange(this.activeYear):this.datePickerYears.prevYearRange(this.activeYear);switch(this.fabricCalendarView){case xi.DAYS:this.handleMonthChange(n);break;case xi.MONTHS:this.calendarService.selectYear(o);break;case xi.YEARS:this.datePickerYearsService.next(a);break;default:break}}getDisplayedYearRange(){return this.years[0][0].toString()+"-"+this.years[4][this.years[4].length-1].toString()}handleMonthChange(t){t?this.calendarService.nextMonth(this.activeYear,this.activeMonth):this.calendarService.prevMonth(this.activeYear,this.activeMonth)}static \u0275fac=function(n){return new(n||i)(f(sh),f(oh),f(zI),f(HI))};static \u0275cmp=z({type:i,selectors:[["gui-date-picker-view-panel"]],inputs:{fabricCalendarView:"fabricCalendarView",selectedDate:"selectedDate",activeMonth:"activeMonth",activeYear:"activeYear",years:"years"},decls:6,vars:3,consts:[[1,"gui-date-picker-view-panel"],[1,"gui-date-picker-view-panel-date",3,"click"],[1,"gui-date-picker-arrows"],[1,"gui-date-picker-arrow",3,"direction","click"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),Y("click",function(){return r.switchCalendarView()}),j(2),x(),C(3,"div",2)(4,"gui-arrow-icon",3),Y("click",function(){return r.switchCard(r.FabricCalendarCardView.PREV)}),x(),C(5,"gui-arrow-icon",3),Y("click",function(){return r.switchCard(r.FabricCalendarCardView.NEXT)}),x()()()),n&2&&(y(2),ge(" ",r.getDisplayedDate()," "),y(2),_("direction",r.Direction.LEFT),y(1),_("direction",r.Direction.RIGHT))},dependencies:[iv],encapsulation:2,changeDetection:0})}return i})(),kI=class{hours;minutes;seconds;constructor(e,t,n){this.hours=e,this.minutes=t,this.seconds=n}},nv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["input","gui-input",""]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-input",!0)},attrs:uW,decls:0,vars:0,template:function(n,r){},styles:[`.gui-input{background:#fff;border-color:#d6d6d6;border-radius:4px;border-style:solid;border-width:1px;color:#333;font:14px Arial;margin:0;max-width:100%;outline:0;padding:8px 12px;text-align:left;transition:border-color .3s ease-in-out}.gui-input:hover{border-color:#999}.gui-input:focus{border-color:#6fb4e8}.gui-input:disabled{color:#ccc;cursor:default;pointer-events:none}.gui-input:disabled::-moz-placeholder{color:#ccc}.gui-input:disabled:-ms-input-placeholder{color:#ccc}.gui-input:disabled::placeholder{color:#ccc}
`,`.gui-material .gui-input{border-color:#ccc;border-radius:0;border-style:solid;border-width:0 0 1px 0;font-family:Roboto,Helvetica Neue,sans-serif;padding-left:0;transition:border-color .3s ease-in-out}.gui-material .gui-input:not(:-moz-placeholder-shown){border-color:#6200ee}.gui-material .gui-input:not(:-ms-input-placeholder){border-color:#6200ee}.gui-material .gui-input:not(:placeholder-shown){border-color:#6200ee}.gui-material .gui-input:focus{border-color:#6200ee}
`,`.gui-dark .gui-input{background:#424242;border-color:#616161;color:#bdbdbd}.gui-dark .gui-input:hover{border-color:#757575}.gui-dark .gui-input:focus{border-color:#ce93d8}.gui-dark .gui-input:disabled{opacity:.36}
`],encapsulation:2,changeDetection:0})}return i})(),ZW=(()=>{class i extends So{formBuilder;datePickerService;selectedDate;datePickerComposition=Ii.NONE;steps=1;form;Direction=wo;FabricDatePickerComposition=Ii;constructor(t,n){super(),this.formBuilder=t,this.datePickerService=n,this.form=this.formBuilder.group({hours:[""],minutes:[""],seconds:[""]})}ngOnChanges(t){t.selectedDate&&this.selectedDate}ngOnInit(){this.isActive(this.datePickerComposition,Ii.TIME_PICKER_HOURS)&&this.form.controls.hours.valueChanges.pipe(We(this.unsubscribe$)).subscribe(n=>{let r=this.isMeridian()?1:0,o=this.isMeridian()?12:23;(n>o||n<r)&&this.form.controls.hours.setValue(r),this.changeSelectedDate()}),this.isActive(this.datePickerComposition,Ii.TIME_PICKER_MINUTES)&&this.form.controls.minutes.valueChanges.pipe(We(this.unsubscribe$)).subscribe(t=>{this.controlFormItemValue(t,"minutes","hours"),this.changeSelectedDate()}),this.isActive(this.datePickerComposition,Ii.TIME_PICKER_SECONDS)&&this.form.controls.seconds.valueChanges.pipe(We(this.unsubscribe$)).subscribe(t=>{this.controlFormItemValue(t,"seconds","minutes"),this.changeSelectedDate()}),this.setTimeFromSelectedDate()}changeTimeItem(t,n){let r=this.form.controls[t].value+n;this.form.controls[t].setValue(r)}changeSelectedDateTime(){this.datePickerService.next()}isActive(t,n){return!!(t&n)}isMeridian(){return this.isActive(this.datePickerComposition,Ii.TIME_PICKER_MERIDIAN)}isOnlyTimePicker(){return!(this.datePickerComposition&Ii.DATE_PICKER)}changeSelectedDate(){if(this.selectedDate){let t=this.form.controls.hours.value,n=this.form.controls.minutes.value,r=this.form.controls.seconds.value,o=new kI(t,n,r);this.datePickerService.changeTime(o,this.selectedDate)}}controlFormItemValue(t,n,r){if(t>59){let o=this.form.controls[r].value,a=o+1;this.form.controls[r].setValue(a),this.form.controls[n].setValue(0)}else t<0&&this.form.controls[n].setValue(0)}setTimeFromSelectedDate(){if(this.selectedDate){let t=this.selectedDate.getHours(),n=this.selectedDate.getMinutes(),r=this.selectedDate.getSeconds();this.form.controls.hours.setValue(t),this.form.controls.minutes.setValue(n),this.form.controls.seconds.setValue(r)}}static \u0275fac=function(n){return new(n||i)(f(Co),f(rh))};static \u0275cmp=z({type:i,selectors:[["gui-time-picker"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("only-time-picker",r.isOnlyTimePicker())},inputs:{selectedDate:"selectedDate",datePickerComposition:"datePickerComposition"},features:[H,le],decls:7,vars:5,consts:[[3,"formGroup"],["class","gui-time-picker-item",4,"ngIf"],[1,"gui-time-picker-button-wrapper",3,"click"],["gui-button","",3,"outline"],[1,"gui-time-picker-item"],[1,"gui-date-picker-arrow",3,"direction","click"],["formControlName","hours","gui-input","","maxlength","2"],["formControlName","minutes","gui-input","","maxlength","2","type","number"],["formControlName","seconds","gui-input","","maxlength","2","type","number"]],template:function(n,r){n&1&&(C(0,"form",0),Q(1,dW,4,2,"div",1)(2,hW,4,2,"div",1)(3,pW,4,2,"div",1),x(),C(4,"div",2),Y("click",function(){return r.changeSelectedDateTime()}),C(5,"button",3),j(6," Ok "),x()()),n&2&&(_("formGroup",r.form),y(1),_("ngIf",r.isActive(r.datePickerComposition,r.FabricDatePickerComposition.TIME_PICKER_HOURS)),y(1),_("ngIf",r.isActive(r.datePickerComposition,r.FabricDatePickerComposition.TIME_PICKER_MINUTES)),y(1),_("ngIf",r.isActive(r.datePickerComposition,r.FabricDatePickerComposition.TIME_PICKER_SECONDS)),y(2),_("outline",!0))},dependencies:[Ft,ls,$r,th,as,cs,TI,yo,_o,nv,Do,iv],encapsulation:2,changeDetection:0})}return i})(),KW=(()=>{class i extends So{datePickerService;datePickerFormatService;datePickerWeeks;datePickerYears;datePickerYearsService;calendarService;calendarViewService;changeDetectorRef;weeks=[];years=[];selectedDate;activeMonth=jI;activeYear=VI;datePickerComposition=Ii.NONE;FabricDatePickerComposition=Ii;FabricCalendarView=xi;fabricCalendarView=xi.DAYS;constructor(t,n,r,o,a,l,d,p){super(),this.datePickerService=t,this.datePickerFormatService=n,this.datePickerWeeks=r,this.datePickerYears=o,this.datePickerYearsService=a,this.calendarService=l,this.calendarViewService=d,this.changeDetectorRef=p}ngOnInit(){this.datePickerFormatService.onComposition().pipe(We(this.unsubscribe$)).subscribe(t=>{this.datePickerComposition=t}),this.calendarService.onActiveMonth().pipe(We(this.unsubscribe$)).subscribe(t=>{this.activeMonth=t,this.calculateDatePickerData(),this.changeDetectorRef.detectChanges()}),this.calendarService.onActiveYear().pipe(We(this.unsubscribe$)).subscribe(t=>{this.activeYear=t,this.calculateDatePickerData(),this.changeDetectorRef.detectChanges()}),this.datePickerService.observeSelectedDate().pipe(We(this.unsubscribe$)).subscribe(t=>{this.selectedDate=t,this.activeYear=t.getFullYear(),this.activeMonth=t.getMonth()}),this.datePickerYearsService.onYears().pipe(We(this.unsubscribe$)).subscribe(t=>{this.years=t,this.changeDetectorRef.detectChanges()}),this.calendarViewService.onActiveView().pipe(We(this.unsubscribe$)).subscribe(t=>{this.fabricCalendarView=t,this.changeDetectorRef.detectChanges()}),this.calculateDatePickerData()}getCalendarView(){return event&&event.stopPropagation(),this.fabricCalendarView}isVisible(t,n){return!!(t&n)}calculateDatePickerData(){this.weeks=this.datePickerWeeks.getDaysInMonths(this.activeYear,this.activeMonth),this.years=this.datePickerYears.getYears(this.activeYear)}static \u0275fac=function(n){return new(n||i)(f(rh),f(BI),f(eN),f(HI),f(zI),f(oh),f(sh),f(oe))};static \u0275cmp=z({type:i,selectors:[["gui-date-picker-toggle"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-date-picker-calendar",!0)},features:[H],decls:2,vars:2,consts:[[4,"ngIf"],[3,"datePickerComposition","selectedDate",4,"ngIf"],[3,"activeMonth","activeYear","fabricCalendarView","selectedDate","years"],[3,"ngSwitch"],[3,"activeMonth","selectedDate","weeks",4,"ngSwitchCase"],[3,"activeYear","selectedDate",4,"ngSwitchCase"],[3,"selectedDate","years",4,"ngSwitchCase"],[3,"activeMonth","selectedDate","weeks"],[3,"activeYear","selectedDate"],[3,"selectedDate","years"],[3,"datePickerComposition","selectedDate"]],template:function(n,r){n&1&&Q(0,vW,6,9,"ng-container",0)(1,bW,1,2,"gui-time-picker",1),n&2&&(_("ngIf",r.isVisible(r.datePickerComposition,r.FabricDatePickerComposition.DATE_PICKER)),y(1),_("ngIf",r.isVisible(r.datePickerComposition,r.FabricDatePickerComposition.TIME_PICKER)))},dependencies:[Ft,zw,qP,$W,WW,GW,qW,ZW],styles:[`.gui-box-border{box-sizing:border-box}.gui-bg-transparent{background-color:transparent}.gui-border{border-width:1px}.gui-border-0{border-width:0}.gui-border-b{border-bottom-width:1px}.gui-border-t{border-top-width:1px}.gui-border-solid{border-style:solid}.gui-border-b-solid{border-bottom-style:solid}.gui-border-t-solid{border-top-style:solid}.gui-border-none{border-style:none}.gui-rounded{border-radius:4px}.gui-cursor-pointer{cursor:pointer}.gui-block{display:block}.gui-inline-block{display:inline-block}.gui-inline{display:inline}.gui-flex{display:-ms-flexbox;display:flex}.gui-hidden{display:none}.gui-display-grid{display:grid}.gui-flex-row{-ms-flex-direction:row;flex-direction:row}.gui-flex-row-reverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.gui-flex-col{-ms-flex-direction:column;flex-direction:column}.gui-flex-col-reverse{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.gui-justify-start{-ms-flex-pack:start;justify-content:flex-start}.gui-justify-end{-ms-flex-pack:end;justify-content:flex-end}.gui-justify-center{-ms-flex-pack:center;justify-content:center}.gui-justify-between{-ms-flex-pack:justify;justify-content:space-between}.gui-justify-around{-ms-flex-pack:distribute;justify-content:space-around}.gui-justify-evenly{-ms-flex-pack:space-evenly;justify-content:space-evenly}.gui-items-start{-ms-flex-align:start;align-items:flex-start}.gui-items-end{-ms-flex-align:end;align-items:flex-end}.gui-items-center{-ms-flex-align:center;align-items:center}.gui-items-between{-ms-flex-align:space-between;align-items:space-between}.gui-items-around{-ms-flex-align:space-around;align-items:space-around}.gui-items-evenly{-ms-flex-align:space-evenly;align-items:space-evenly}.gui-flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.gui-flex-wrap-reverse{-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse}.gui-flex-nowrap{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.gui-grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.gui-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.gui-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.gui-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.gui-grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.gui-grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.gui-grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.gui-grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.gui-grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.gui-grid-rows-1{grid-template-rows:repeat(1,minmax(0,1fr))}.gui-grid-rows-2{grid-template-rows:repeat(2,minmax(0,1fr))}.gui-grid-rows-3{grid-template-rows:repeat(3,minmax(0,1fr))}.gui-grid-rows-4{grid-template-rows:repeat(4,minmax(0,1fr))}.gui-grid-rows-5{grid-template-rows:repeat(5,minmax(0,1fr))}.gui-grid-rows-6{grid-template-rows:repeat(6,minmax(0,1fr))}.gui-grid-rows-7{grid-template-rows:repeat(7,minmax(0,1fr))}.gui-grid-rows-8{grid-template-rows:repeat(8,minmax(0,1fr))}.gui-grid-rows-9{grid-template-rows:repeat(9,minmax(0,1fr))}.gui-grid-rows-gap-0{grid-row-gap:0}.gui-grid-rows-gap-1{grid-row-gap:1px}.gui-grid-rows-gap-2{grid-row-gap:2px}.gui-grid-rows-gap-3{grid-row-gap:3px}.gui-grid-rows-gap-4{grid-row-gap:4px}.gui-grid-rows-gap-5{grid-row-gap:6px}.gui-grid-rows-gap-6{grid-row-gap:8px}.gui-grid-rows-gap-7{grid-row-gap:10px}.gui-grid-rows-gap-8{grid-row-gap:12px}.gui-grid-rows-gap-10{grid-row-gap:16px}.gui-grid-rows-gap-13{grid-row-gap:22px}.gui-grid-rows-gap-23{grid-row-gap:42px}.gui-grid-cols-gap-0{grid-column-gap:0}.gui-grid-cols-gap-1{grid-column-gap:1px}.gui-grid-cols-gap-2{grid-column-gap:2px}.gui-grid-cols-gap-3{grid-column-gap:3px}.gui-grid-cols-gap-4{grid-column-gap:4px}.gui-grid-cols-gap-5{grid-column-gap:6px}.gui-grid-cols-gap-6{grid-column-gap:8px}.gui-grid-cols-gap-7{grid-column-gap:10px}.gui-grid-cols-gap-8{grid-column-gap:12px}.gui-grid-cols-gap-10{grid-column-gap:16px}.gui-grid-cols-gap-13{grid-column-gap:22px}.gui-grid-cols-gap-23{grid-column-gap:42px}.gui-h-full{height:100%}.gui-list-none{list-style-type:none}.gui-m-0{margin:0}.gui-mx-0{margin-left:0;margin-right:0}.gui-my-0{margin-bottom:0;margin-top:0}.-gui-m-0{margin:0}.-gui-mx-0{margin-left:0;margin-right:0}.-gui-my-0{margin-bottom:0;margin-top:0}.gui-m-1{margin:1px}.gui-mx-1{margin-left:1px;margin-right:1px}.gui-my-1{margin-bottom:1px;margin-top:1px}.-gui-m-1{margin:-1px}.-gui-mx-1{margin-left:-1px;margin-right:-1px}.-gui-my-1{margin-bottom:-1px;margin-top:-1px}.gui-m-2{margin:2px}.gui-mx-2{margin-left:2px;margin-right:2px}.gui-my-2{margin-bottom:2px;margin-top:2px}.-gui-m-2{margin:-2px}.-gui-mx-2{margin-left:-2px;margin-right:-2px}.-gui-my-2{margin-bottom:-2px;margin-top:-2px}.gui-m-3{margin:3px}.gui-mx-3{margin-left:3px;margin-right:3px}.gui-my-3{margin-bottom:3px;margin-top:3px}.-gui-m-3{margin:-3px}.-gui-mx-3{margin-left:-3px;margin-right:-3px}.-gui-my-3{margin-bottom:-3px;margin-top:-3px}.gui-m-4{margin:4px}.gui-mx-4{margin-left:4px;margin-right:4px}.gui-my-4{margin-bottom:4px;margin-top:4px}.-gui-m-4{margin:-4px}.-gui-mx-4{margin-left:-4px;margin-right:-4px}.-gui-my-4{margin-bottom:-4px;margin-top:-4px}.gui-m-5{margin:6px}.gui-mx-5{margin-left:6px;margin-right:6px}.gui-my-5{margin-bottom:6px;margin-top:6px}.-gui-m-5{margin:-6px}.-gui-mx-5{margin-left:-6px;margin-right:-6px}.-gui-my-5{margin-bottom:-6px;margin-top:-6px}.gui-m-6{margin:8px}.gui-mx-6{margin-left:8px;margin-right:8px}.gui-my-6{margin-bottom:8px;margin-top:8px}.-gui-m-6{margin:-8px}.-gui-mx-6{margin-left:-8px;margin-right:-8px}.-gui-my-6{margin-bottom:-8px;margin-top:-8px}.gui-m-7{margin:10px}.gui-mx-7{margin-left:10px;margin-right:10px}.gui-my-7{margin-bottom:10px;margin-top:10px}.-gui-m-7{margin:-10px}.-gui-mx-7{margin-left:-10px;margin-right:-10px}.-gui-my-7{margin-bottom:-10px;margin-top:-10px}.gui-m-8{margin:12px}.gui-mx-8{margin-left:12px;margin-right:12px}.gui-my-8{margin-bottom:12px;margin-top:12px}.-gui-m-8{margin:-12px}.-gui-mx-8{margin-left:-12px;margin-right:-12px}.-gui-my-8{margin-bottom:-12px;margin-top:-12px}.gui-m-10{margin:16px}.gui-mx-10{margin-left:16px;margin-right:16px}.gui-my-10{margin-bottom:16px;margin-top:16px}.-gui-m-10{margin:-16px}.-gui-mx-10{margin-left:-16px;margin-right:-16px}.-gui-my-10{margin-bottom:-16px;margin-top:-16px}.gui-m-13{margin:22px}.gui-mx-13{margin-left:22px;margin-right:22px}.gui-my-13{margin-bottom:22px;margin-top:22px}.-gui-m-13{margin:-22px}.-gui-mx-13{margin-left:-22px;margin-right:-22px}.-gui-my-13{margin-bottom:-22px;margin-top:-22px}.gui-m-23{margin:42px}.gui-mx-23{margin-left:42px;margin-right:42px}.gui-my-23{margin-bottom:42px;margin-top:42px}.-gui-m-23{margin:-42px}.-gui-mx-23{margin-left:-42px;margin-right:-42px}.-gui-my-23{margin-bottom:-42px;margin-top:-42px}.gui-mb-4{margin-bottom:4px}.gui-mb-6{margin-bottom:8px}.gui-mb-8{margin-bottom:12px}.gui-mb-10{margin-bottom:16px}.gui-mb-18{margin-bottom:32px}.gui-mr-0{margin-right:0}.gui-mr-5{margin-right:6px}.gui-mr-auto{margin-right:auto}.gui-ml-auto{margin-left:auto}.gui-ml-6{margin-left:8px}.gui-mt-0{margin-top:0}.gui-mt-4{margin-top:4px}.gui-mt-6{margin-top:8px}.gui-mt-10{margin-top:16px}.gui-mt-14{margin-top:24px}.gui-overflow-hidden{overflow:hidden}.gui-overflow-y-scroll{overflow-y:scroll}.gui-overflow-x-hidden{overflow-x:hidden}.gui-overflow-auto{overflow:auto}.gui-p-0{padding:0}.gui-px-0{padding-left:0;padding-right:0}.gui-py-0{padding-bottom:0;padding-top:0}.gui-p-1{padding:1px}.gui-px-1{padding-left:1px;padding-right:1px}.gui-py-1{padding-bottom:1px;padding-top:1px}.gui-p-2{padding:2px}.gui-px-2{padding-left:2px;padding-right:2px}.gui-py-2{padding-bottom:2px;padding-top:2px}.gui-p-3{padding:3px}.gui-px-3{padding-left:3px;padding-right:3px}.gui-py-3{padding-bottom:3px;padding-top:3px}.gui-p-4{padding:4px}.gui-px-4{padding-left:4px;padding-right:4px}.gui-py-4{padding-bottom:4px;padding-top:4px}.gui-p-5{padding:6px}.gui-px-5{padding-left:6px;padding-right:6px}.gui-py-5{padding-bottom:6px;padding-top:6px}.gui-p-6{padding:8px}.gui-px-6{padding-left:8px;padding-right:8px}.gui-py-6{padding-bottom:8px;padding-top:8px}.gui-p-7{padding:10px}.gui-px-7{padding-left:10px;padding-right:10px}.gui-py-7{padding-bottom:10px;padding-top:10px}.gui-p-8{padding:12px}.gui-px-8{padding-left:12px;padding-right:12px}.gui-py-8{padding-bottom:12px;padding-top:12px}.gui-p-10{padding:16px}.gui-px-10{padding-left:16px;padding-right:16px}.gui-py-10{padding-bottom:16px;padding-top:16px}.gui-p-13{padding:22px}.gui-px-13{padding-left:22px;padding-right:22px}.gui-py-13{padding-bottom:22px;padding-top:22px}.gui-p-23{padding:42px}.gui-px-23{padding-left:42px;padding-right:42px}.gui-py-23{padding-bottom:42px;padding-top:42px}.gui-pr-10{padding-right:16px}.gui-pl-9{padding-right:10px}.gui-pb-6{padding-bottom:8px}.gui-pb-12{padding-bottom:20px}.gui-pl-21{padding-left:38px}.gui-pt-4{padding-top:4px}.gui-pt-6{padding-top:8px}.gui-pt-10{padding-top:16px}.gui-pt-12{padding-top:20px}.gui-pt-14{padding-top:24px}.gui-static{position:static}.gui-fixed{position:fixed}.gui-relative{position:relative}.gui-absolute{position:absolute}.gui-text-xxs{font-size:11px}.gui-text-xs{font-size:12px}.gui-text-sm{font-size:13px}.gui-text-base{font-size:14px}.gui-text-lg{font-size:16px}.gui-text-xl{font-size:18px}.gui-text-2xl{font-size:20px}.gui-text-3xl{font-size:22px}.gui-leading-4{line-height:16px}.gui-leading-6{line-height:24px}.gui-font-thin{font-weight:100}.gui-font-extralight{font-weight:200}.gui-font-light{font-weight:300}.gui-font-normal{font-weight:400}.gui-font-medium{font-weight:500}.gui-font-semibold{font-weight:600}.gui-font-bold{font-weight:700}.gui-font-extrabold{font-weight:800}.gui-font-black{font-weight:900}.gui-italic{font-style:italic}.gui-not-italic{font-style:normal}.gui-whitespace-nowrap{white-space:nowrap}.gui-overflow-ellipsis{text-overflow:ellipsis}.gui-no-underline{text-decoration:none}.gui-text-center{text-align:center}.gui-w-full{width:100%}.gui-w-96{width:384px}.gui-w-3\\/5{width:60%}.gui-date-picker-calendar{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;font-family:Roboto,Helvetica Neue,sans-serif;border-radius:4px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;padding:0 0 12px;width:268px}.gui-date-picker-header{font-size:13px;font-weight:400;text-align:center;border-top:1px solid #999}.gui-date-picker-cell{border-radius:4px;border-color:transparent;border-style:solid;border-width:1px;padding:2px 4px;position:relative;text-align:center;font-size:13px;z-index:0}.gui-date-picker-cell:before{border:1px solid #999;border-radius:50%;box-sizing:border-box;content:"";display:none;height:36px;left:50%;position:absolute;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translate(-50%) translateY(-50%);width:36px;z-index:-1}.gui-date-picker-cell:after{background:transparent;border-radius:50%;box-sizing:border-box;content:"";display:block;height:32px;left:50%;position:absolute;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translate(-50%) translateY(-50%);width:32px;z-index:-1}.gui-date-picker-cell:hover:after{background:#e6e6e6}.gui-date-picker-day{color:#333;cursor:pointer;opacity:.2}.gui-date-picker-day.gui-date-picker-selected-month{opacity:1}.gui-date-picker-month,.gui-date-picker-year{cursor:pointer}.gui-date-picker-year{font-size:13px}.gui-date-picker-day.gui-date-picker-current-day:before,.gui-date-picker-month.gui-date-picker-current-month:before,.gui-date-picker-year.gui-date-picker-current-year:before{display:block}.gui-date-picker-day.gui-date-picker-selected-day{pointer-events:none}.gui-date-picker-day.gui-date-picker-selected-day,.gui-date-picker-month.gui-date-picker-selected-month,.gui-date-picker-year.gui-date-picker-selected-year{color:#fff}.gui-date-picker-day.gui-date-picker-selected-day:after,.gui-date-picker-month.gui-date-picker-selected-month:after,.gui-date-picker-year.gui-date-picker-selected-year:after{background:#2185d0}.gui-date-picker-arrows{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:32px}.gui-date-picker-view-padding{padding:0 8px}.gui-date-picker-view-border-top{border-top:1px solid #999}gui-time-picker{border-top:1px solid #999;margin:6px 0 0;padding:12px 0 2.6666666667px}gui-time-picker form{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center}gui-time-picker.only-time-picker{border-top:none}.gui-time-picker-button-wrapper{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;padding-right:8px}.gui-time-picker-button-wrapper .gui-button{font-size:12px}.gui-time-picker-item{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;margin:0 8px;position:relative}.gui-time-picker-item input{box-sizing:border-box;max-width:24px;text-align:center}.gui-time-picker-item input::-webkit-outer-spin-button,.gui-time-picker-item input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.gui-time-picker-item input[type=number]{-moz-appearance:textfield}.gui-time-picker-item .gui-date-picker-arrow:nth-of-type(1){margin-bottom:2px}.gui-time-picker-item .gui-date-picker-arrow:nth-of-type(2){margin-top:6px}.gui-date-picker-view-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:16px 18px}.gui-date-picker-view-panel .gui-date-picker-view-panel-date{cursor:pointer;font-size:14px;font-weight:700;margin:0;pointer-events:auto}.gui-date-picker-arrow{position:relative;z-index:0}.gui-date-picker-arrow:hover:after{background:#e6e6e6;border-radius:50%;box-sizing:border-box;content:"";display:block;height:24px;left:50%;position:absolute;top:50%;-ms-transform:translateX(-50%) translateY(-50%);transform:translate(-50%) translateY(-50%);width:24px;z-index:-1}
`],encapsulation:2,changeDetection:0})}return i})(),Ur=function(i){return i[i.TOP=1]="TOP",i[i.BOTTOM=2]="BOTTOM",i[i.BEFORE=3]="BEFORE",i[i.AFTER=4]="AFTER",i}(Ur||{}),Ll=new ie("Theme token"),Gn=(()=>{class i{fabricTheme$=new zt(st.FABRIC);onTheme(){return this.fabricTheme$.asObservable()}changeTheme(t){let n=typeof t=="string"?this.convertToTheme(t):t;this.fabricTheme$.next(n)}convertToTheme(t){switch(t.toLowerCase()){case"fabric":return st.FABRIC;case"material":return st.MATERIAL;case"generic":return st.GENERIC;case"light":return st.LIGHT;case"dark":return st.DARK;default:return st.FABRIC}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),ah=(()=>{class i extends So{elementRef;renderer;themeService;static CSS_CLASS_PREFIX="gui-";constructor(t,n,r){super(),this.elementRef=t,this.renderer=n,this.themeService=r}ngAfterViewInit(){this.themeService.onTheme().pipe(Fu(),We(this.unsubscribe$)).subscribe(t=>{this.addTheme(t)})}addTheme(t){this.removeThemes();let n=i.CSS_CLASS_PREFIX+t.toLowerCase();this.renderer.addClass(this.elementRef.nativeElement,n)}removeThemes(){Object.keys(st).map(n=>st[n].toLowerCase()).filter(n=>!Number.isInteger(n)).forEach(n=>{let r=i.CSS_CLASS_PREFIX+n;this.renderer.removeClass(this.elementRef.nativeElement,r)})}getElementRef(){return this.elementRef}getRenderer(){return this.renderer}static \u0275fac=function(n){return new(n||i)(f(F),f(At),f(Gn))};static \u0275dir=ne({type:i,features:[H]})}return i})(),AI=class{elementRef;containerClassName;constructor(e,t){this.elementRef=e,this.containerClassName=t}getHeight(){return this.elementRef.nativeElement.querySelector(`.${this.containerClassName}`).offsetHeight}getWidth(){return this.elementRef.nativeElement.querySelector(`.${this.containerClassName}`).offsetWidth}},RI=class extends AI{verticalPosition=0;horizontalPosition=0;constructor(e,t,n,r,o,a){super(n,r),this.calculateCords(e,t,a,o)}getVerticalPosition(){return this.verticalPosition}getHorizontalPosition(){return this.horizontalPosition}calculateCords(e,t,n,r){let o=t.nativeElement.getBoundingClientRect(),a=e.pageYOffset+o.bottom,l=e.pageXOffset+o.left,d=e.pageXOffset+o.right,p=e.pageYOffset+o.top,m=p+n-this.getHeight();switch(r){case Ur.BOTTOM:this.horizontalPosition=l,this.verticalPosition=a+n;break;case Ur.TOP:this.horizontalPosition=l,this.verticalPosition=m;break;case Ur.BEFORE:this.horizontalPosition=d+n-this.getWidth(),this.verticalPosition=a;break;case Ur.AFTER:this.horizontalPosition=l+n,this.verticalPosition=a;break;default:this.horizontalPosition=l,this.verticalPosition=a+n}this.calculateDirection(t,e,m)}calculateDirection(e,t,n){let r=t.innerHeight+t.pageYOffset,o=t.innerWidth+t.pageXOffset,a=e.nativeElement.offsetWidth,l=this.getHeight(),d=this.getWidth(),p=o-this.horizontalPosition-d<0,m=r-this.verticalPosition-l<0;p&&(this.horizontalPosition-=d-a),m&&(this.verticalPosition=n)}},YW=(()=>{class i extends RI{static defaultInlineDialogOffset=8;constructor(t,n,r,o,a=i.defaultInlineDialogOffset){super(r,t,n,"gui-inline-dialog-wrapper",o,a)}}return i})(),$I=(()=>{class i{platformId;inlineDialogGeometry;inlineDialogState$=new ut;constructor(t){this.platformId=t}observeInlineDialogCords(){return this.inlineDialogState$.asObservable()}changeGeometry(t){this.inlineDialogGeometry=t}getInlineDialogCords(t,n,r){if(en(this.platformId)){let o=new YW(t,this.inlineDialogGeometry,window,n,r);this.inlineDialogState$.next(o)}}static \u0275fac=function(n){return new(n||i)(M(Bt))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),QW=(()=>{class i extends ah{componentFactoryResolver;changeDetectorRef;inlineDialogService;elRef;inlineDialogGeometryService;container;customClass="";inlineDialogNestedComponent;inlineDialogNestedInjector;dialogTopAttribute;dialogLeftAttribute;visible=!1;width="400px";constructor(t,n,r,o,a,l,d,p){super(o,l,d),this.componentFactoryResolver=t,this.changeDetectorRef=n,this.inlineDialogService=r,this.elRef=o,this.inlineDialogGeometryService=a}ngOnInit(){this.inlineDialogGeometryService.observeInlineDialogCords().pipe(We(this.unsubscribe$)).subscribe(t=>{this.dialogTopAttribute=t.getVerticalPosition(),this.dialogLeftAttribute=t.getHorizontalPosition(),this.changeDetectorRef.detectChanges()})}ngAfterViewInit(){super.ngAfterViewInit(),this.createNestedComponent(this.inlineDialogNestedComponent),this.inlineDialogGeometryService.changeGeometry(this.elRef),this.changeDetectorRef.detectChanges(),Nn(0).pipe(We(this.unsubscribe$)).subscribe(()=>{this.visible=!0,this.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.unsubscribe()}clickOutside(t){this.isContainerClicked(t)&&this.inlineDialogService.close()}isContainerClicked(t){return!this.elRef.nativeElement.contains(t.target)}createNestedComponent(t){if(this.container&&t){let n=this.componentFactoryResolver.resolveComponentFactory(t);this.inlineDialogNestedInjector?this.container.createComponent(n,void 0,this.inlineDialogNestedInjector):this.container.createComponent(n),this.changeDetectorRef.detectChanges()}}static \u0275fac=function(n){return new(n||i)(f(Lt),f(oe),f(Ln(()=>jl)),f(F),f($I),f(At),f(Gn),f(Ll))};static \u0275cmp=z({type:i,selectors:[["ng-component"]],viewQuery:function(n,r){if(n&1&&ke(nh,5,Si),n&2){let o;xe(o=Ie())&&(r.container=o.first)}},features:[H],decls:4,vars:9,consts:[[1,"gui-inline-dialog-wrapper",3,"ngClass"],[1,"gui-inline-dialog-content",3,"click"],["container",""]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),Y("click",function(a){return r.clickOutside(a)},!1,ed),Q(2,yW,0,0,"ng-template",null,2,_t),x()()),n&2&&(It("left",r.dialogLeftAttribute,"px")("top",r.dialogTopAttribute,"px"),_("ngClass",r.customClass),y(1),It("max-width",r.width),Me("gui-inline-dialog-visible",r.visible))},dependencies:[fo],styles:[`.gui-inline-dialog-wrapper{box-sizing:border-box;position:absolute;z-index:1}.gui-inline-dialog-wrapper .gui-inline-dialog-content{background-color:#fff;border-radius:4px;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;box-sizing:border-box;display:block;z-index:1000;opacity:0;transition:opacity .2s ease-in-out}.gui-inline-dialog-wrapper .gui-inline-dialog-content.gui-inline-dialog-visible{opacity:1}
`,`.gui-dark .gui-inline-dialog-content{background:#424242;box-shadow:0 1px 2px #424242;color:#bdbdbd}
`],encapsulation:2,changeDetection:0})}return i})(),jl=(()=>{class i{componentFactoryResolver;applicationRef;injector;document;inlineDialogGeometryService;inlineDialogRef=null;opened=!1;opened$=new zt(!1);destroy$=new ut;constructor(t,n,r,o,a){this.componentFactoryResolver=t,this.applicationRef=n,this.injector=r,this.document=o,this.inlineDialogGeometryService=a}ngOnDestroy(){this.removeInlineDialog()}open(t,n,r){if(event&&event.stopPropagation(),this.inlineDialogRef)this.close();else{let o=this.injector,a=Ur.BOTTOM,l=0,d=st.FABRIC,p="";r&&r.injector&&(o=r.injector),r&&r.placement&&(a=r.placement),r&&r.offset&&(l=r.offset),r&&r.theme&&(d=r.theme),r&&r.customClass&&(p=r.customClass);let m=Pe.create({providers:[{provide:Ll,useValue:d}],parent:o});this.setOpened(!0),this.appendInlineDialogToElement(n,m,p),this.inlineDialogGeometryService.getInlineDialogCords(t,a,l),this.closeOnEscKey()}}close(){this.removeInlineDialog(),this.destroy$.next(void 0),this.destroy$.complete(),this.setOpened(!1)}isOpened(){return this.opened}onOpened(){return this.opened$.asObservable()}appendInlineDialogToElement(t,n,r){let o=this.componentFactoryResolver.resolveComponentFactory(QW).create(n);r&&(o.instance.customClass=r),o.instance.inlineDialogNestedComponent=t,o.changeDetectorRef.detectChanges(),this.applicationRef.attachView(o.hostView);let a=o.hostView.rootNodes[0];this.document.body.appendChild(a),this.inlineDialogRef=o}removeInlineDialog(){this.inlineDialogRef&&(this.applicationRef.detachView(this.inlineDialogRef.hostView),this.inlineDialogRef.destroy(),this.inlineDialogRef=null)}setOpened(t){this.opened=t,this.opened$.next(this.opened)}closeOnEscKey(){no(this.document,"keyup").pipe(ci(n=>n.code==="Escape"),We(this.destroy$)).subscribe(()=>this.close())}static \u0275fac=function(n){return new(n||i)(M(Lt),M(Ci),M(Pe),M(ot),M($I))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),tN=(()=>{class i{fabricInlineDialogService;constructor(t){this.fabricInlineDialogService=t}open(t,n,r){let o=st.FABRIC;r&&(o=r),this.fabricInlineDialogService.open(t,n,{placement:Ur.BOTTOM,offset:0,theme:o})}close(){this.fabricInlineDialogService.close()}isOpened(){return this.fabricInlineDialogService.isOpened()}onOpened(){return this.fabricInlineDialogService.onOpened()}static \u0275fac=function(n){return new(n||i)(M(jl))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),XW=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-date-picker-icon"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-date-picker-icon",!0)},decls:8,vars:0,consts:[["height","9.82","viewBox","0 0 8.76 9.82","width","8.76","xmlns","http://www.w3.org/2000/svg"],["d","M401.41,308.63l-.46.15h-.15a.34.34,0,0,1-.08-.67l.68-.22a1.539,1.539,0,0,1,.38-.07h0a.39.39,0,0,1,.39.39V312a.38.38,0,0,1-.39.39.39.39,0,0,1-.39-.39Z","fill","#8c8b8b","transform","translate(-397.19 -304.36)"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(0.64 9.32)","x1","7.39"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(0.64 2.16)","x1","7.39"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(0.5 0.5)","y2","8.82"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(3.09 0.5)","y2","1.66"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(5.68 0.5)","y2","1.66"],["fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1","transform","translate(8.26 0.5)","y2","8.82"]],template:function(n,r){n&1&&(Ui(),C(0,"svg",0),R(1,"path",1)(2,"line",2)(3,"line",3)(4,"line",4)(5,"line",5)(6,"line",6)(7,"line",7),x())},styles:[`.gui-date-picker-icon svg{height:16px;width:16px}.gui-date-picker-icon svg line,.gui-date-picker-icon svg path{transition:all .3s ease-in-out}.gui-date-picker-icon svg line{stroke:#aaa}.gui-date-picker-icon svg path{fill:#aaa}.gui-date-picker-icon svg:hover line{stroke:#464646}.gui-date-picker-icon svg:hover path{fill:#464646}
`,`.gui-dark .gui-date-picker-icon svg line{stroke:#bdbdbd}.gui-dark .gui-date-picker-icon svg path{fill:#bdbdbd}.gui-dark .gui-date-picker-icon svg:hover line{stroke:#616161}.gui-dark .gui-date-picker-icon svg:hover path{fill:#616161}
`],encapsulation:2})}return i})(),iN=(()=>{class i extends So{fabricDatePickerInlineDialogService;datePickerService;datePickerCompositionService;changeDetectorRef;datePickerRef;parentElement;theme;selectDate;name="";openDialog=!1;onlyDialog=!1;datePipeOptions="dd/MM/yyyy";dateSelected=new J;dialogOpened=new J;datePickerForm;pickedDate=new Date;inputDisabled="";constructor(t,n,r,o,a){super(),this.fabricDatePickerInlineDialogService=t,this.datePickerService=n,this.datePickerCompositionService=r,this.changeDetectorRef=a,this.datePickerForm=o.group({date:[""]})}ngOnChanges(t){t.selectDate&&this.selectDate&&(!this.pickedDate||!ih.areDatesSame(this.selectDate,this.pickedDate))&&this.datePickerService.dateSelected(this.selectDate),t.onlyDialog&&(this.inputDisabled=this.onlyDialog?"disabled":""),t.datePipeOptions&&this.datePickerCompositionService.next(this.datePipeOptions)}ngOnInit(){this.datePickerService.observeSelectedDate().pipe(Rc(1),We(this.unsubscribe$)).subscribe(t=>{this.pickedDate=t,this.emitSelectedDate(t),this.changeDetectorRef.detectChanges(),this.closeDatePicker()}),this.fabricDatePickerInlineDialogService.onOpened().pipe(Rc(1),We(this.unsubscribe$)).subscribe(t=>{this.dialogOpened.emit(t)})}ngAfterViewInit(){this.datePickerService.observeSelectedDate().pipe(fn(1),We(this.unsubscribe$)).subscribe(t=>{this.pickedDate=t,this.emitSelectedDate(t),this.changeDetectorRef.detectChanges()}),this.openDialog&&this.openDatePicker()}ngOnDestroy(){super.ngOnDestroy(),this.fabricDatePickerInlineDialogService.close()}openDatePicker(){let t=!this.parentElement&&this.datePickerRef,n=t?this.datePickerRef:this.parentElement;n&&this.fabricDatePickerInlineDialogService.open(n,KW,this.theme)}closeDatePicker(){this.fabricDatePickerInlineDialogService.close()}emitSelectedDate(t){this.dateSelected.emit(t)}static \u0275fac=function(n){return new(n||i)(f(tN),f(rh),f(BI),f(Co),f(oe))};static \u0275cmp=z({type:i,selectors:[["gui-date-picker"]],viewQuery:function(n,r){if(n&1&&ke(_W,5,F),n&2){let o;xe(o=Ie())&&(r.datePickerRef=o.first)}},inputs:{parentElement:"parentElement",theme:"theme",selectDate:"selectDate",name:"name",openDialog:"openDialog",onlyDialog:"onlyDialog",datePipeOptions:"datePipeOptions"},outputs:{dateSelected:"dateSelected",dialogOpened:"dialogOpened"},features:[H,le],decls:6,vars:7,consts:[[1,"gui-date-picker"],["datePicker",""],[3,"formGroup"],["formControlName","date","gui-input","","readonly","",1,"gui-date-picker-input",3,"name","value"],[1,"gui-date-picker-icon",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0,1)(2,"form",2),R(3,"input",3),be(4,"date"),x(),C(5,"gui-date-picker-icon",4),Y("click",function(){return r.openDatePicker()}),x()()),n&2&&(y(2),_("formGroup",r.datePickerForm),y(1),_("name",r.name)("value",ra(4,4,r.pickedDate,r.datePipeOptions)),ni("disabled",r.inputDisabled))},dependencies:[ls,$r,as,cs,yo,_o,nv,XW,Jg],styles:[`.gui-date-picker{-ms-flex-align:center;align-items:center;display:-ms-inline-flexbox;display:inline-flex;position:relative}.gui-date-picker .gui-date-picker-icon{cursor:pointer;position:absolute;right:0}.gui-date-picker input,.gui-date-picker-calendar input{background:transparent;border-radius:0;border-width:0 0 1px 0;font-family:Arial;font-size:14px;padding:4px}.gui-date-picker input:disabled,.gui-date-picker-calendar input:disabled{color:#333}.gui-date-picker .gui-date-picker-icon,.gui-date-picker-calendar .gui-date-picker-icon{cursor:pointer;position:absolute;right:0}
`,`.gui-dark .gui-input{background:transparent;color:#bdbdbd}.gui-dark .gui-date-picker-calendar .gui-arrow-icon:hover:after{background:#757575}.gui-dark .gui-date-picker-calendar .gui-date-picker-cell{color:#bdbdbd}.gui-dark .gui-date-picker-calendar .gui-date-picker-cell:hover:after{background:#757575}.gui-dark .gui-date-picker-calendar .gui-date-picker-day.gui-date-picker-selected-day,.gui-dark .gui-date-picker-calendar .gui-date-picker-month.gui-date-picker-selected-month,.gui-dark .gui-date-picker-calendar .gui-date-picker-year.gui-date-picker-selected-year{color:#333}.gui-dark .gui-date-picker-calendar .gui-date-picker-day.gui-date-picker-selected-day:after,.gui-dark .gui-date-picker-calendar .gui-date-picker-month.gui-date-picker-selected-month:after,.gui-dark .gui-date-picker-calendar .gui-date-picker-year.gui-date-picker-selected-year:after{background:#dfb8e6}
`,`.gui-material .gui-date-picker-calendar .gui-date-picker-day.gui-date-picker-selected-day:after,.gui-material .gui-date-picker-calendar .gui-date-picker-month.gui-date-picker-selected-month:after,.gui-material .gui-date-picker-calendar .gui-date-picker-year.gui-date-picker-selected-year:after{background:#6200ee}
`],encapsulation:2,changeDetection:0})}return i})(),wa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[jl,$I],imports:[ue]})}return i})(),Io=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),UI=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),JW=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),ev=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[rh,BI,oh,sh,zI,eN,HI,tN],imports:[ue,wa,us,Io,Wn,JW,UI]})}return i})(),ch=(()=>{class i extends So{componentFactoryResolver;applicationRef;injector;document;componentRef="destroyed";constructor(t,n,r,o){super(),this.componentFactoryResolver=t,this.applicationRef=n,this.injector=r,this.document=o}ngOnDestroy(){this.removeComponent()}createAndAppend(t){let n=t?.injector?t.injector:this.injector;this.componentRef=this.componentFactoryResolver.resolveComponentFactory(this.getComponent()).create(n),this.applicationRef.attachView(this.componentRef.hostView);let r=this.componentRef.hostView.rootNodes[0];this.getElement(t?.appendToElement).appendChild(r),t?.afterCompCreation&&t?.afterCompCreation(),this.componentRef.changeDetectorRef.detectChanges()}removeComponent(){this.componentRef!=="destroyed"&&(this.applicationRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.componentRef="destroyed",this.unsubscribe())}getComponentRef(){return this.componentRef}getInjector(){return this.injector}getDocument(){return this.document}onCloseOnEsc(){return no(this.getDocument(),"keyup").pipe(ci(n=>n.code==="Escape"),We(this.unsubscribe$))}isComponentCreated(){return this.componentRef!=="destroyed"}getElement(t){return t?t.nativeElement:this.document.body}static \u0275fac=function(n){return new(n||i)(f(Lt),f(Ci),f(Pe),f(ot))};static \u0275dir=ne({type:i,features:[H]})}return i})(),rv=(()=>{class i extends ch{inProgress=!1;constructor(t,n,r,o){super(t,n,r,o)}getComponent(){return e9}open(t){event&&event.stopPropagation(),!(this.isComponentCreated()&&t?.preventReopeningDrawer)&&(this.isComponentCreated()&&!this.inProgress&&!t?.preventReopeningDrawer?this.waitAndCreateNewDrawer(t):this.createDrawer(t))}close(){if(this.isComponentCreated()){let t=this.getComponentRef();t.instance.visible=!1,t.instance.detectChanges(),Nn(300).pipe(We(this.unsubscribe$)).subscribe(()=>{this.removeComponent(),this.inProgress=!1})}}createDrawer(t){this.isComponentCreated()&&this.removeComponent();let n=st.FABRIC,r=this.getInjector();t&&t.theme&&(n=t.theme),t&&t.injector&&(r=t.injector);let o=Pe.create({providers:[{provide:Ll,useValue:n}],parent:r});this.createAndAppend({injector:o,afterCompCreation:()=>this.applyInstanceVars(t),appendToElement:t?.appendToElement}),this.closeOnEscKey()}waitAndCreateNewDrawer(t){this.inProgress=!0,this.close(),Nn(400).pipe(We(this.unsubscribe$)).subscribe(()=>{this.createDrawer(t)})}applyInstanceVars(t){if(this.isComponentCreated()){let n=this.getComponentRef();t?.width&&(n.instance.width=t.width),t?.closeOnClickOutside&&(n.instance.closeOnClickOutside=t.closeOnClickOutside),n.instance.dialogNestedComponent=t?.component,n.instance.isFixed=!t?.appendToElement}}closeOnEscKey(){this.onCloseOnEsc().subscribe(()=>this.close())}static \u0275fac=function(n){return new(n||i)(M(Lt),M(Ci),M(Pe),M(ot))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})();var WI=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-close-icon"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-close-icon-wrapper",!0)},decls:1,vars:0,consts:[[1,"gui-close-icon"]],template:function(n,r){n&1&&R(0,"span",0)},styles:[`.gui-close-icon-wrapper .gui-close-icon{cursor:pointer;height:16px;position:absolute;right:8px;top:8px;width:16px}.gui-close-icon-wrapper .gui-close-icon:before,.gui-close-icon-wrapper .gui-close-icon:after{background-color:#aaa;content:" ";height:16px;left:7px;position:absolute;width:2px}.gui-close-icon-wrapper .gui-close-icon:before{-ms-transform:rotate(45deg);transform:rotate(45deg)}.gui-close-icon-wrapper .gui-close-icon:after{-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.gui-close-icon-wrapper .gui-close-icon:hover:before,.gui-close-icon-wrapper .gui-close-icon:hover:after{background-color:#464646}
`],encapsulation:2,changeDetection:0})}return i})(),e9=(()=>{class i extends ah{componentFactoryResolver;changeDetectorRef;elRef;dialogService;container;width="400px";closeOnClickOutside=!1;dialogNestedComponent;visible=!1;isFixed=!1;constructor(t,n,r,o,a,l){super(r,l,a),this.componentFactoryResolver=t,this.changeDetectorRef=n,this.elRef=r,this.dialogService=o}ngAfterViewInit(){super.ngAfterViewInit(),this.createNestedComponent(),Nn(50).pipe(We(this.unsubscribe$)).subscribe(()=>{this.visible=!0,this.changeDetectorRef.detectChanges()})}closeDrawer(){this.dialogService.close()}clickOutside(t){this.closeOnClickOutside&&this.isContainerClicked(t)&&this.closeDrawer()}detectChanges(){this.changeDetectorRef.detectChanges()}isContainerClicked(t){let n=this.elRef.nativeElement.querySelector(".gui-drawer-content");return n?!n.contains(t.target):!1}createNestedComponent(){if(this.container){let t=this.componentFactoryResolver.resolveComponentFactory(this.dialogNestedComponent);this.container.createComponent(t),this.changeDetectorRef.detectChanges()}}static \u0275fac=function(n){return new(n||i)(f(Lt),f(oe),f(F),f(rv),f(Gn),f(At))};static \u0275cmp=z({type:i,selectors:[["ng-component"]],viewQuery:function(n,r){if(n&1&&ke(nh,5,Si),n&2){let o;xe(o=Ie())&&(r.container=o.first)}},features:[H],decls:5,vars:6,consts:[[1,"gui-drawer-wrapper",3,"click"],[1,"gui-drawer-content"],[3,"click"],["container",""]],template:function(n,r){n&1&&(C(0,"div",0),Y("click",function(a){return r.clickOutside(a)},!1,ed),C(1,"div",1)(2,"gui-close-icon",2),Y("click",function(){return r.closeDrawer()}),x(),Q(3,CW,0,0,"ng-template",null,3,_t),x()()),n&2&&(It("max-width",r.width),Me("gui-drawer-fixed",r.isFixed)("gui-drawer-visible",r.visible))},dependencies:[WI],styles:[`.gui-drawer-wrapper{display:-ms-flexbox;display:flex;font-family:Arial;height:100%;width:auto;position:absolute;padding-left:50px;right:0;top:0;overflow:hidden;z-index:1000}.gui-drawer-wrapper .gui-drawer-content{background-color:#fff;height:100%;position:relative;margin-left:auto;-ms-transform:translateX(100%);transform:translate(100%);transition:all .3s ease-in-out}.gui-drawer-wrapper.gui-drawer-visible .gui-drawer-content{-ms-transform:translateX(0);transform:translate(0);box-shadow:-6px 0 16px -8px #00000014,-9px 0 28px #0000000d,-12px 0 48px 16px #00000008}.gui-drawer-wrapper.gui-drawer-fixed{position:fixed;height:100vh}
`,`.gui-dark .gui-drawer-wrapper .gui-drawer-content{background:#424242;box-shadow:0 1px 2px #424242;color:#bdbdbd}
`],encapsulation:2,changeDetection:0})}return i})(),GI=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),Sl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[rv],imports:[ue,GI]})}return i})(),FI=class{container;menu;windowSize;containerHeight=0;containerWidth=0;availableBottomSpace=0;availableTopSpace=0;constructor(e,t,n){this.container=e,this.menu=t,this.windowSize=n,this.calculate(this.menu,this.windowSize)}getContainerHeight(){return this.containerHeight}getContainerWidth(){return this.containerWidth}canOpenDownward(){return this.availableBottomSpace>0}canOpenUpward(){return this.availableTopSpace>0}calculate(e,t){let n=this.container.nativeElement,r=e.nativeElement.offsetHeight,o=n.getBoundingClientRect().bottom;this.containerHeight=n.offsetHeight,this.containerWidth=n.offsetWidth,this.availableBottomSpace=t-o-r,this.availableTopSpace=o-r-this.containerHeight}},W2=(()=>{class i{geometryResults$=new ut;watchGeometry(){return this.geometryResults$.asObservable()}changeGeometry(t,n,r){let o=new FI(t,n,r);this.geometryResults$.next(o)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),Ca=function(i){return i[i.Right=0]="Right",i[i.Left=1]="Left",i}(Ca||{}),nN=(()=>{class i extends So{platformId;elementRef;renderer;changeDetectorRef;geometryService;dropdownMenuRef;containerRef;onResize(){en(this.platformId)&&(this.windowSize=window.innerHeight)}disabled=!1;dropdownText="Dropdown";isArrowEnabled=!0;placement;width=120;showOnHover=!1;containerWidth=0;containerHeight=0;windowSize=0;horizontalPosition=0;bottomPosition=0;topPosition=0;arrowDirection=wo.BOTTOM;canOpenDownward=!1;canOpenUpward=!1;open=!1;topBorderWidth=1;constructor(t,n,r,o,a){super(),this.platformId=t,this.elementRef=n,this.renderer=r,this.changeDetectorRef=o,this.geometryService=a,this.onResize()}ngOnChanges(t){t.placement&&this.changePlacement()}ngOnInit(){this.geometryService.watchGeometry().pipe(We(this.unsubscribe$)).subscribe(t=>{this.containerHeight=t.getContainerHeight(),this.containerWidth=t.getContainerWidth(),this.canOpenUpward=t.canOpenUpward(),this.canOpenDownward=t.canOpenDownward()})}tryToOpen(t){this.isContainerDisabled(t)?t.stopPropagation():(this.openMenu(!this.open),this.changeDetectorRef.detectChanges())}tryToOpenOnHover(){this.showOnHover&&(this.openMenu(!this.open),this.changeDetectorRef.detectChanges())}hideOnHover(){this.showOnHover&&(this.hideItems(),this.open=!1)}clickOutside(t){this.isContainerClicked(t)&&this.openMenu(!1)}isDirectionLeft(){return this.isArrowEnabled&&this.arrowDirection===wo.LEFT}openMenu(t){this.open=t,this.open?this.showItems():this.hideItems()}showItems(){this.containerRef&&this.dropdownMenuRef&&(this.addClass(this.elementRef.nativeElement,"gui-menu-opened"),this.geometryService.changeGeometry(this.containerRef,this.dropdownMenuRef,this.windowSize),this.canOpenDownward||!this.canOpenUpward?this.openDownward():this.openUpward(),this.placement===Ca.Right&&this.openRight(),this.placement===Ca.Left&&this.openLeft())}openDownward(){this.topPosition=null,this.bottomPosition=this.containerHeight}openUpward(){this.bottomPosition=null,this.topPosition=this.containerHeight}openRight(){this.bottomPosition=-this.topBorderWidth,this.topPosition=null,this.horizontalPosition=this.containerWidth}openLeft(){this.bottomPosition=-this.topBorderWidth,this.topPosition=null,this.horizontalPosition=-(this.containerWidth+1)}changePlacement(){if(this.dropdownMenuRef)switch(this.placement){case Ca.Right:{this.removeClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-left"),this.addClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-right"),this.arrowDirection=wo.RIGHT;break}case Ca.Left:{this.removeClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-right"),this.addClass(this.dropdownMenuRef.nativeElement,"gui-dropdown-left"),this.arrowDirection=wo.LEFT;break}default:break}}hideItems(){this.elementRef.nativeElement.classList.contains("gui-menu-opened")&&this.removeClass(this.elementRef.nativeElement,"gui-menu-opened")}isContainerClicked(t){return!this.elementRef.nativeElement.contains(t.target)}isContainerDisabled(t){return t.target.classList.contains("gui-disabled")}addClass(t,n){this.renderer.addClass(t,n)}removeClass(t,n){this.renderer.removeClass(t,n)}static \u0275fac=function(n){return new(n||i)(f(Bt),f(F),f(At),f(oe),f(W2))};static \u0275cmp=z({type:i,selectors:[["gui-dropdown"]],viewQuery:function(n,r){if(n&1&&(ke(wW,7,F),ke(nh,7,F)),n&2){let o;xe(o=Ie())&&(r.dropdownMenuRef=o.first),xe(o=Ie())&&(r.containerRef=o.first)}},hostVars:2,hostBindings:function(n,r){n&1&&Y("resize",function(){return r.onResize()},!1,Cg),n&2&&Me("gui-dropdown",!0)},inputs:{disabled:"disabled",dropdownText:"dropdownText",isArrowEnabled:"isArrowEnabled",placement:"placement",width:"width",showOnHover:"showOnHover"},features:[pt([W2]),H,le],ngContentSelectors:Eo,decls:8,vars:14,consts:[[1,"gui-dropdown-container",3,"click","mouseenter","mouseleave"],["container",""],[1,"gui-dropdown-text"],[3,"gui-dropdown-arrow",4,"ngIf"],[1,"gui-dropdown-menu"],["dropdownMenu",""],[3,"direction"]],template:function(n,r){n&1&&(Wi(),C(0,"div",0,1),Y("click",function(a){return r.tryToOpen(a)})("click",function(a){return r.clickOutside(a)},!1,ed)("mouseenter",function(){return r.tryToOpenOnHover()})("mouseleave",function(){return r.hideOnHover()}),C(2,"div",2),j(3),x(),Q(4,xW,2,3,"div",3),C(5,"div",4,5),Gi(7),x()()),n&2&&(It("width",r.width,"px"),Me("gui-arrow-left",r.isDirectionLeft())("gui-disabled",r.disabled),y(3),ht(r.dropdownText),y(1),_("ngIf",r.isArrowEnabled),y(1),It("bottom",r.topPosition,"px")("left",r.horizontalPosition,"px")("top",r.bottomPosition,"px"))},dependencies:[Ft,iv],styles:[`.gui-dropdown .gui-dropdown-container{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;border-color:#d6d6d6;border-radius:4px;border-style:solid;border-width:1px;box-sizing:border-box;color:#333;cursor:pointer;display:inline-block;font:14px Arial;padding:8px 12px;position:relative;width:auto}.gui-dropdown .gui-dropdown-container:hover{border-color:#999}.gui-dropdown .gui-dropdown-container:hover .gui-arrow-icon svg path{stroke:#464646}.gui-dropdown .gui-dropdown-container .gui-dropdown-arrow{cursor:pointer;position:absolute;right:12px;top:8px}.gui-dropdown .gui-dropdown-container .gui-dropdown-right.gui-dropdown-menu,.gui-dropdown .gui-dropdown-container .gui-dropdown-left.gui-dropdown-menu{margin:0}.gui-dropdown .gui-dropdown-container .gui-dropdown-menu{background:inherit;border-color:#d6d6d6;border-radius:4px;border-style:solid;border-width:1px;box-sizing:border-box;display:none;left:-1px;overflow:hidden;position:absolute;width:inherit;z-index:2}.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item{list-style-type:none;padding:8px 12px;width:inherit}.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover{background:#cccccc}.gui-dropdown .gui-dropdown-container.gui-arrow-left{padding:8px 12px 8px 32px}.gui-dropdown .gui-dropdown-container.gui-arrow-left .gui-dropdown-arrow{left:12px;right:initial}.gui-dropdown.gui-menu-opened .gui-dropdown-container{border-color:#999}.gui-dropdown.gui-menu-opened .gui-dropdown-menu{display:block}.gui-dropdown .gui-disabled{color:#ccc;pointer-events:none}
`,`.gui-material .gui-dropdown .gui-dropdown-container{font-family:Roboto,Helvetica Neue,sans-serif}
`,`.gui-dark .gui-dropdown .gui-dropdown-container{background:#424242;border-color:#616161;color:#bdbdbd}.gui-dark .gui-dropdown .gui-dropdown-container:hover{border-color:#ce93d8}.gui-dark .gui-dropdown .gui-dropdown-container:hover .gui-dropdown-arrow svg path{stroke:#ce93d8}.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu{border-color:#616161}.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item{border-top-color:#757575}.gui-dark .gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover{background:#616161}.gui-dark .gui-dropdown.gui-options-opened .gui-dropdown-container{border-color:#ce93d8}.gui-dark .gui-dropdown .gui-disabled{opacity:.36}
`],encapsulation:2,changeDetection:0})}return i})(),rN=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-dropdown-item"]],ngContentSelectors:Eo,decls:2,vars:0,consts:[[1,"gui-item"]],template:function(n,r){n&1&&(Wi(),C(0,"div",0),Gi(1),x())},encapsulation:2,changeDetection:0})}return i})(),Tl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,UI]})}return i})(),Ia=(()=>{class i extends ch{constructor(t,n,r,o){super(t,n,r,o)}getComponent(){return t9}open(t){if(this.isComponentCreated())return;let n=st.FABRIC,r=this.getInjector();t&&t.theme&&(n=t.theme),t&&t.injector&&(r=t.injector);let o=Pe.create({providers:[{provide:Ll,useValue:n}],parent:r});this.createAndAppend({afterCompCreation:()=>this.afterComponentCreation(t),injector:o}),this.closeOnEscKey()}close(){if(this.isComponentCreated()){let t=this.getComponentRef();t.instance.visible=!1,t.instance.detectChanges(),Nn(400).pipe(We(this.unsubscribe$)).subscribe(()=>{this.removeComponent()})}}closeOnEscKey(){this.onCloseOnEsc().subscribe(()=>this.close())}afterComponentCreation(t){if(this.isComponentCreated()){let n=this.getComponentRef();n.instance.dialogNestedComponent=t.component,t?.width&&(n.instance.width=t.width),t?.height&&(n.instance.height=t.height),n.instance.setTransformOrigin(event)}}static \u0275fac=function(n){return new(n||i)(M(Lt),M(Ci),M(Pe),M(ot))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),t9=(()=>{class i extends ah{componentFactoryResolver;changeDetectorRef;elRef;platformId;dialogService;container;dialogNestedComponent;visible=!1;width="400px";height="90vh";triggerPosition="";constructor(t,n,r,o,a,l,d){super(r,l,a),this.componentFactoryResolver=t,this.changeDetectorRef=n,this.elRef=r,this.platformId=o,this.dialogService=d}ngAfterViewInit(){super.ngAfterViewInit(),this.createNestedComponent(),Nn(0).pipe(We(this.unsubscribe$)).subscribe(()=>{this.visible=!0,this.detectChanges()})}detectChanges(){this.changeDetectorRef.detectChanges()}closeDialog(){this.dialogService.close()}clickOutside(t){this.isContainerClicked(t)&&this.dialogService.close()}setTransformOrigin(t){if(en(this.platformId)&&t){let n=t.clientX-window.innerWidth/2,r=t.clientY-window.innerHeight/2;this.triggerPosition=`${n}px ${r}px`}}isContainerClicked(t){let n=this.elRef.nativeElement.querySelector(".gui-dialog-content");return n?!n.contains(t.target):!1}createNestedComponent(){if(this.dialogNestedComponent&&this.container){let t=this.componentFactoryResolver.resolveComponentFactory(this.dialogNestedComponent);this.container.createComponent(t),this.detectChanges()}}static \u0275fac=function(n){return new(n||i)(f(Lt),f(oe),f(F),f(Bt),f(Gn),f(At),f(Ln(()=>Ia)))};static \u0275cmp=z({type:i,selectors:[["gui-fabric-dialog"]],viewQuery:function(n,r){if(n&1&&ke(nh,5,Si),n&2){let o;xe(o=Ie())&&(r.container=o.first)}},hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-fabric-dialog",!0)},features:[H],decls:6,vars:8,consts:[[1,"gui-dialog-blanket"],[1,"gui-dialog-wrapper",3,"click"],[1,"gui-dialog-content"],["container",""],[3,"click"]],template:function(n,r){n&1&&(R(0,"div",0),C(1,"div",1),Y("click",function(a){return r.clickOutside(a)}),C(2,"div",2),Q(3,IW,0,0,"ng-template",null,3,_t),C(5,"gui-close-icon",4),Y("click",function(){return r.closeDialog()}),x()()()),n&2&&(y(2),It("max-height",r.height)("max-width",r.width)("transform-origin",r.triggerPosition),Me("gui-dialog-visible",r.visible))},dependencies:[WI],styles:[`.gui-box-border{box-sizing:border-box}.gui-bg-transparent{background-color:transparent}.gui-border{border-width:1px}.gui-border-0{border-width:0}.gui-border-b{border-bottom-width:1px}.gui-border-t{border-top-width:1px}.gui-border-solid{border-style:solid}.gui-border-b-solid{border-bottom-style:solid}.gui-border-t-solid{border-top-style:solid}.gui-border-none{border-style:none}.gui-rounded{border-radius:4px}.gui-cursor-pointer{cursor:pointer}.gui-block{display:block}.gui-inline-block{display:inline-block}.gui-inline{display:inline}.gui-flex{display:-ms-flexbox;display:flex}.gui-hidden{display:none}.gui-display-grid{display:grid}.gui-flex-row{-ms-flex-direction:row;flex-direction:row}.gui-flex-row-reverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.gui-flex-col{-ms-flex-direction:column;flex-direction:column}.gui-flex-col-reverse{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.gui-justify-start{-ms-flex-pack:start;justify-content:flex-start}.gui-justify-end{-ms-flex-pack:end;justify-content:flex-end}.gui-justify-center{-ms-flex-pack:center;justify-content:center}.gui-justify-between{-ms-flex-pack:justify;justify-content:space-between}.gui-justify-around{-ms-flex-pack:distribute;justify-content:space-around}.gui-justify-evenly{-ms-flex-pack:space-evenly;justify-content:space-evenly}.gui-items-start{-ms-flex-align:start;align-items:flex-start}.gui-items-end{-ms-flex-align:end;align-items:flex-end}.gui-items-center{-ms-flex-align:center;align-items:center}.gui-items-between{-ms-flex-align:space-between;align-items:space-between}.gui-items-around{-ms-flex-align:space-around;align-items:space-around}.gui-items-evenly{-ms-flex-align:space-evenly;align-items:space-evenly}.gui-flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.gui-flex-wrap-reverse{-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse}.gui-flex-nowrap{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.gui-grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.gui-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.gui-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.gui-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.gui-grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.gui-grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.gui-grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.gui-grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.gui-grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.gui-grid-rows-1{grid-template-rows:repeat(1,minmax(0,1fr))}.gui-grid-rows-2{grid-template-rows:repeat(2,minmax(0,1fr))}.gui-grid-rows-3{grid-template-rows:repeat(3,minmax(0,1fr))}.gui-grid-rows-4{grid-template-rows:repeat(4,minmax(0,1fr))}.gui-grid-rows-5{grid-template-rows:repeat(5,minmax(0,1fr))}.gui-grid-rows-6{grid-template-rows:repeat(6,minmax(0,1fr))}.gui-grid-rows-7{grid-template-rows:repeat(7,minmax(0,1fr))}.gui-grid-rows-8{grid-template-rows:repeat(8,minmax(0,1fr))}.gui-grid-rows-9{grid-template-rows:repeat(9,minmax(0,1fr))}.gui-grid-rows-gap-0{grid-row-gap:0}.gui-grid-rows-gap-1{grid-row-gap:1px}.gui-grid-rows-gap-2{grid-row-gap:2px}.gui-grid-rows-gap-3{grid-row-gap:3px}.gui-grid-rows-gap-4{grid-row-gap:4px}.gui-grid-rows-gap-5{grid-row-gap:6px}.gui-grid-rows-gap-6{grid-row-gap:8px}.gui-grid-rows-gap-7{grid-row-gap:10px}.gui-grid-rows-gap-8{grid-row-gap:12px}.gui-grid-rows-gap-10{grid-row-gap:16px}.gui-grid-rows-gap-13{grid-row-gap:22px}.gui-grid-rows-gap-23{grid-row-gap:42px}.gui-grid-cols-gap-0{grid-column-gap:0}.gui-grid-cols-gap-1{grid-column-gap:1px}.gui-grid-cols-gap-2{grid-column-gap:2px}.gui-grid-cols-gap-3{grid-column-gap:3px}.gui-grid-cols-gap-4{grid-column-gap:4px}.gui-grid-cols-gap-5{grid-column-gap:6px}.gui-grid-cols-gap-6{grid-column-gap:8px}.gui-grid-cols-gap-7{grid-column-gap:10px}.gui-grid-cols-gap-8{grid-column-gap:12px}.gui-grid-cols-gap-10{grid-column-gap:16px}.gui-grid-cols-gap-13{grid-column-gap:22px}.gui-grid-cols-gap-23{grid-column-gap:42px}.gui-h-full{height:100%}.gui-list-none{list-style-type:none}.gui-m-0{margin:0}.gui-mx-0{margin-left:0;margin-right:0}.gui-my-0{margin-bottom:0;margin-top:0}.-gui-m-0{margin:0}.-gui-mx-0{margin-left:0;margin-right:0}.-gui-my-0{margin-bottom:0;margin-top:0}.gui-m-1{margin:1px}.gui-mx-1{margin-left:1px;margin-right:1px}.gui-my-1{margin-bottom:1px;margin-top:1px}.-gui-m-1{margin:-1px}.-gui-mx-1{margin-left:-1px;margin-right:-1px}.-gui-my-1{margin-bottom:-1px;margin-top:-1px}.gui-m-2{margin:2px}.gui-mx-2{margin-left:2px;margin-right:2px}.gui-my-2{margin-bottom:2px;margin-top:2px}.-gui-m-2{margin:-2px}.-gui-mx-2{margin-left:-2px;margin-right:-2px}.-gui-my-2{margin-bottom:-2px;margin-top:-2px}.gui-m-3{margin:3px}.gui-mx-3{margin-left:3px;margin-right:3px}.gui-my-3{margin-bottom:3px;margin-top:3px}.-gui-m-3{margin:-3px}.-gui-mx-3{margin-left:-3px;margin-right:-3px}.-gui-my-3{margin-bottom:-3px;margin-top:-3px}.gui-m-4{margin:4px}.gui-mx-4{margin-left:4px;margin-right:4px}.gui-my-4{margin-bottom:4px;margin-top:4px}.-gui-m-4{margin:-4px}.-gui-mx-4{margin-left:-4px;margin-right:-4px}.-gui-my-4{margin-bottom:-4px;margin-top:-4px}.gui-m-5{margin:6px}.gui-mx-5{margin-left:6px;margin-right:6px}.gui-my-5{margin-bottom:6px;margin-top:6px}.-gui-m-5{margin:-6px}.-gui-mx-5{margin-left:-6px;margin-right:-6px}.-gui-my-5{margin-bottom:-6px;margin-top:-6px}.gui-m-6{margin:8px}.gui-mx-6{margin-left:8px;margin-right:8px}.gui-my-6{margin-bottom:8px;margin-top:8px}.-gui-m-6{margin:-8px}.-gui-mx-6{margin-left:-8px;margin-right:-8px}.-gui-my-6{margin-bottom:-8px;margin-top:-8px}.gui-m-7{margin:10px}.gui-mx-7{margin-left:10px;margin-right:10px}.gui-my-7{margin-bottom:10px;margin-top:10px}.-gui-m-7{margin:-10px}.-gui-mx-7{margin-left:-10px;margin-right:-10px}.-gui-my-7{margin-bottom:-10px;margin-top:-10px}.gui-m-8{margin:12px}.gui-mx-8{margin-left:12px;margin-right:12px}.gui-my-8{margin-bottom:12px;margin-top:12px}.-gui-m-8{margin:-12px}.-gui-mx-8{margin-left:-12px;margin-right:-12px}.-gui-my-8{margin-bottom:-12px;margin-top:-12px}.gui-m-10{margin:16px}.gui-mx-10{margin-left:16px;margin-right:16px}.gui-my-10{margin-bottom:16px;margin-top:16px}.-gui-m-10{margin:-16px}.-gui-mx-10{margin-left:-16px;margin-right:-16px}.-gui-my-10{margin-bottom:-16px;margin-top:-16px}.gui-m-13{margin:22px}.gui-mx-13{margin-left:22px;margin-right:22px}.gui-my-13{margin-bottom:22px;margin-top:22px}.-gui-m-13{margin:-22px}.-gui-mx-13{margin-left:-22px;margin-right:-22px}.-gui-my-13{margin-bottom:-22px;margin-top:-22px}.gui-m-23{margin:42px}.gui-mx-23{margin-left:42px;margin-right:42px}.gui-my-23{margin-bottom:42px;margin-top:42px}.-gui-m-23{margin:-42px}.-gui-mx-23{margin-left:-42px;margin-right:-42px}.-gui-my-23{margin-bottom:-42px;margin-top:-42px}.gui-mb-4{margin-bottom:4px}.gui-mb-6{margin-bottom:8px}.gui-mb-8{margin-bottom:12px}.gui-mb-10{margin-bottom:16px}.gui-mb-18{margin-bottom:32px}.gui-mr-0{margin-right:0}.gui-mr-5{margin-right:6px}.gui-mr-auto{margin-right:auto}.gui-ml-auto{margin-left:auto}.gui-ml-6{margin-left:8px}.gui-mt-0{margin-top:0}.gui-mt-4{margin-top:4px}.gui-mt-6{margin-top:8px}.gui-mt-10{margin-top:16px}.gui-mt-14{margin-top:24px}.gui-overflow-hidden{overflow:hidden}.gui-overflow-y-scroll{overflow-y:scroll}.gui-overflow-x-hidden{overflow-x:hidden}.gui-overflow-auto{overflow:auto}.gui-p-0{padding:0}.gui-px-0{padding-left:0;padding-right:0}.gui-py-0{padding-bottom:0;padding-top:0}.gui-p-1{padding:1px}.gui-px-1{padding-left:1px;padding-right:1px}.gui-py-1{padding-bottom:1px;padding-top:1px}.gui-p-2{padding:2px}.gui-px-2{padding-left:2px;padding-right:2px}.gui-py-2{padding-bottom:2px;padding-top:2px}.gui-p-3{padding:3px}.gui-px-3{padding-left:3px;padding-right:3px}.gui-py-3{padding-bottom:3px;padding-top:3px}.gui-p-4{padding:4px}.gui-px-4{padding-left:4px;padding-right:4px}.gui-py-4{padding-bottom:4px;padding-top:4px}.gui-p-5{padding:6px}.gui-px-5{padding-left:6px;padding-right:6px}.gui-py-5{padding-bottom:6px;padding-top:6px}.gui-p-6{padding:8px}.gui-px-6{padding-left:8px;padding-right:8px}.gui-py-6{padding-bottom:8px;padding-top:8px}.gui-p-7{padding:10px}.gui-px-7{padding-left:10px;padding-right:10px}.gui-py-7{padding-bottom:10px;padding-top:10px}.gui-p-8{padding:12px}.gui-px-8{padding-left:12px;padding-right:12px}.gui-py-8{padding-bottom:12px;padding-top:12px}.gui-p-10{padding:16px}.gui-px-10{padding-left:16px;padding-right:16px}.gui-py-10{padding-bottom:16px;padding-top:16px}.gui-p-13{padding:22px}.gui-px-13{padding-left:22px;padding-right:22px}.gui-py-13{padding-bottom:22px;padding-top:22px}.gui-p-23{padding:42px}.gui-px-23{padding-left:42px;padding-right:42px}.gui-py-23{padding-bottom:42px;padding-top:42px}.gui-pr-10{padding-right:16px}.gui-pl-9{padding-right:10px}.gui-pb-6{padding-bottom:8px}.gui-pb-12{padding-bottom:20px}.gui-pl-21{padding-left:38px}.gui-pt-4{padding-top:4px}.gui-pt-6{padding-top:8px}.gui-pt-10{padding-top:16px}.gui-pt-12{padding-top:20px}.gui-pt-14{padding-top:24px}.gui-static{position:static}.gui-fixed{position:fixed}.gui-relative{position:relative}.gui-absolute{position:absolute}.gui-text-xxs{font-size:11px}.gui-text-xs{font-size:12px}.gui-text-sm{font-size:13px}.gui-text-base{font-size:14px}.gui-text-lg{font-size:16px}.gui-text-xl{font-size:18px}.gui-text-2xl{font-size:20px}.gui-text-3xl{font-size:22px}.gui-leading-4{line-height:16px}.gui-leading-6{line-height:24px}.gui-font-thin{font-weight:100}.gui-font-extralight{font-weight:200}.gui-font-light{font-weight:300}.gui-font-normal{font-weight:400}.gui-font-medium{font-weight:500}.gui-font-semibold{font-weight:600}.gui-font-bold{font-weight:700}.gui-font-extrabold{font-weight:800}.gui-font-black{font-weight:900}.gui-italic{font-style:italic}.gui-not-italic{font-style:normal}.gui-whitespace-nowrap{white-space:nowrap}.gui-overflow-ellipsis{text-overflow:ellipsis}.gui-no-underline{text-decoration:none}.gui-text-center{text-align:center}.gui-w-full{width:100%}.gui-w-96{width:384px}.gui-w-3\\/5{width:60%}.gui-fabric-dialog *,.gui-fabric-dialog *:after,.gui-fabric-dialog *:before{box-sizing:border-box}.gui-fabric-dialog input{font-size:13px;outline:0}.gui-dialog-blanket{background:rgba(0,0,0,.32);height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:1000}.gui-dialog-wrapper{font-family:Arial;height:100%;width:100%;position:fixed;pointer-events:auto;left:0;top:0;z-index:1000}.gui-dialog-content{background-color:#fff;border-radius:4px;box-shadow:0 3px 7px #999;padding:24px 16px;position:fixed;left:50%;top:50%;transform:scale3d(0,0,0) translate(-50%) translateY(-50%);opacity:0;transition:all .4s;overflow:auto;z-index:1000}.gui-dialog-content.gui-dialog-visible{transform:scaleZ(1) translate(-50%) translateY(-50%);opacity:1}
`,`.gui-dark .gui-dialog-wrapper .gui-dialog-content{background:#424242;box-shadow:0 1px 2px #424242;color:#bdbdbd}.gui-dark .gui-dialog-wrapper .gui-dialog-content .gui-dialog-close:before,.gui-dark .gui-dialog-wrapper .gui-dialog-content .gui-dialog-close:after{background:#bdbdbd}
`],encapsulation:2,changeDetection:0})}return i})(),i9=(()=>{class i{theme$=new ut;onTheme(){return this.theme$.asObservable()}nextTheme(t){this.theme$.next(this.toTheme(t))}toTheme(t){switch(t.toLowerCase()){case"fabric":return st.FABRIC;case"material":return st.MATERIAL;case"generic":return st.GENERIC;case"light":return st.LIGHT;case"dark":return st.DARK;default:return st.FABRIC}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),Ml=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[Ia,i9],imports:[ue,GI]})}return i})();var kl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),n9=(()=>{class i{elementRef;renderer;width=5;diameter=90;primary=!1;secondary=!1;r=0;circumference=0;croppedCircle=0;circleSize=0;constructor(t,n){this.elementRef=t,this.renderer=n}ngOnChanges(t){this.calculateCircle(),t.primary&&(this.primary?this.addClass("gui-primary"):this.removeClass("gui-primary")),t.secondary&&(this.secondary?this.addClass("gui-secondary"):this.removeClass("gui-secondary"))}ngOnInit(){this.calculateCircle()}calculateCircle(){this.circumference=this.calculateCircumference(this.diameter),this.r=this.calculateR(this.diameter),this.croppedCircle=this.calculateDashes(this.circumference),this.circleSize=this.calculateSize(this.diameter,this.width)}calculateCircumference(t){return t*Math.PI}calculateR(t){return t/2}calculateDashes(t){return t*.25}calculateSize(t,n){return t+n}addClass(t){this.renderer.addClass(this.elementRef.nativeElement,t)}removeClass(t){this.renderer.removeClass(this.elementRef.nativeElement,t)}static \u0275fac=function(n){return new(n||i)(f(F),f(At))};static \u0275dir=ne({type:i,inputs:{width:"width",diameter:"diameter",primary:"primary",secondary:"secondary"},features:[le]})}return i})();var Al=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),oN=(()=>{class i{elementRef;renderer;name="";checked=!1;disabled=!1;changed=new J;constructor(t,n){this.elementRef=t,this.renderer=n}ngOnChanges(){this.disabled?this.renderer.addClass(this.elementRef.nativeElement,"gui-disabled"):this.renderer.removeClass(this.elementRef.nativeElement,"gui-disabled")}check(){this.checked=!0,this.changed.emit(this.checked)}static \u0275fac=function(n){return new(n||i)(f(F),f(At))};static \u0275cmp=z({type:i,selectors:[["gui-radio-button"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-radio-button",!0)},inputs:{name:"name",checked:"checked",disabled:"disabled"},outputs:{changed:"changed"},features:[le],ngContentSelectors:Eo,decls:4,vars:3,consts:[["type","radio",3,"checked","disabled","click"],[1,"gui-radio-checkmark"]],template:function(n,r){n&1&&(Wi(),C(0,"label")(1,"input",0),Y("click",function(){return r.check()}),x(),R(2,"span",1),Gi(3),x()),n&2&&(y(1),_("checked",r.checked)("disabled",r.disabled),ni("name",r.name))},styles:[`.gui-radio-button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;font:14px Arial;line-height:18px;padding-left:32px;position:relative}.gui-radio-button label{cursor:pointer}.gui-radio-button label:hover .gui-radio-checkmark{border-color:#999}.gui-radio-button input{height:0;opacity:0;position:absolute;width:0}.gui-radio-button .gui-radio-checkmark{border-color:#d6d6d6;border-radius:50%;border-style:solid;border-width:1px;box-sizing:content-box;height:16px;left:0;position:absolute;width:16px}.gui-radio-button input:checked+.gui-radio-checkmark{border-color:#999}.gui-radio-button input:focus+.gui-radio-checkmark{border-color:#6fb4e8}.gui-radio-button.gui-disabled.gui-radio-button{color:#ccc;pointer-events:none}.gui-radio-button .gui-radio-checkmark:after{content:"";display:none;position:absolute}.gui-radio-button input:checked+.gui-radio-checkmark:after{box-sizing:content-box;display:block}.gui-radio-button .gui-radio-checkmark:after{background:#333;border-radius:50%;height:16px;-ms-transform:scale(.5);transform:scale(.5);width:16px}
`,`.gui-material .gui-radio-button{font-family:Roboto,Helvetica Neue,sans-serif}
`,`.gui-dark .gui-radio-button{color:#bdbdbd}.gui-dark .gui-radio-button .gui-radio-checkmark{border-color:#878787}.gui-dark .gui-radio-button input:checked+.gui-radio-checkmark{border-color:#878787}.gui-dark .gui-radio-button input:focus+.gui-radio-checkmark{border-color:#ce93d8}.gui-dark .gui-radio-button .gui-radio-checkmark:after{background:#878787}.gui-dark .gui-radio-button.gui-disabled.gui-radio-button{opacity:.36}
`],encapsulation:2,changeDetection:0})}return i})(),Rl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})();var Fl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),on=function(i){return i[i.TOP_RIGHT=0]="TOP_RIGHT",i[i.TOP_LEFT=1]="TOP_LEFT",i[i.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",i[i.BOTTOM_LEFT=3]="BOTTOM_LEFT",i}(on||{}),r9=(()=>{class i{renderer;notificationRef;notification;onNotificationClose=new J;unsub$=new ut;constructor(t){this.renderer=t}ngOnInit(){this.notification?.timer.enabled&&Nn(this.notification.timer.duration||0).pipe(We(this.unsub$)).subscribe(()=>this.closeNotification())}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}closeNotification(){this.addCloseAnimation(),Nn(200).pipe(We(this.unsub$)).subscribe(()=>this.onNotificationClose.emit(this.notification))}addCloseAnimation(){if(this.notificationRef){let t=this.notificationRef.nativeElement;this.renderer.addClass(t,"gui-notification-active")}}isRightSide(){return this.notification?.position===on.TOP_RIGHT||this.notification?.position===on.BOTTOM_RIGHT}static \u0275fac=function(n){return new(n||i)(f(At))};static \u0275cmp=z({type:i,selectors:[["gui-notification"]],viewQuery:function(n,r){if(n&1&&ke(EW,5,F),n&2){let o;xe(o=Ie())&&(r.notificationRef=o.first)}},inputs:{notification:"notification"},outputs:{onNotificationClose:"onNotificationClose"},decls:4,vars:5,consts:[[1,"gui-notification"],["guiNotification",""],[3,"click"]],template:function(n,r){n&1&&(C(0,"div",0,1)(2,"gui-close-icon",2),Y("click",function(){return r.closeNotification()}),x(),j(3),x()),n&2&&(Me("gui-notification-right-side",r.isRightSide())("gui-notification-left-side",!r.isRightSide()),y(3),ge(" ",r.notification.description," "))},dependencies:[WI],encapsulation:2,changeDetection:0})}return i})(),PI=class{description;index;timer;position;constructor(e,t,n,r){this.description=e,this.index=t,this.timer=n,this.position=r}},sN=(()=>{class i extends ch{static DEFAULT_DURATION=4e3;fabricNotification;notificationIndex=0;unsub$=new ut;constructor(t,n,r,o){super(t,n,r,o)}ngOnDestroy(){this.removeNotificationContainer()}getComponent(){return s9}open(t,n){let r=on.TOP_RIGHT;if(n&&n.position&&(r=n.position),this.createFabricNotification(t,r,n),this.isComponentCreated())this.pushNotification(r);else{let o=st.FABRIC,a=this.getInjector();n&&n.theme&&(o=n.theme),n&&n.injector&&(a=n.injector);let l=Pe.create({providers:[{provide:Ll,useValue:o}],parent:a});this.createAndAppend({injector:l}),this.pushNotification(r)}}close(){this.removeNotificationContainer(),this.unsub$.next(),this.unsub$.complete()}removeNotificationContainer(){this.isComponentCreated()&&(this.removeComponent(),this.notificationIndex=0)}createFabricNotification(t,n,r){let o=i.DEFAULT_DURATION,a=!0;r&&r.timer&&(r.timer.duration&&(o=r.timer.duration,r.timer.extendTimer&&(o=r.timer.duration*(this.notificationIndex+1))),r.timer.enabled!==void 0&&(a=r.timer.enabled)),this.fabricNotification=new PI(t,this.notificationIndex,{duration:o,enabled:a},n),this.notificationIndex+=1}pushNotification(t){if(!this.fabricNotification||!this.isComponentCreated())return;let n=this.getComponentRef();switch(t){case on.TOP_RIGHT:n.instance.notificationsTopRight=n.instance.notificationsTopRight.concat(this.fabricNotification);break;case on.TOP_LEFT:n.instance.notificationsTopLeft=n.instance.notificationsTopLeft.concat(this.fabricNotification);break;case on.BOTTOM_RIGHT:n.instance.notificationsBottomRight=n.instance.notificationsBottomRight.concat(this.fabricNotification);break;case on.BOTTOM_LEFT:n.instance.notificationsBottomLeft=n.instance.notificationsBottomLeft.concat(this.fabricNotification);break;default:break}n.instance.detectChanges()}static \u0275fac=function(n){return new(n||i)(M(Lt),M(Ci),M(Pe),M(ot))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),o9=(()=>{class i{notifications=[];position;onNotificationClose=new J;FabricNotificationPosition=on;emitClosedNotification(t){this.onNotificationClose.emit(t)}isPosition(t){return this.position===t}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-notifications-container"]],hostVars:8,hostBindings:function(n,r){n&2&&Me("gui-notifications-top-right",r.isPosition(r.FabricNotificationPosition.TOP_RIGHT))("gui-notifications-top-left",r.isPosition(r.FabricNotificationPosition.TOP_LEFT))("gui-notifications-bottom-right",r.isPosition(r.FabricNotificationPosition.BOTTOM_RIGHT))("gui-notifications-bottom-left",r.isPosition(r.FabricNotificationPosition.BOTTOM_LEFT))},inputs:{notifications:"notifications",position:"position"},outputs:{onNotificationClose:"onNotificationClose"},decls:1,vars:1,consts:[[3,"notification","onNotificationClose",4,"ngFor","ngForOf"],[3,"notification","onNotificationClose"]],template:function(n,r){n&1&&Q(0,DW,1,1,"gui-notification",0),n&2&&_("ngForOf",r.notifications)},dependencies:[di,r9],encapsulation:2,changeDetection:0})}return i})(),s9=(()=>{class i extends ah{changeDetectorRef;notificationsService;notificationsTopRight=[];notificationsTopLeft=[];notificationsBottomRight=[];notificationsBottomLeft=[];FabricNotificationPosition=on;constructor(t,n,r,o,a,l){super(n,r,o),this.changeDetectorRef=t,this.notificationsService=l}removeNotification(t){switch(t.position){case on.TOP_RIGHT:this.notificationsTopRight=this.notificationsTopRight.filter(n=>n.index!==t.index);break;case on.TOP_LEFT:this.notificationsTopLeft=this.notificationsTopLeft.filter(n=>n.index!==t.index);break;case on.BOTTOM_RIGHT:this.notificationsBottomRight=this.notificationsBottomRight.filter(n=>n.index!==t.index);break;case on.BOTTOM_LEFT:this.notificationsBottomLeft=this.notificationsBottomLeft.filter(n=>n.index!==t.index);break;default:break}this.detectChanges(),this.checkNotificationsLength()}detectChanges(){this.changeDetectorRef.detectChanges()}checkNotificationsLength(){this.notificationsTopRight.length===0&&this.notificationsTopLeft.length===0&&this.notificationsBottomRight.length===0&&this.notificationsBottomLeft.length===0&&this.notificationsService.close()}isContainerNotEmpty(t){return t&&t.length>0}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(At),f(Gn),f(Ll),f(Ln(()=>sN)))};static \u0275cmp=z({type:i,selectors:[["ng-component"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-notifications-overlay",!0)},features:[H],decls:4,vars:4,consts:[[3,"notifications","position","onNotificationClose",4,"ngIf"],[3,"notifications","position","onNotificationClose"]],template:function(n,r){n&1&&Q(0,SW,1,2,"gui-notifications-container",0)(1,TW,1,2,"gui-notifications-container",0)(2,MW,1,2,"gui-notifications-container",0)(3,kW,1,2,"gui-notifications-container",0),n&2&&(_("ngIf",r.isContainerNotEmpty(r.notificationsTopRight)),y(1),_("ngIf",r.isContainerNotEmpty(r.notificationsTopLeft)),y(1),_("ngIf",r.isContainerNotEmpty(r.notificationsBottomRight)),y(1),_("ngIf",r.isContainerNotEmpty(r.notificationsBottomLeft)))},dependencies:[Ft,o9],styles:[`.gui-notifications-overlay{-ms-flex-align:center;align-items:center;font-family:Arial;-ms-flex-pack:center;justify-content:center;max-width:400px;position:fixed;z-index:1000}.gui-notifications-overlay gui-notifications-container{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:fixed}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-left{left:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-top-right{right:0;top:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-left{bottom:0;left:0}.gui-notifications-overlay gui-notifications-container.gui-notifications-bottom-right{bottom:0;right:0}.gui-notifications-overlay .gui-notification{background:#fff;box-shadow:0 3px 6px -4px #0000001f,0 6px 16px #00000014,0 9px 28px 8px #0000000d;display:block;margin:16px;padding:32px;position:relative}.gui-notifications-overlay .gui-notification.gui-notification-right-side{animation:loadNotificationRightSide .1s forwards}.gui-notifications-overlay .gui-notification.gui-notification-left-side{animation:loadNotificationLeftSide .1s forwards}@keyframes loadNotificationRightSide{0%{transform:translate(50%)}to{transform:translate(0)}}@keyframes loadNotificationLeftSide{0%{transform:translate(-50%)}to{transform:translate(0)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-right-side{animation:closeNotificationRightSide .2s forwards}@keyframes closeNotificationRightSide{0%{transform:translate(0)}to{transform:translate(100%)}}.gui-notifications-overlay .gui-notification.gui-notification-active.gui-notification-left-side{animation:closeNotificationLeftSide .2s forwards}@keyframes closeNotificationLeftSide{0%{transform:translate(0)}to{transform:translate(-100%)}}
`,`.gui-dark .gui-notification{background:#424242}
`,`.gui-material .gui-notification{background:#3949ab;color:#fff;font-family:Roboto,Helvetica Neue,sans-serif;font-weight:500}
`],encapsulation:2,changeDetection:0})}return i})(),G2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[sN],imports:[ue,GI]})}return i})(),aN=(()=>{class i extends ch{constructor(t,n,r,o){super(t,n,r,o)}getComponent(){return a9}open(t){this.createAndAppend({afterCompCreation:()=>this.afterCompCreation(t)})}close(){this.removeComponent()}afterCompCreation(t){if(this.isComponentCreated()){let n=this.getComponentRef();n.instance.text=t,n.instance.detectChanges()}}static \u0275fac=function(n){return new(n||i)(M(Lt),M(Ci),M(Pe),M(ot))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),a9=(()=>{class i{messageService;changeDetectorRef;text="";constructor(t,n){this.messageService=t,this.changeDetectorRef=n}detectChanges(){this.changeDetectorRef.detectChanges()}close(){this.messageService.close()}static \u0275fac=function(n){return new(n||i)(f(aN),f(oe))};static \u0275cmp=z({type:i,selectors:[["gui-message"]],decls:4,vars:1,consts:[[1,"gui-message"],[3,"click"]],template:function(n,r){n&1&&(C(0,"div",0),j(1),C(2,"button",1),Y("click",function(){return r.close()}),j(3,"X"),x()()),n&2&&(y(1),ge(" ",r.text," "))},styles:[`.gui-message{left:50%;position:fixed;top:50%}
`],encapsulation:2,changeDetection:0})}return i})(),q2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[aN],imports:[ue]})}return i})(),c9=(()=>{class i{svgRef;svg="";ngAfterViewInit(){this.svgRef&&(this.svgRef.nativeElement.innerHTML=this.svg)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-svg-template"]],viewQuery:function(n,r){if(n&1&&ke(AW,5,F),n&2){let o;xe(o=Ie())&&(r.svgRef=o.first)}},inputs:{svg:"svg"},decls:2,vars:0,consts:[["svgEl",""]],template:function(n,r){n&1&&R(0,"div",null,0)},encapsulation:2,changeDetection:0})}return i})(),cN=(()=>{class i extends So{renderer;changeDetectorRef;platformId;tabRef;tabItemRef;tabMenuList;menu=[];active="";scrollActive=!1;Direction=wo;listPosition=0;menuListWidth=0;scrollAmount=60;ACTIVE_TAB_CLASS_NAME="gui-active";constructor(t,n,r){super(),this.renderer=t,this.changeDetectorRef=n,this.platformId=r}ngAfterViewInit(){this.toggleTab(this.active),this.calculateMenuWidth(),this.showMenuArrows(),this.checkIfMenuFitsOnResize()}toggleTab(t){this.removeActive(),this.setActive(t)}isSvg(t){return typeof t=="object"}getTabName(t){return typeof t=="object"?t.name:t}scrollTabList(t){if(this.tabRef){let n=this.tabRef.nativeElement.querySelector(".gui-tab-menu-list").offsetWidth,r=this.menuListWidth-n;t&&r>this.listPosition?this.listPosition+=this.scrollAmount:!t&&this.listPosition>0&&(this.listPosition-=this.scrollAmount),this.tabRef.nativeElement.querySelector(".gui-tab-menu-list").scrollLeft=this.listPosition}}setActive(t){if(this.tabRef&&this.tabItemRef){typeof t=="object"&&(t=t.name);let n=this.tabRef.nativeElement.querySelector('[data-tab="'+t+'"]'),r=this.tabItemRef.nativeElement.querySelector('[data-tab="'+t+'"]');this.addClass(n,this.ACTIVE_TAB_CLASS_NAME),this.addClass(r,this.ACTIVE_TAB_CLASS_NAME)}}removeActive(){if(this.tabRef&&this.tabItemRef){let t=this.tabRef.nativeElement.querySelector("."+this.ACTIVE_TAB_CLASS_NAME),n=this.tabItemRef.nativeElement.querySelector("."+this.ACTIVE_TAB_CLASS_NAME);this.removeClass(t,this.ACTIVE_TAB_CLASS_NAME),this.removeClass(n,this.ACTIVE_TAB_CLASS_NAME)}}addClass(t,n){t&&this.renderer.addClass(t,n)}removeClass(t,n){t&&this.renderer.removeClass(t,n)}checkIfMenuFitsOnResize(){en(this.platformId)&&no(window,"resize").pipe(We(this.unsubscribe$)).subscribe(()=>this.showMenuArrows())}calculateMenuWidth(){this.tabMenuList&&(this.menuListWidth=0,this.tabMenuList.forEach(t=>{this.menuListWidth+=t.nativeElement.offsetWidth}))}showMenuArrows(){if(this.tabRef){let t=this.tabRef.nativeElement.querySelector(".gui-tab-menu").offsetWidth;this.scrollActive=t<this.menuListWidth,this.changeDetectorRef.detectChanges()}}static \u0275fac=function(n){return new(n||i)(f(At),f(oe),f(Bt))};static \u0275cmp=z({type:i,selectors:[["gui-tab"]],viewQuery:function(n,r){if(n&1&&(ke(RW,5,F),ke(FW,5,F),ke(PW,5,F)),n&2){let o;xe(o=Ie())&&(r.tabRef=o.first),xe(o=Ie())&&(r.tabItemRef=o.first),xe(o=Ie())&&(r.tabMenuList=o)}},hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-tab",!0)},inputs:{menu:"menu",active:"active",scrollActive:"scrollActive"},features:[H],ngContentSelectors:Eo,decls:10,vars:3,consts:[["tab",""],[1,"gui-tab-menu"],["class","scroll-button",3,"click",4,"ngIf"],[1,"gui-tab-menu-list"],["class","gui-tab-menu-item",3,"click",4,"ngFor","ngForOf"],[1,"gui-tab-content"],["tabItem",""],[1,"scroll-button",3,"click"],[3,"direction"],[1,"gui-tab-menu-item",3,"click"],["tabMenuList",""],[4,"ngIf"],[3,"svg"]],template:function(n,r){n&1&&(Wi(),C(0,"div",null,0)(2,"div",1),Q(3,OW,2,1,"div",2),C(4,"div",3),Q(5,jW,4,3,"div",4),x(),Q(6,VW,2,0,"div",2),x(),C(7,"div",5,6),Gi(9),x()()),n&2&&(y(3),_("ngIf",r.scrollActive),y(2),_("ngForOf",r.menu),y(1),_("ngIf",r.scrollActive))},dependencies:[di,Ft,iv,c9],styles:[`.gui-tab{font:14px Arial}.gui-tab .gui-tab-content{background:#fff;border-color:#d6d6d6;border-radius:0 0 4px 4px;border-style:solid;border-width:1px;padding:12px}.gui-tab .gui-tab-menu{display:-ms-flexbox;display:flex;margin-bottom:-1px}.gui-tab .gui-tab-menu .gui-tab-menu-list{border-radius:4px 4px 0 0;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap;overflow:hidden}.gui-tab .gui-tab-menu .gui-tab-menu-item{background:#fafafa;border-color:#d6d6d6;border-radius:4px 4px 0 0;border-style:solid;border-width:1px;box-sizing:border-box;cursor:pointer;display:inline-block;height:34px;margin-right:2px;padding:8px 16px;position:relative;text-align:center;white-space:nowrap}.gui-tab .gui-tab-menu .gui-tab-menu-item:nth-last-child(1){margin-right:0}.gui-tab .gui-tab-menu .gui-tab-menu-item svg{height:16px;width:16px}.gui-tab .gui-tab-menu .gui-tab-menu-item svg path{fill:#aaa}.gui-tab .gui-tab-menu .scroll-button{background:transparent;box-sizing:border-box;color:#ccc;cursor:pointer;font-weight:700;height:34px;padding:8px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-tab .gui-tab-menu .scroll-button:hover svg path{stroke:#464646}.gui-tab .gui-tab-item{display:none}.gui-tab .gui-active.gui-tab-menu-item{background:#fff;border-color:#d6d6d6 #d6d6d6 #fff #d6d6d6;border-radius:4px 4px 0 0;border-style:solid;border-width:1px;color:#2185d0}.gui-tab .gui-active.gui-tab-menu-item svg path{fill:#2185d0}.gui-tab .gui-active.gui-tab-item{display:block}
`,`.gui-material .gui-tab{font:14px Roboto,Helvetica Neue,sans-serif}
`,`.gui-dark .gui-tab{color:#bdbdbd}.gui-dark .gui-tab .gui-tab-content{background:#424242;border-color:#616161}.gui-dark .gui-tab .gui-tab-menu-item{background:#616161;border-color:transparent}.gui-dark .gui-tab .gui-active.gui-tab-menu-item{background:#424242;border-color:#616161 #616161 transparent #616161;color:#ce93d8}
`],encapsulation:2,changeDetection:0})}return i})(),lN=(()=>{class i{tab="";static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-tab-item"]],inputs:{tab:"tab"},ngContentSelectors:Eo,decls:2,vars:1,consts:[[1,"gui-tab-item"]],template:function(n,r){n&1&&(Wi(),C(0,"div",0),Gi(1),x()),n&2&&ni("data-tab",r.tab)},encapsulation:2,changeDetection:0})}return i})(),l9=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),hs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,UI,l9]})}return i})(),u9=(()=>{class i{elementRef;text="";left=0;top=0;constructor(t){this.elementRef=t}correctPosition(){this.top-=this.elementRef.nativeElement.offsetHeight}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["ng-component"]],hostVars:6,hostBindings:function(n,r){n&2&&(It("left",r.left,"px")("top",r.top,"px"),Me("gui-tooltip",!0))},decls:1,vars:1,template:function(n,r){n&1&&j(0),n&2&&ge(" ",r.text," ")},styles:[`.gui-tooltip{background:rgba(0,0,0,.8);border-radius:4px;border-style:solid;border-width:0;box-sizing:border-box;color:#fff;display:block;font:14px Arial;font-weight:400;padding:8px 12px;position:absolute;-ms-transform:translateX(-50%);transform:translate(-50%);vertical-align:middle;z-index:10}.gui-tooltip:after{border-color:#333 transparent transparent transparent;border-style:solid;border-width:5px;content:"";left:50%;margin-left:-5px;position:absolute;top:100%}
`],encapsulation:2,changeDetection:0})}return i})(),ov=(()=>{class i extends So{componentFactoryResolver;injector;elementRef;applicationRef;document;platformId;static tooltipOffset=8;text="";tooltipRef=null;tooltipTopPosition;tooltipLeftPosition;constructor(t,n,r,o,a,l){super(),this.componentFactoryResolver=t,this.injector=n,this.elementRef=r,this.applicationRef=o,this.document=a,this.platformId=l}ngOnInit(){let t=no(this.elementRef.nativeElement,"mouseenter"),n=no(this.elementRef.nativeElement,"mouseleave");t.pipe(We(this.unsubscribe$)).subscribe(()=>this.show()),n.pipe(We(this.unsubscribe$)).subscribe(()=>{this.tooltipRef&&this.hide()})}show(){let t=this.componentFactoryResolver.resolveComponentFactory(u9).create(this.injector);t.instance.text=this.text,t.changeDetectorRef.detectChanges();let n=t.hostView.rootNodes[0];this.document.body.appendChild(n),this.tooltipRef=t,this.calculateCords(),this.tooltipRef.instance.correctPosition(),this.tooltipRef.changeDetectorRef.detectChanges()}hide(){this.tooltipRef&&(this.applicationRef.detachView(this.tooltipRef.hostView),this.tooltipRef.destroy(),this.tooltipRef=null)}calculateCords(){if(this.tooltipRef){let t=this.elementRef.nativeElement,n=t.getBoundingClientRect(),r=n.bottom,o=n.left;en(this.platformId)&&(this.tooltipTopPosition=r+window.scrollY-t.offsetHeight-i.tooltipOffset,this.tooltipLeftPosition=window.scrollX+o+t.offsetWidth/2,this.tooltipTopPosition&&(this.tooltipRef.instance.top=this.tooltipTopPosition),this.tooltipLeftPosition&&(this.tooltipRef.instance.left=this.tooltipLeftPosition),this.tooltipRef.changeDetectorRef.detectChanges())}}static \u0275fac=function(n){return new(n||i)(f(Lt),f(Pe),f(F),f(Ci),f(ot),f(Bt))};static \u0275dir=ne({type:i,selectors:[["","gui-tooltip",""]],inputs:{text:["gui-tooltip","text"]},exportAs:["guiTooltip"],features:[H]})}return i})(),xa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({})}return i})(),d9=(()=>{class i{window;static BORDER_WIDTH=1;verticalPosition=0;horizontalPosition=0;canOpenUpward=!1;constructor(t,n,r){this.window=r,this.calculateCords(t,n)}getVerticalPosition(){return this.verticalPosition}getHorizontalPosition(){return this.horizontalPosition}getCanOpenUpward(){return this.canOpenUpward}calculateCords(t,n){let r=t.nativeElement.getBoundingClientRect(),o=this.window.pageYOffset+r.bottom,a=this.window.pageXOffset+r.left;this.horizontalPosition=a,this.verticalPosition=o-i.BORDER_WIDTH,this.calculateDirection(n,t)}calculateDirection(t,n){let r=this.window.innerHeight+this.window.pageYOffset,o=n.nativeElement.offsetHeight,a=t.getHeight();r-this.verticalPosition-a<0&&(this.canOpenUpward=!0,this.verticalPosition-=a+o-i.BORDER_WIDTH)}}return i})(),OI=class{selectOptionsGeometry;constructor(e){this.selectOptionsGeometry=e}getHeight(){return this.selectOptionsGeometry.nativeElement.querySelector(".gui-options-list").offsetHeight}getWidth(){return this.selectOptionsGeometry.nativeElement.querySelector(".gui-options-list").offsetWidth}},tv=(()=>{class i{platformId;selectContainerGeometry;selectOptionsCords$=new Ic(1);constructor(t){this.platformId=t}onSelectOptionsCords(){return this.selectOptionsCords$.asObservable()}setGeometry(t){this.selectContainerGeometry=new OI(t)}nextCords(t){if(en(this.platformId)&&this.selectContainerGeometry){let n=new d9(t,this.selectContainerGeometry,window);this.selectOptionsCords$.next(n)}}static \u0275fac=function(n){return new(n||i)(M(Bt))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),NI=(()=>{class i{selectedOption$=new Ic(1);onSelectedOption(){return this.selectedOption$.asObservable()}next(t){this.selectedOption$.next(t)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),h9=(()=>{class i extends ah{selectOptionsGeometryService;selectService;changeDetectorRef;optionListRef;options=[];optionsContainerLeftAttribute=0;optionsContainerTopAttribute=0;width=100;selectedOption;canOpenUpward=!1;constructor(t,n,r,o,a,l){super(o,a,l),this.selectOptionsGeometryService=t,this.selectService=n,this.changeDetectorRef=r}ngOnInit(){this.selectOptionsGeometryService.onSelectOptionsCords().pipe(We(this.unsubscribe$)).subscribe(t=>{this.optionsContainerTopAttribute=t.getVerticalPosition(),this.optionsContainerLeftAttribute=t.getHorizontalPosition(),this.canOpenUpward=t.getCanOpenUpward(),this.changeDetectorRef.detectChanges()}),this.selectService.onSelectedOption().pipe(We(this.unsubscribe$)).subscribe(t=>{this.selectedOption=t,this.changeDetectorRef.detectChanges()})}ngAfterViewInit(){super.ngAfterViewInit(),this.initOpenAnimation()}getElementRef(){return super.getElementRef()}detectChanges(){this.changeDetectorRef.detectChanges()}selectOption(t){this.selectService.next(t)}isOptionSelected(t){return this.selectedOption?.name===t.name}getOptionValue(t){return t.value?t.value:t.name}initOpenAnimation(){if(this.optionListRef){let t=this.optionListRef.nativeElement;this.getRenderer().addClass(t,"gui-options-opened")}}static \u0275fac=function(n){return new(n||i)(f(tv),f(NI),f(oe),f(F),f(At),f(Gn))};static \u0275cmp=z({type:i,selectors:[["ng-component"]],viewQuery:function(n,r){if(n&1&&ke(BW,5,F),n&2){let o;xe(o=Ie())&&(r.optionListRef=o.first)}},features:[H],decls:3,vars:9,consts:[[1,"gui-options-list"],["optionList",""],["class","gui-option",3,"gui-option-selected","width","click",4,"ngFor","ngForOf"],[1,"gui-option",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0,1),Q(2,HW,2,5,"div",2),x()),n&2&&(It("left",r.optionsContainerLeftAttribute,"px")("top",r.optionsContainerTopAttribute,"px"),Me("gui-upward",r.canOpenUpward)("gui-downward",!r.canOpenUpward),y(2),_("ngForOf",r.options))},dependencies:[di],encapsulation:2,changeDetection:0})}return i})(),Z2=(()=>{class i extends ch{selectOptionsGeometryService;constructor(t,n,r,o,a){super(n,r,o,a),this.selectOptionsGeometryService=t}getComponent(){return h9}open(t,n){this.createAndAppend({afterCompCreation:()=>this.afterCompCreation(t,n)})}closeOptions(){this.removeComponent()}afterCompCreation(t,n){if(this.isComponentCreated()){let r=this.getComponentRef();r.instance.options=t,r.instance.width=n,r.instance.detectChanges(),this.selectOptionsGeometryService.setGeometry(r.instance.getElementRef()),r.instance.detectChanges()}}static \u0275fac=function(n){return new(n||i)(M(tv),M(Lt),M(Ci),M(Pe),M(ot))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),sv=(()=>{class i extends So{selectService;selectOptionsGeometryService;selectOptionModalService;changeDetectorRef;platformId;elementRef;renderer;containerRef;options=[];placeholder="...";selected;width=100;disabled=!1;optionChanged=new J;selectedOption;containerText;scrollListenerFn;doNotEmitValues=!1;opened=!1;constructor(t,n,r,o,a,l,d){super(),this.selectService=t,this.selectOptionsGeometryService=n,this.selectOptionModalService=r,this.changeDetectorRef=o,this.platformId=a,this.elementRef=l,this.renderer=d}ngOnChanges(t){t.placeholder&&(this.containerText=this.placeholder),t.selected&&this.selected&&this.tryToSelect(this.selected)}ngOnInit(){this.selectService.onSelectedOption().pipe(We(this.unsubscribe$)).subscribe(t=>{this.emitSelectedOption(t),this.selectedOption=t,this.containerText=t.value??"",this.doNotEmitValues=!1,this.changeDetectorRef.detectChanges()}),this.selectOptionsGeometryService.onSelectOptionsCords().pipe(We(this.unsubscribe$)).subscribe(t=>{t.getCanOpenUpward()?this.openUpward():this.openDownward()})}tryToOpen(t){this.isContainerDisabled(t)?t.stopPropagation():(this.open(this.options,this.width),this.toggleOptions(!this.opened),this.changeDetectorRef.detectChanges())}clickOutside(t){this.isContainerClicked(t)&&this.toggleOptions(!1)}toggleOptions(t){this.opened=t,this.maintainOptionsListPosition(),this.opened||this.closeOptions()}isOptionSelected(t){return this.selectedOption?.name===t.name}getOptionValue(t){return t?t.value?t.value:t.name:""}open(t,n){this.containerRef&&(this.closeSelect(),this.selectOptionModalService.open(t,n),this.selectOptionsGeometryService.nextCords(this.containerRef))}tryToSelect(t){(this.selectedOption?t.name!==this.selectedOption.name:!0)&&(this.doNotEmitValues=!0,this.selectService.next(t),this.selectedOption=t,this.containerText=this.getOptionValue(t))}maintainOptionsListPosition(){en(this.platformId)&&(this.opened?this.scrollListenerFn=this.renderer.listen("window","scroll",()=>{this.containerRef&&this.selectOptionsGeometryService.nextCords(this.containerRef)}):this.scrollListenerFn&&this.scrollListenerFn())}closeSelect(){this.selectOptionModalService.closeOptions()}emitSelectedOption(t){this.doNotEmitValues||this.isOptionSelected(t)||this.optionChanged.emit(t)}openDownward(){this.addClass("gui-options-opened"),this.addClass("gui-downward"),this.removeClass("gui-upward")}openUpward(){this.addClass("gui-options-opened"),this.addClass("gui-upward"),this.removeClass("gui-downward")}closeOptions(){this.elementRef.nativeElement.classList.contains("gui-options-opened")&&(this.removeClass("gui-options-opened"),this.closeSelect())}isContainerClicked(t){return!this.elementRef.nativeElement.contains(t.target)}isContainerDisabled(t){return t.target.classList.contains("gui-disabled")}addClass(t){this.renderer.addClass(this.elementRef.nativeElement,t)}removeClass(t){this.renderer.removeClass(this.elementRef.nativeElement,t)}static \u0275fac=function(n){return new(n||i)(f(NI),f(tv),f(Z2),f(oe),f(Bt),f(F),f(At))};static \u0275cmp=z({type:i,selectors:[["gui-select"]],viewQuery:function(n,r){if(n&1&&ke(nh,5,F),n&2){let o;xe(o=Ie())&&(r.containerRef=o.first)}},hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-select",!0)},inputs:{options:"options",placeholder:"placeholder",selected:"selected",width:"width",disabled:"disabled"},outputs:{optionChanged:"optionChanged"},features:[pt([NI,tv,Z2]),H,le],decls:5,vars:5,consts:[[1,"gui-select-container",3,"click"],["container",""],[1,"gui-select-value"],[1,"gui-select-arrow"]],template:function(n,r){n&1&&(C(0,"div",0,1),Y("click",function(a){return r.tryToOpen(a)})("click",function(a){return r.clickOutside(a)},!1,ed),C(2,"div",2),j(3),x(),R(4,"span",3),x()),n&2&&(It("width",r.width,"px"),Me("gui-disabled",r.disabled),y(3),ge(" ",r.containerText," "))},styles:[`.gui-select .gui-select-container{min-height:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;border-color:#d6d6d6;border-radius:4px;border-style:solid;border-width:1px;box-sizing:content-box;color:#333;cursor:pointer;display:inline-block;font:14px Arial;padding:8px 24px 8px 12px;position:relative}.gui-select .gui-select-container:hover{border-color:#999}.gui-select .gui-select-container .gui-select-arrow{border:4px solid transparent;border-color:#595959 transparent transparent transparent;height:0;margin:8px;position:absolute;right:5px;top:5px;width:0}.gui-select.gui-options-opened .gui-select-container{border-color:#6fb4e8 #6fb4e8 transparent #6fb4e8;border-radius:4px 4px 0 0;border-width:1px}.gui-select.gui-downward .gui-options-list{border-color:#6fb4e8;border-radius:0 0 4px 4px;border-style:solid;border-top:none;border-width:1px}.gui-select.gui-downward .gui-option{border-color:#e6e6e6;border-style:solid;border-width:1px 0 0 0}.gui-select.gui-upward .gui-select-container{padding:8px 12px 8px 24px;-ms-transform:rotate(180deg);transform:rotate(180deg)}.gui-select.gui-upward .gui-select-container .gui-select-value{-ms-transform:rotate(180deg);transform:rotate(180deg)}.gui-select.gui-upward .gui-select-container .gui-select-arrow{border:4px solid transparent;border-color:transparent transparent #595959 transparent;bottom:5px;left:5px;top:auto}.gui-select.gui-upward .gui-options-list{border-color:#6fb4e8;border-radius:0 0 4px 4px;border-style:solid;border-top:none;border-width:1px}.gui-select.gui-upward .gui-option{border-color:#e6e6e6;border-style:solid;border-width:0 0 1px 0;-ms-transform:rotate(180deg);transform:rotate(180deg)}.gui-select .gui-disabled{color:#ccc;pointer-events:none}.gui-select .gui-disabled .gui-select-arrow{border-color:#cccccc transparent transparent transparent}.gui-select .initAnimationDisabled.gui-options-list{display:none}.gui-options-list{background:#fff;border-color:#6fb4e8;border-radius:0 0 4px 4px;border-style:solid;border-width:0 1px 1px 1px;overflow:hidden;padding:0;position:absolute;z-index:1000}.gui-options-list .gui-option{box-sizing:content-box;cursor:pointer;font-size:14px;list-style-type:none;padding:8px 24px 8px 12px}.gui-options-list .gui-option:hover{background:#dcdcdc}.gui-options-list .gui-option-selected{background:#e6e6e6;font-weight:700}.gui-options-list.gui-upward{animation:loadUpward .2s forwards;border-bottom:none;border-color:#6fb4e8;border-radius:4px 4px 0 0;border-style:solid;border-width:1px}@keyframes loadUpward{0%{transform:translateY(50%) scaleY(0)}to{transform:translateY(0) scaleY(1)}}.gui-options-list.gui-downward{animation:loadDownward .2s forwards;border-color:#6fb4e8;border-radius:0 0 4px 4px;border-style:solid;border-width:0 1px 1px 1px}@keyframes loadDownward{0%{transform:translateY(-50%) scaleY(0)}to{transform:translateY(0) scaleY(1)}}
`,`.gui-material .gui-select .gui-select-container,.gui-material .gui-options-list .gui-option{font-family:Roboto,Helvetica Neue,sans-serif}
`,`.gui-dark .gui-select .gui-select-container{background:#424242;border-color:#616161;color:#bdbdbd}.gui-dark .gui-select .gui-select-container:hover{border-color:#ce93d8}.gui-dark .gui-select .gui-select-container .gui-select-arrow{border-color:#ce93d8 transparent transparent transparent}.gui-dark .gui-select.gui-options-opened .gui-select-container{border-color:#ce93d8}.gui-dark .gui-select.gui-upward .gui-select-container .gui-select-arrow{border-color:transparent transparent #ce93d8 transparent}.gui-dark .gui-select .gui-disabled{opacity:.36}.gui-dark .gui-options-list{border-color:#ce93d8}.gui-dark .gui-options-list .gui-option{background:#424242;border-color:#757575;color:#bdbdbd}.gui-dark .gui-options-list .gui-option:hover{background:#616161}.gui-dark .gui-options-list .gui-option-selected{background:#757575}
`,`.gui-light .gui-select .gui-select-container{background:#fff;color:#333;font-family:Roboto,Helvetica Neue,sans-serif}.gui-light .gui-options-list .gui-option:hover{background:#f6f6f5}
`],encapsulation:2,changeDetection:0})}return i})(),Pl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})();var K2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),uN=(()=>{class i extends n9{color="";constructor(t,n){super(t,n)}ngOnInit(){super.ngOnInit()}static \u0275fac=function(n){return new(n||i)(f(F),f(At))};static \u0275cmp=z({type:i,selectors:[["gui-spinner"]],hostVars:2,hostBindings:function(n,r){n&2&&Me("gui-spinner",!0)},inputs:{color:"color"},features:[H],decls:5,vars:30,consts:[[1,"gui-spinner"],[1,"circle-outer"],["cx","50%","cy","50%"],[1,"circle-inner"]],template:function(n,r){n&1&&(C(0,"div",0),Ui(),C(1,"svg",1),R(2,"circle",2),x(),C(3,"svg",3),R(4,"circle",2),x()()),n&2&&(It("height",r.circleSize,"px")("width",r.circleSize,"px"),y(1),It("height",r.circleSize,"px")("width",r.circleSize,"px"),y(1),It("stroke-dasharray",r.croppedCircle)("stroke-dashoffset",r.circumference)("stroke-width",r.width)("stroke",r.color),ni("r",r.r),y(1),It("height",r.circleSize,"px")("width",r.circleSize,"px"),y(1),It("stroke-dasharray",r.croppedCircle)("stroke-dashoffset",r.circumference)("stroke-width",r.width)("stroke",r.color),ni("r",r.r))},styles:[`@keyframes gui-spin{0%{transform:rotate(-90deg)}to{transform:rotate(270deg)}}@keyframes gui-spin-reverse{0%{transform:rotate(-90deg) scale(.8)}to{transform:rotate(270deg) scale(.8)}}.gui-spinner{display:inline-block;margin:4px;position:relative;-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.gui-spinner circle{fill:transparent;stroke:#999}.gui-spinner svg{position:absolute}.gui-spinner .circle-inner{animation:gui-spin-reverse 2s infinite linear forwards reverse}.gui-spinner .circle-outer{animation:gui-spin 2s infinite linear forwards}.gui-primary .gui-spinner.gui-spinner circle{stroke:#2185d0}.gui-secondary .gui-spinner.gui-spinner circle{stroke:#3cb371}
`,`.gui-material .gui-spinner circle{stroke:#3949ab}.gui-material .gui-primary .gui-spinner circle{stroke:#6200ee}.gui-material .gui-secondary .gui-spinner circle{stroke:#0097a7}
`,`.gui-dark .gui-spinner circle{stroke:#424242}.gui-dark .gui-primary .gui-spinner circle{stroke:#ce93d8}.gui-dark .gui-secondary .gui-spinner circle{stroke:#80cbc4}
`],encapsulation:2,changeDetection:0})}return i})(),Ol=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})();var Nl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,Wn,Wn]})}return i})();var Y2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})();var p9=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),Q2=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,p9]})}return i})(),fs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[Gn],imports:[ue,El,Wn,Dl,$2,xo,ds,ev,Sl,Tl,Ml,wa,Rl,Fl,Q2,G2,q2,hs,xa,kl,Al,Pl,K2,Ol,Nl,Y2,Io,El,Wn,Dl,$2,xo,ds,ev,Sl,Tl,Ml,wa,Rl,Fl,Q2,G2,q2,hs,xa,kl,Al,Pl,K2,Ol,Nl,Y2,Io]})}return i})();var g9=["gui-row-detail",""],m9=["gui-paging-navigator","","paging",""],v9=["gui-paging-select","","paging",""],b9=["gui-paging-stats","","paging",""];function y9(i,e){if(i&1&&(ze(0),C(1,"span",2)(2,"span"),j(3),x(),j(4," - "),C(5,"span"),j(6),x()(),C(7,"span"),j(8),be(9,"guiTranslate"),x(),C(10,"span",3),j(11),x(),Ze()),i&2){let t=D();y(3),ht(t.firstItemIndex),y(3),ht(t.lastItemIndex),y(2),ge(" ",Se(9,4,"pagingOf")," "),y(3),ge(" ",t.sourceSize," ")}}function _9(i,e){i&1&&(C(0,"span",4),j(1),be(2,"guiTranslate"),x()),i&2&&(y(1),ge(" ",Se(2,1,"pagingNoItems")," "))}var C9=["gui-paging-alternative-navigator","","paging","","sourceSize",""],w9=["*"],x9=["gui-paging-alternative-pages","","paging",""];function I9(i,e){if(i&1){let t=Ne();C(0,"div")(1,"div",3)(2,"div",4),Y("click",function(){let o=pe(t).$implicit,a=D(2);return fe(a.goToPage(o))}),j(3),x()()()}if(i&2){let t=e.$implicit,n=D(2);y(1),Me("gui-paging-active-page",n.activePage(t))("gui-paging-visible-page",n.calculateVisiblePages(t)),y(2),ge(" ",t," ")}}function E9(i,e){if(i&1&&(ze(0),Q(1,I9,4,5,"div",2),Ze()),i&2){let t=D();y(1),_("ngForOf",t.pages)}}function D9(i,e){i&1&&(C(0,"span",5),j(1),be(2,"guiTranslate"),x()),i&2&&(y(1),ge(" ",Se(2,1,"pagingNoItems")," "))}var S9=["gui-paging","","position",""];function T9(i,e){if(i&1){let t=Ne();ze(0),C(1,"div",4),Y("pageSizeChanged",function(r){pe(t);let o=D(3);return fe(o.changePageSize(r))}),x(),R(2,"div",5),C(3,"div",6),Y("nextPageChanged",function(){pe(t);let r=D(2).$implicit,o=D();return fe(o.nextPage(r.sourceSize))})("prevPageChanged",function(){pe(t);let r=D(3);return fe(r.prevPage())}),x(),Ze()}if(i&2){let t=D(2).$implicit;y(1),_("paging",t.paging),y(1),_("paging",t.paging),y(1),_("paging",t.paging)("sourceSize",t.sourceSize)}}function M9(i,e){if(i&1){let t=Ne();R(0,"div",5),C(1,"div",6),Y("nextPageChanged",function(){pe(t);let r=D(2).$implicit,o=D();return fe(o.nextPage(r.sourceSize))})("prevPageChanged",function(){pe(t);let r=D(3);return fe(r.prevPage())}),x()}if(i&2){let t=D(2).$implicit;_("paging",t.paging),y(1),_("paging",t.paging)("sourceSize",t.sourceSize)}}function k9(i,e){if(i&1&&(ze(0),Q(1,T9,4,4,"ng-container",2)(2,M9,2,3,"ng-template",null,3,_t),Ze()),i&2){let t=sd(3),n=D(2);y(1),_("ngIf",!n.minimal)("ngIfElse",t)}}function A9(i,e){if(i&1){let t=Ne();ze(0),C(1,"div",4),Y("pageSizeChanged",function(r){pe(t);let o=D(2);return fe(o.changePageSize(r))}),x(),C(2,"div",7),Y("nextPageChanged",function(){pe(t);let r=D().$implicit,o=D();return fe(o.nextPage(r.sourceSize))})("prevPageChanged",function(){pe(t);let r=D(2);return fe(r.prevPage())}),R(3,"div",8),x(),Ze()}if(i&2){let t=D().$implicit;y(1),_("paging",t.paging),y(1),_("paging",t.paging)("sourceSize",t.sourceSize),y(1),_("paging",t.paging)("sourceSize",t.sourceSize)}}function R9(i,e){if(i&1&&(ze(0),Q(1,k9,4,2,"ng-container",1)(2,A9,4,5,"ng-container",1),Ze()),i&2){let t=e.$implicit;y(1),_("ngIf",t.isPagingVisible&&!t.alternativeDisplay),y(1),_("ngIf",t.isPagingVisible&&t.alternativeDisplay)}}var J1=["value",""];function F9(i,e){if(i&1&&R(0,"gui-percentage-view",3),i&2){let t=D();_("value",t.value)}}function P9(i,e){if(i&1&&(ze(0),R(1,"span",2),be(2,"guiSafe"),Ze()),i&2){let t=D();y(1),_("innerHTML",ra(2,1,t.value.value,"html"),ta)}}function O9(i,e){if(i&1&&(C(0,"span"),j(1),x()),i&2){let t=D();y(1),ge(" ",t.value.value," ")}}var N9=["text"],bN=["number"],L9=["chip"],j9=["link"],V9=["image"],yN=["checkbox"],B9=["bold"],H9=["italic"],z9=["custom"],$9=["function"],U9=["html"],_N=["date"],W9=["bar"],G9=["percentageBar"],q9=["percentage"];function Z9(i,e){if(i&1&&R(0,"gui-view-text",15),i&2){let t=e.element;_("value",t)}}function K9(i,e){if(i&1&&(C(0,"span",16),j(1),x()),i&2){let t=e.element;y(1),ge(" ",t.value," ")}}function Y9(i,e){if(i&1&&(C(0,"gui-chip"),R(1,"gui-view-text",15),x()),i&2){let t=e.element;y(1),_("value",t)}}function Q9(i,e){if(i&1&&(C(0,"a",17),R(1,"gui-view-text",15),x()),i&2){let t=e.element;od("href",t.value,Eg),y(1),_("value",t)}}function X9(i,e){if(i&1&&R(0,"img",18),i&2){let t=e.element;od("src",t.value,Eg)}}function J9(i,e){if(i&1&&(C(0,"span",19),R(1,"gui-checkbox",20),x()),i&2){let t=e.element;y(1),_("checked",!!t.value)("disabled",!0)}}function eG(i,e){if(i&1&&R(0,"gui-view-text",21),i&2){let t=e.element;_("value",t)}}function tG(i,e){if(i&1&&R(0,"gui-view-text",22),i&2){let t=e.element;_("value",t)}}function iG(i,e){if(i&1&&j(0),i&2){let t=e.element;ge(" ",t.value," ")}}function nG(i,e){if(i&1&&R(0,"gui-function-view",23),i&2){let t=e.element;_("element",t)}}function rG(i,e){if(i&1&&R(0,"gui-html-view",23),i&2){let t=e.element;_("element",t)}}function oG(i,e){if(i&1&&(C(0,"span",24),j(1),be(2,"date"),x()),i&2){let t=e.element;y(1),ht(ra(2,1,t.value,"dd/MM/yyyy"))}}function sG(i,e){if(i&1&&R(0,"gui-bar-view",25),i&2){let t=e.element;_("value",t.value)("showPercentage",!1)}}function aG(i,e){if(i&1&&R(0,"gui-bar-view",25),i&2){let t=e.element;_("value",t.value)("showPercentage",!0)}}function cG(i,e){if(i&1&&R(0,"gui-percentage-view",15),i&2){let t=e.element;_("value",t.value)}}var lG=["input"],uG=["datepicker"],dG=["string"],hG=["boolean"],pG=["empty"];function fG(i,e){if(i&1&&R(0,"gui-string-edit",5),i&2){let t=e.valueChanges,n=e.value,r=e.status,o=e.focus;_("valueChanges",t)("value",n)("status",r)("focus",o)}}function gG(i,e){if(i&1&&R(0,"gui-number-edit",5),i&2){let t=e.valueChanges,n=e.value,r=e.status,o=e.focus;_("valueChanges",t)("value",n)("status",r)("focus",o)}}function mG(i,e){if(i&1&&R(0,"gui-boolean-edit",5),i&2){let t=e.valueChanges,n=e.value,r=e.status,o=e.focus;_("valueChanges",t)("value",n)("status",r)("focus",o)}}function vG(i,e){if(i&1&&R(0,"gui-date-edit",6),i&2){let t=e.valueChanges,n=e.value,r=e.status,o=e.focus,a=e.parent;_("valueChanges",t)("value",n)("status",r)("focus",o)("parent",a)}}function bG(i,e){}var yG=["gui-structure-summaries-panel","","enabled",""];function _G(i,e){i&1&&R(0,"div",4)}function CG(i,e){if(i&1&&(C(0,"div",7)(1,"span",8),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(1),_("gui-tooltip",n.summariesTranslations.countTooltip),y(1),ht(Se(3,3,"summariesCount")),y(3),ht(n.summaries.get(t.getFieldId().getId()).count)}}function wG(i,e){if(i&1&&(C(0,"div",7)(1,"span",8),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(1),_("gui-tooltip",n.summariesTranslations.distinctTooltip),y(1),ht(Se(3,3,"summariesDist")),y(3),ht(n.summaries.get(t.getFieldId().getId()).distinct)}}function xG(i,e){if(i&1&&(C(0,"div",7)(1,"span"),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(2),ge(" ",Se(3,2,"summariesSum")," "),y(3),ht(n.summaries.get(t.getFieldId().getId()).sum)}}function IG(i,e){if(i&1&&(C(0,"div",7)(1,"span",8),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(1),_("gui-tooltip",n.summariesTranslations.averageTooltip),y(1),ht(Se(3,3,"summariesAvg")),y(3),ht(n.summaries.get(t.getFieldId().getId()).average)}}function EG(i,e){if(i&1&&(C(0,"div",7)(1,"span",8),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(1),_("gui-tooltip",n.summariesTranslations.minTooltip),y(1),ge(" ",Se(3,3,"summariesMin")," "),y(3),ht(n.summaries.get(t.getFieldId().getId()).min)}}function DG(i,e){if(i&1&&(C(0,"div",7)(1,"span",8),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(1),_("gui-tooltip",n.summariesTranslations.maxTooltip),y(1),ge(" ",Se(3,3,"summariesMax")," "),y(3),ht(n.summaries.get(t.getFieldId().getId()).max)}}function SG(i,e){if(i&1&&(C(0,"div",7)(1,"span",8),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(1),_("gui-tooltip",n.summariesTranslations.medTooltip),y(1),ht(Se(3,3,"summariesMed")),y(3),ht(n.summaries.get(t.getFieldId().getId()).median)}}function TG(i,e){if(i&1&&(C(0,"div",7)(1,"span"),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(2),ht(Se(3,2,"summariesTruthy")),y(3),ht(n.summaries.get(t.getFieldId().getId()).truthy)}}function MG(i,e){if(i&1&&(C(0,"div",7)(1,"span"),j(2),be(3,"guiTranslate"),x(),C(4,"span",9),j(5),x()()),i&2){let t=D(2).$implicit,n=D(2).$implicit;y(2),ht(Se(3,2,"summariesFalsy")),y(3),ht(n.summaries.get(t.getFieldId().getId()).falsy)}}function kG(i,e){if(i&1&&(ze(0),Q(1,CG,6,5,"div",6)(2,wG,6,5,"div",6)(3,xG,6,4,"div",6)(4,IG,6,5,"div",6)(5,EG,6,5,"div",6)(6,DG,6,5,"div",6)(7,SG,6,5,"div",6)(8,TG,6,4,"div",6)(9,MG,6,4,"div",6),Ze()),i&2){let t=D().$implicit,n=D(2).$implicit,r=D();y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).count)),y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).distinct)),y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).sum)),y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).average)),y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).min)),y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).max)),y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).median)),y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).truthy)),y(1),_("ngIf",r.isSummariesTypePresent(n.summaries.get(t.getFieldId().getId()).falsy))}}function AG(i,e){if(i&1&&(C(0,"div",5),Q(1,kG,10,9,"ng-container",1),x()),i&2){let t=e.$implicit,n=D(2).$implicit;It("width",t.width,"px"),y(1),_("ngIf",n.summaries&&!!n.summaries.get(t.getFieldId().getId()))}}function RG(i,e){if(i&1&&(ze(0),Q(1,_G,1,0,"div",2),be(2,"guiPush"),Q(3,AG,2,3,"div",3),be(4,"guiPush"),Ze()),i&2){let t=D(2);y(1),_("ngIf",Se(2,2,t.checkboxSelection$)),y(2),_("ngForOf",Se(4,4,t.headerColumns$))}}function FG(i,e){if(i&1&&(ze(0),Q(1,RG,5,6,"ng-container",1),Ze()),i&2){let t=e.$implicit,n=D();y(1),_("ngIf",n.enabled&&t.summaries&&!t.sourceEmpty)}}var PG=["gui-info-dialog",""],OG=["gui-structure-column-manager",""];function NG(i,e){i&1&&ia(0)}function LG(i,e){if(i&1){let t=Ne();C(0,"li",3),Y("click",function(){let o=pe(t).$implicit,a=D(2);return fe(a.toggleColumn(o))}),C(1,"gui-checkbox",4),Q(2,NG,1,0,"ng-container",5),x()()}if(i&2){let t=e.$implicit,n=D().$implicit;y(1),_("checked",t.isEnabled())("disabled",n.enabledColumnsCount===1&&t.isEnabled()),y(1),_("ngTemplateOutlet",t.viewTemplate)("ngTemplateOutletContext",t.context)}}function jG(i,e){if(i&1&&(C(0,"ol",1),Q(1,LG,3,4,"li",2),x()),i&2){let t=e.$implicit;y(1),_("ngForOf",t.columns)}}var VG=["gui-structure-dialog-column-manager",""],BG=["gui-structure-schema-manager",""];function HG(i,e){if(i&1){let t=Ne();C(0,"li",7),Y("click",function(){let o=pe(t).$implicit,a=D();return fe(a.toggleVerticalGrid(o))}),C(1,"gui-checkbox",8),j(2),be(3,"guiTranslate"),x()()}if(i&2){let t=e.$implicit;y(1),_("checked",t),y(1),ge(" ",Se(3,2,"themeManagerModalVerticalGrid")," ")}}function zG(i,e){if(i&1){let t=Ne();C(0,"li",7),Y("click",function(){let o=pe(t).$implicit,a=D();return fe(a.toggleHorizontalGrid(o))}),C(1,"gui-checkbox",8),j(2),be(3,"guiTranslate"),x()()}if(i&2){let t=e.$implicit;y(1),_("checked",t),y(1),ge(" ",Se(3,2,"themeManagerModalHorizontalGrid")," ")}}var $G=["gui-schema-manager-dialog",""],UG=["gui-structure-column-manager-icon",""],WG=["gui-structure-schema-manager-icon",""],GG=["gui-active-search",""];function qG(i,e){if(i&1){let t=Ne();ze(0),C(1,"div"),j(2," Active search by: "),x(),C(3,"div")(4,"gui-chip"),j(5),x()(),C(6,"div")(7,"button",1),Y("click",function(){pe(t);let r=D();return fe(r.clearSearch())}),j(8," Clear search "),x()(),Ze()}if(i&2){let t=e.$implicit;y(5),ht(t),y(2),_("outline",!0)("primary",!0)}}var ZG=["gui-active-filter-list",""];function KG(i,e){if(i&1){let t=Ne();C(0,"div"),j(1),C(2,"span",3),Y("click",function(){let o=pe(t).$implicit,a=D(2);return fe(a.removeFilter(o))}),j(3,"X"),x()()}if(i&2){let t=e.$implicit;y(1),ge(" ",t.getText()," ")}}function YG(i,e){if(i&1&&(ze(0),Q(1,KG,4,1,"div",2),Ze()),i&2){let t=e.$implicit;y(1),_("ngForOf",t)}}var QG=["gui-structure-info-icon",""],XG=["gui-structure-info-panel",""];function JG(i,e){if(i&1&&(ze(0),j(1),be(2,"guiTranslate"),C(3,"b"),j(4),be(5,"numberFormatter"),x(),j(6),be(7,"guiTranslate"),Ze()),i&2){let t=D(3).$implicit;y(1),ge(" ",Se(2,3,"infoPanelShowing")," "),y(3),ht(Se(5,5,t)),y(2),ge(" ",Se(7,7,"infoPanelItems")," ")}}function eq(i,e){if(i&1&&(C(0,"span",5),j(1),be(2,"guiTranslate"),C(3,"b"),j(4),be(5,"numberFormatter"),x(),j(6),be(7,"guiTranslate"),C(8,"b"),j(9),be(10,"numberFormatter"),x(),j(11),be(12,"guiTranslate"),x()),i&2){let t=D(3).$implicit,n=D().$implicit;y(1),ge(" ",Se(2,5,"infoPanelShowing")," "),y(3),ht(Se(5,7,n.preparedItemsSize)),y(2),ge(" ",Se(7,9,"infoPanelOutOf")," "),y(3),ht(Se(10,11,t)),y(2),ge(" ",Se(12,13,"infoPanelItems")," ")}}function tq(i,e){if(i&1&&(ze(0),Q(1,JG,8,9,"ng-container",3)(2,eq,13,15,"span",4),Ze()),i&2){let t=D(2).$implicit,n=D().$implicit;y(1),_("ngIf",n.preparedItemsSize===t),y(1),_("ngIf",n.preparedItemsSize!==t)}}function iq(i,e){if(i&1&&(C(0,"div"),Q(1,tq,3,2,"ng-container",3),x()),i&2){let t=D().$implicit,n=D().$implicit;y(1),_("ngIf",n.preparedItemsSize!==void 0&&t!==void 0)}}function nq(i,e){if(i&1&&(C(0,"div"),Q(1,iq,2,1,"div",3),x()),i&2){let t=D().$implicit;y(1),_("ngIf",t.infoPanelConfig.isSourceSizeEnabled())}}function rq(i,e){if(i&1){let t=Ne();C(0,"div",6),Y("click",function(){pe(t);let r=D(2);return fe(r.openSchemaManager())}),R(1,"div",7),x()}if(i&2){let t=D().$implicit;y(1),_("gui-tooltip",t.translations.infoPanelThemeMangerTooltipText)}}function oq(i,e){if(i&1){let t=Ne();C(0,"div",6),Y("click",function(){pe(t);let r=D(2);return fe(r.openColumnManager())}),R(1,"div",8),x()}if(i&2){let t=D().$implicit;y(1),_("gui-tooltip",t.translations.infoPanelColumnManagerTooltipText)}}function sq(i,e){if(i&1){let t=Ne();C(0,"div",6),Y("click",function(){pe(t);let r=D(2);return fe(r.openInfo())}),R(1,"div",9),x()}if(i&2){let t=D().$implicit;y(1),_("gui-tooltip",t.translations.infoPanelInfoTooltipText)}}function aq(i,e){if(i&1&&(ze(0),Q(1,nq,2,1,"div",0),C(2,"div")(3,"div",1),Q(4,rq,2,1,"div",2)(5,oq,2,1,"div",2)(6,sq,2,1,"div",2),x()(),Ze()),i&2){let t=e.$implicit,n=D();y(1),_("guiLet",n.totalItemsSize$),y(3),_("ngIf",t.infoPanelConfig.isSchemaManagerEnabled()),y(1),_("ngIf",t.infoPanelConfig.isColumnsManagerEnabled()),y(1),_("ngIf",t.infoPanelConfig.isInfoDialogEnabled())}}var cq=["gui-search-icon",""],lq=["formRef"],uq=["gui-search-bar",""];function dq(i,e){if(i&1){let t=Ne();C(0,"span",6),Y("click",function(){pe(t);let r=D(2);return fe(r.clear())}),x()}}function hq(i,e){if(i&1&&(ze(0),C(1,"form",1,2),R(3,"div",3)(4,"input",4),be(5,"guiPush"),Q(6,dq,1,0,"span",5),x(),Ze()),i&2){let t=D();y(1),_("formGroup",t.searchForm),y(3),_("placeholder",Se(5,3,t.placeholder$)),y(2),_("ngIf",t.searchForm.controls.searchPhrase.value)}}var pq=["gui-structure-top-panel",""],fq=["gui-empty-source","","items",""];function gq(i,e){i&1&&(ze(0),j(1),be(2,"guiTranslate"),Ze()),i&2&&(y(1),ge(" ",Se(2,1,"sourceEmpty"),`
`))}var mq=["gui-structure-menu-column-manager",""],vq=["gui-unique-value-list","","fieldId",""];function bq(i,e){if(i&1){let t=Ne();C(0,"div")(1,"gui-checkbox",6),Y("changed",function(){let o=pe(t).$implicit,a=D(2);return fe(a.toggleSelect(o))}),j(2),x()()}if(i&2){let t=e.$implicit;y(1),_("checked",t.isEnabled()),y(1),ge(" ",t.getValue()," ")}}function yq(i,e){if(i&1){let t=Ne();ze(0),C(1,"gui-checkbox",1),Y("changed",function(){pe(t);let r=D();return fe(r.toggleAllSelect())}),j(2," Select all "),x(),C(3,"div",2),Q(4,bq,3,2,"div",3),x(),C(5,"div",4)(6,"button",5),Y("click",function(){pe(t);let r=D();return fe(r.clearFilters())}),j(7," Clear "),x()(),Ze()}if(i&2){let t=e.$implicit;y(1),_("checked",t.selectAllChecked)("indeterminate",t.selectAllIndeterminate),y(3),_("ngForOf",t.uniqueValues),y(2),_("outline",!0)("primary",!0)}}var _q=["gui-structure-arrow-icon",""],Cq=["gui-structure-column-config-sort","","column","","dropdownTextTranslation",""];function wq(i,e){if(i&1){let t=Ne();C(0,"gui-dropdown",1)(1,"gui-dropdown-item",2),Y("click",function(){pe(t);let r=D();return fe(r.setSortOrder(r.status.ASC))}),C(2,"div",3),j(3),be(4,"guiTranslate"),R(5,"div",4),x()(),C(6,"gui-dropdown-item",2),Y("click",function(){pe(t);let r=D();return fe(r.setSortOrder(r.status.DESC))}),C(7,"div",3),j(8),be(9,"guiTranslate"),R(10,"div",5),x()(),C(11,"gui-dropdown-item",2),Y("click",function(){pe(t);let r=D();return fe(r.setSortOrder(r.status.NONE))}),j(12),be(13,"guiTranslate"),x()()}if(i&2){let t=D();_("dropdownText",t.dropdownTextTranslation)("placement",t.placement)("showOnHover",!0)("width",225),y(1),Me("gui-header-item-active",t.isAscSort()),y(2),ge(" ",Se(4,16,"headerMenuMainTabColumnSortAscending")," "),y(2),_("sort",!0),y(1),Me("gui-header-item-active",t.isDescSort()),y(2),ge(" ",Se(9,18,"headerMenuMainTabColumnSortDescending")," "),y(2),_("position",t.StructureArrowPosition.DOWN)("sort",!0),y(1),Me("gui-header-item-active",t.isNoneSort()),y(1),ge(" ",Se(13,20,"headerMenuMainTabColumnSortNone")," ")}}var xq=["gui-structure-column-config-column-hide",""],Iq=["gui-structure-column-config-column-move","","column",""],Eq=["headerSortMenu"],Dq=["gui-column-config",""];function Sq(i,e){if(i&1&&R(0,"div",10),i&2){let t=D(3).$implicit,n=D();_("column",n.column)("dropdownTextTranslation",t.translations.headerMenuMainTabColumnSort)}}function Tq(i,e){if(i&1){let t=Ne();ze(0),C(1,"gui-tab-item",5),Q(2,Sq,1,2,"div",6),C(3,"div",7),Y("columnHidden",function(){pe(t);let r=D(3);return fe(r.hideColumn())}),x(),C(4,"div",8),Y("click",function(){pe(t);let r=D(3);return fe(r.highlightColumn())}),j(5),be(6,"guiTranslate"),x(),C(7,"div",9),Y("movedLeft",function(){pe(t);let r=D(3);return fe(r.moveLeft())})("movedRight",function(){pe(t);let r=D(3);return fe(r.moveRight())}),x()(),Ze()}if(i&2){let t=D(2).$implicit,n=D();y(1),_("tab",t.translations.headerMenuMainTab),y(1),_("ngIf",n.column.isSortEnabled()),y(1),_("column",n.column),y(2),ge(" ",Se(6,5,"headerMenuMainTabHighlightColumn")," "),y(2),_("column",n.column)}}function Mq(i,e){if(i&1&&(ze(0),C(1,"gui-tab-item",11),R(2,"div",12),x(),Ze()),i&2){let t=D(2).$implicit,n=D();y(1),_("tab",t.translations.headerMenuFilterTab),y(1),_("fieldId",n.column.getFieldId())}}function kq(i,e){if(i&1&&(ze(0),C(1,"gui-tab-item",11),R(2,"div",13),x(),Ze()),i&2){let t=D(2).$implicit;y(1),_("tab",t.translations.headerMenuColumnsTab)}}function Aq(i,e){if(i&1&&(C(0,"div",2)(1,"gui-tab",3),Q(2,Tq,8,7,"ng-container",4)(3,Mq,3,2,"ng-container",4)(4,kq,3,1,"ng-container",4),x()()),i&2){let t=D().$implicit;y(1),_("active",t.config.getActiveMenu())("menu",t.config.getMenus()),y(1),_("ngIf",t.config.isMainEnabled()),y(1),_("ngIf",t.config.isFilteringEnabled()),y(1),_("ngIf",t.config.isColumnManagerEnabled())}}function Rq(i,e){if(i&1&&(ze(0),Q(1,Aq,5,5,"div",1),Ze()),i&2){let t=e.$implicit;y(1),_("ngIf",t.isEnabled)}}var Fq=["gui-select-custom-modal",""];function Pq(i,e){if(i&1){let t=Ne();C(0,"li",2),Y("click",function(){let o=pe(t).$implicit,a=D(2);return fe(a.selectCustom(o.getCustomSelectId()))}),j(1),x()}if(i&2){let t=e.$implicit;ni("id",t.key),y(1),ge(" ",t.text," ")}}function Oq(i,e){if(i&1&&(C(0,"ul"),Q(1,Pq,2,2,"li",1),x()),i&2){let t=e.$implicit;y(1),_("ngForOf",t.getSelections())}}var Nq=["gui-select-all",""];function Lq(i,e){if(i&1){let t=Ne();C(0,"gui-checkbox",2),Y("changed",function(){pe(t);let r=D().$implicit,o=D();return fe(o.toggleSelectAll(r.isAllIndeterminate,r.isAllChecked))}),x()}if(i&2){let t=D().$implicit;_("checked",t.isAllChecked)("gui-tooltip","Select")("indeterminate",t.isAllIndeterminate)}}function jq(i,e){if(i&1&&(ze(0),Q(1,Lq,1,3,"gui-checkbox",1),Ze()),i&2){let t=e.$implicit;y(1),_("ngIf",t.modeMulti)}}var Vq=["gui-structure-menu-icon",""],Bq=["headerDialogContainer"],Hq=["gui-structure-column-config-trigger",""];function zq(i,e){if(i&1){let t=Ne();C(0,"div",1,2),Y("click",function(){pe(t);let r=D();return fe(r.openConfigDialog())}),R(2,"div",3),x()}i&2&&(y(2),_("ngClass","gui-header-menu-icon"))}var $q=["selectCustomContainer"],Uq=["gui-structure-header-columns","","columns",""];function Wq(i,e){i&1&&(C(0,"div",2),R(1,"div",3),x())}function Gq(i,e){i&1&&ia(0)}function qq(i,e){if(i&1&&R(0,"div",10),i&2){let t=D().$implicit;_("position",t.getSortStatus())("sort",!0)}}var Zq=i=>({"gui-header-sortable":i});function Kq(i,e){if(i&1){let t=Ne();C(0,"div",4),Y("click",function(){let o=pe(t).$implicit,a=D();return fe(a.toggleSort(o))}),C(1,"div",5),Q(2,Gq,1,0,"ng-container",6)(3,qq,1,2,"div",7),x(),C(4,"div",8),R(5,"div",9),x()()}if(i&2){let t=e.$implicit;nP(t.getStyles()),xw(t.getCssClasses()),It("width",t.width,"px"),_("ngClass",Rg(11,Zq,t.isSortEnabled())),y(2),_("ngTemplateOutlet",t.viewTemplate)("ngTemplateOutletContext",t.context),y(1),_("ngIf",!t.isNoSort()),y(2),_("column",t)}}var Yq=["gui-structure-header-groups","","groups","","checkboxSelection",""];function Qq(i,e){i&1&&(C(0,"div",2),R(1,"div",3),x())}function Xq(i,e){if(i&1&&(C(0,"div",4)(1,"div",5),j(2),x()()),i&2){let t=e.$implicit;It("width",t.width,"px"),y(2),ge(" ",t.header," ")}}var Jq=["gui-structure-header-filters","","columns",""];function eZ(i,e){if(i&1){let t=Ne();C(0,"div",2)(1,"button",3),Y("click",function(){pe(t);let r=D(2);return fe(r.turnOnFilterMode())}),j(2,"Add Filter"),x()()}if(i&2){let t=e.$implicit;It("width",t.width,"px")}}function tZ(i,e){if(i&1&&(ze(0),Q(1,eZ,3,2,"div",1),Ze()),i&2){let t=D();y(1),_("ngForOf",t.columns)}}var iZ=()=>["has value","is the same as","starts with","ends with"];function nZ(i,e){if(i&1){let t=Ne();ze(0),R(1,"gui-select",4),C(2,"form",5),R(3,"input",6),x(),C(4,"button",7),Y("click",function(){pe(t);let r=D();return fe(r.clearFilters())}),j(5,"Clear All"),x(),C(6,"button",7),Y("click",function(){pe(t);let r=D();return fe(r.turnOffFilterMode())}),j(7,"Close"),x(),Ze()}if(i&2){let t=D();y(1),_("options",vP(4,iZ))("selected","has value"),y(1),_("formGroup",t.filterForm),y(1),_("formControlName",t.filterFieldName)}}var rZ=["gui-structure-header",""];function oZ(i,e){if(i&1&&R(0,"div",3),i&2){let t=D().$implicit;_("checkboxSelection",t.showSelection)("groups",t.groups)}}function sZ(i,e){if(i&1&&(ze(0),Q(1,oZ,1,2,"div",2),Ze()),i&2){let t=e.$implicit;y(1),_("ngIf",t.showGroups)}}function aZ(i,e){if(i&1&&R(0,"div",4),i&2){let t=e.$implicit,n=D();_("columns",t.headerColumns)("guiStyle",n.width$)("showSelection",t.showSelection)}}function cZ(i,e){if(i&1&&R(0,"div",6),i&2){let t=D().$implicit,n=D();_("columns",t.headerColumns)("guiStyle",n.filterHeaderHeight$)}}function lZ(i,e){if(i&1&&(ze(0),Q(1,cZ,1,2,"div",5),Ze()),i&2){let t=e.$implicit;y(1),_("ngIf",t.filterRowEnabled)}}var uZ=["cellContainer"],dZ=["gui-structure-cell-edit-boolean","","entity","","cell",""];function hZ(i,e){i&1&&ia(0)}var pZ=["gui-structure-cell","","entity","","cell",""];function fZ(i,e){i&1&&ia(0)}var gZ=(i,e,t,n)=>({"gui-cell-view":!0,"gui-align-left":i,"gui-align-center":e,"gui-align-right":t,"gui-column-highlighted":n}),mZ=(i,e,t,n)=>({element:i,index:e,value:t,item:n});function vZ(i,e){if(i&1){let t=Ne();C(0,"span",3),Y("click",function(){pe(t);let r=D(2);return fe(r.enterEditMode())}),Q(1,fZ,1,0,"ng-container",4),x()}if(i&2){let t=D(2);_("ngClass",Ew(3,gZ,t.cell.isAlignLeft(),t.cell.isAlignCenter(),t.cell.isAlignRight(),t.isHighlighted)),y(1),_("ngTemplateOutlet",t.cell.template)("ngTemplateOutletContext",Ew(8,mZ,t.cell.getValue(t.entity,t.searchPhrase),t.entity.getPosition(),t.cell.getValue(t.entity,t.searchPhrase).value,t.entity.getSourceItem()))}}function bZ(i,e){i&1&&ia(0)}function yZ(i,e){if(i&1&&(C(0,"span",5),Q(1,bZ,1,0,"ng-container",4),x()),i&2){let t=D(2);y(1),_("ngTemplateOutlet",t.cell.editTemplate)("ngTemplateOutletContext",t.editContext)}}function _Z(i,e){if(i&1&&(ze(0),Q(1,vZ,2,13,"span",1)(2,yZ,2,2,"span",2),Ze()),i&2){let t=D();y(1),_("ngIf",!t.inEditMode),y(1),_("ngIf",t.inEditMode)}}function CZ(i,e){if(i&1&&(ze(0),R(1,"div",6),Ze()),i&2){let t=D();y(1),_("cell",t.cell)("entity",t.entity)}}var wZ=["gui-structure-row",""];function xZ(i,e){if(i&1){let t=Ne();C(0,"div",3)(1,"gui-checkbox",4),Y("changed",function(){pe(t);let r=D();return fe(r.selectCheckbox())}),x()()}if(i&2){let t=D();y(1),_("checked",t.selectedItem)}}function IZ(i,e){if(i&1){let t=Ne();C(0,"div",5)(1,"gui-radio-button",4),Y("changed",function(){pe(t);let r=D();return fe(r.selectRadio())}),x()()}if(i&2){let t=D();y(1),_("checked",t.selectedItem)}}function EZ(i,e){if(i&1&&R(0,"div",6),i&2){let t=e.$implicit,n=e.index,r=D();It("width",t.width,"px"),_("cellEditorManager",r.cellEditing)("cell",t)("columnIndex",n)("editMode",r.editMode)("entity",r.entity)("rowIndex",r.index)("searchPhrase",r.searchPhrase)}}var DZ=["gui-structure-content",""],SZ=(i,e)=>({even:i,odd:e}),TZ=i=>({transform:i});function MZ(i,e){if(i&1){let t=Ne();C(0,"div",3),Y("click",function(){let o=pe(t).$implicit,a=D().$implicit,l=D();return fe(l.toggleSelectedRow(o,a.selectionEnabled,a.checkboxSelection,a.radioSelection))}),x()}if(i&2){let t=e.$implicit,n=e.index,r=D().$implicit,o=D();It("height",r.rowHeight,"px"),_("cellEditing",r.cellEditing)("checkboxSelection",r.checkboxSelection)("columns",o.columns)("editMode",r.editMode)("entity",t)("id",t.getUiId())("index",t.getPosition())("ngClass",Iw(15,SZ,t.isEven(),t.isOdd()))("ngStyle",Rg(18,TZ,o.translateY(n,r.rowHeight)))("radioSelection",r.radioSelection)("rowClass",r.schemaRowClass)("rowStyle",r.schemaRowStyle)("searchPhrase",r.searchPhrase)}}function kZ(i,e){if(i&1&&(C(0,"div",1),Q(1,MZ,1,20,"div",2),x()),i&2){let t=D();y(1),_("ngForOf",t.source)("ngForTrackBy",t.trackByFn)}}var AZ=["sourceCollection"],RZ=["gui-structure-container",""],FZ=["gui-structure-title-panel",""],PZ=["gui-structure-footer-panel",""],OZ=["gui-structure-blueprint",""];function NZ(i,e){i&1&&R(0,"div",8)}function LZ(i,e){i&1&&R(0,"div",9)}function jZ(i,e){i&1&&R(0,"div",11),i&2&&_("position",0)}function VZ(i,e){if(i&1&&(ze(0),Q(1,jZ,1,1,"div",10),Ze()),i&2){let t=e.$implicit,n=D();y(1),_("ngIf",n.isPagingTopEnabled(t))}}function BZ(i,e){if(i&1&&R(0,"div",13),i&2){let t=D(2);_("ngClass",t.headerTopClasses)}}function HZ(i,e){if(i&1&&(ze(0),Q(1,BZ,1,1,"div",12),Ze()),i&2){let t=e.$implicit,n=D();y(1),_("ngIf",n.isColumnHeaderTopEnabled(t))}}function zZ(i,e){if(i&1&&R(0,"div",13),i&2){let t=D(2);_("ngClass",t.headerBottomClasses)}}function $Z(i,e){if(i&1&&(ze(0),Q(1,zZ,1,1,"div",12),Ze()),i&2){let t=e.$implicit,n=D();y(1),_("ngIf",n.isColumnHeaderBottomEnabled(t))}}function UZ(i,e){i&1&&R(0,"div",15)}function WZ(i,e){if(i&1&&(ze(0),Q(1,UZ,1,0,"div",14),Ze()),i&2){let t=e.$implicit;y(1),_("ngIf",t)}}function GZ(i,e){i&1&&R(0,"div",11),i&2&&_("position",1)}function qZ(i,e){if(i&1&&(ze(0),Q(1,GZ,1,1,"div",10),Ze()),i&2){let t=e.$implicit,n=D();y(1),_("ngIf",n.isPagingBottomEnabled(t))}}function ZZ(i,e){i&1&&R(0,"div",16)}function KZ(i,e){i&1&&R(0,"gui-spinner",3),i&2&&_("diameter",120)("primary",!0)}var YZ=(i,e)=>({"gui-loader-visible":i,"gui-loader-hidden":e}),QZ=["structure"];var XZ={sourceEmpty:"There are no items to show.",pagingItemsPerPage:"Items per page:",pagingOf:"of",pagingNextPage:"Next",pagingPrevPage:"Prev",pagingNoItems:"There is no items.",infoPanelShowing:"Showing",infoPanelItems:"items",infoPanelOutOf:"out of",infoPanelThemeMangerTooltipText:"Theme manager",infoPanelColumnManagerTooltipText:"Column manager",infoPanelInfoTooltipText:"info",themeManagerModalTitle:"Theme manager",themeManagerModalTheme:"Theme:",themeManagerModalRowColoring:"Row coloring:",themeManagerModalVerticalGrid:"Vertical grid",themeManagerModalHorizontalGrid:"HorizontalGrid",columnManagerModalTitle:"Manage columns",headerMenuMainTab:"Menu",headerMenuMainTabColumnSort:"Column sort",headerMenuMainTabHideColumn:"Hide column",headerMenuMainTabHighlightColumn:"Highlight",headerMenuMainTabMoveLeft:"Move left",headerMenuMainTabMoveRight:"Move right",headerMenuMainTabColumnSortAscending:"Ascending",headerMenuMainTabColumnSortDescending:"Descending",headerMenuMainTabColumnSortNone:"None",headerMenuFilterTab:"Filter",headerMenuColumnsTab:"Columns",summariesCount:"Count",summariesDist:"Dist",summariesSum:"Sum",summariesAvg:"Avg",summariesMin:"Min",summariesMax:"Max",summariesMed:"Med",summariesTruthy:"Truthy",summariesFalsy:"Falsy",summariesDistinctValuesTooltip:"Distinct values",summariesAverageTooltip:"Average",summariesMinTooltip:"Min",summariesMaxTooltip:"Max",summariesMedTooltip:"Median",summariesCountTooltip:"Number of items in the grid"};var Ea=function(i){return i[i.UNKNOWN=0]="UNKNOWN",i[i.NUMBER=1]="NUMBER",i[i.STRING=2]="STRING",i[i.BOOLEAN=3]="BOOLEAN",i[i.DATE=4]="DATE",i[i.CUSTOM=5]="CUSTOM",i}(Ea||{}),qn=function(i){return i[i.TEXT=0]="TEXT",i[i.CHIP=1]="CHIP",i[i.LINK=2]="LINK",i[i.IMAGE=3]="IMAGE",i[i.BOLD=4]="BOLD",i[i.ITALIC=5]="ITALIC",i[i.CHECKBOX=6]="CHECKBOX",i[i.CUSTOM=7]="CUSTOM",i[i.BAR=8]="BAR",i[i.PERCENTAGE_BAR=9]="PERCENTAGE_BAR",i[i.PERCENTAGE=10]="PERCENTAGE",i}(qn||{});var Zn=function(i){return i[i.FABRIC=0]="FABRIC",i[i.MATERIAL=1]="MATERIAL",i[i.LIGHT=2]="LIGHT",i[i.DARK=3]="DARK",i[i.GENERIC=4]="GENERIC",i}(Zn||{}),ms=function(i){return i[i.NONE=0]="NONE",i[i.EVEN=1]="EVEN",i[i.ODD=2]="ODD",i}(ms||{});var ZI=function(i){return i[i.BASIC=0]="BASIC",i[i.ADVANCED=1]="ADVANCED",i}(ZI||{}),cv=function(i){return i[i.RIGHT=0]="RIGHT",i[i.CENTER=1]="CENTER",i[i.LEFT=2]="LEFT",i}(cv||{}),lv=function(i){return i[i.ROW=0]="ROW",i[i.CHECKBOX=1]="CHECKBOX",i[i.RADIO=2]="RADIO",i}(lv||{}),KI=function(i){return i[i.SINGLE=0]="SINGLE",i[i.MULTIPLE=1]="MULTIPLE",i}(KI||{});var ae=function(i){return i[i.UNKNOWN=0]="UNKNOWN",i[i.NUMBER=1]="NUMBER",i[i.STRING=2]="STRING",i[i.BOOLEAN=3]="BOOLEAN",i[i.DATE=4]="DATE",i[i.CUSTOM=5]="CUSTOM",i}(ae||{}),YI=class{convertType(e){return typeof e=="string"?this.convertTypeString(e):this.convertTypeEnum(e)}convertTypeEnum(e){switch(e){case Ea.STRING:return ae.STRING;case Ea.NUMBER:return ae.NUMBER;case Ea.BOOLEAN:return ae.BOOLEAN;case Ea.DATE:return ae.DATE;case Ea.UNKNOWN:return ae.UNKNOWN;case Ea.CUSTOM:return ae.CUSTOM;default:return ae.STRING}}convertTypeString(e){switch(e.toLocaleLowerCase()){case"string":return ae.STRING;case"number":return ae.NUMBER;case"boolean":return ae.BOOLEAN;case"date":return ae.DATE;case"unknown":return ae.UNKNOWN;case"custom":return ae.CUSTOM;default:return ae.STRING}}},ye=function(i){return i[i.COUNT=1024]="COUNT",i[i.DISTINCT=1]="DISTINCT",i[i.SUM=2]="SUM",i[i.AVERAGE=4]="AVERAGE",i[i.MIN=8]="MIN",i[i.MAX=16]="MAX",i[i.MEDIAN=32]="MEDIAN",i[i.TRUTHY=64]="TRUTHY",i[i.FALSY=128]="FALSY",i[i.EARLIEST=256]="EARLIEST",i[i.LATEST=512]="LATEST",i}(ye||{}),QI=class{convert(e){let t={};return e.enabled!==void 0&&e.enabled!==null&&(t.enabled=e.enabled),e.summariesTypes!==void 0&&e.summariesTypes!==null&&(t.summariesTypes=this.convertSummariesTypes(e.summariesTypes)),t}convertSummariesTypes(e){let t=[];return e.forEach(n=>{let r=this.convertSummariesType(n);r!=null&&t.push(r)}),t}convertSummariesType(e){switch(e.toLocaleLowerCase()){case"count":return ye.COUNT;case"distinct":return ye.DISTINCT;case"sum":return ye.SUM;case"average":return ye.AVERAGE;case"min":return ye.MIN;case"max":return ye.MAX;case"median":return ye.MEDIAN;case"truthy":return ye.TRUTHY;case"falsy":return ye.FALSY;case"earliest":return ye.EARLIEST;case"latest":return ye.LATEST;default:return null}}},te=function(i){return i[i.TEXT=0]="TEXT",i[i.NUMBER=1]="NUMBER",i[i.CHIP=2]="CHIP",i[i.LINK=3]="LINK",i[i.IMAGE=4]="IMAGE",i[i.BOLD=5]="BOLD",i[i.ITALIC=6]="ITALIC",i[i.CHECKBOX=7]="CHECKBOX",i[i.CUSTOM=8]="CUSTOM",i[i.FUNCTION=9]="FUNCTION",i[i.DATE=10]="DATE",i[i.BAR=11]="BAR",i[i.PERCENTAGE_BAR=12]="PERCENTAGE_BAR",i[i.PERCENTAGE=13]="PERCENTAGE",i[i.NG_TEMPLATE=14]="NG_TEMPLATE",i[i.HTML=15]="HTML",i}(te||{}),XI=class{convert(e){return typeof e=="string"?this.convertString(e):typeof e=="function"?e:this.convertEnum(e)}convertString(e){switch(e.toLocaleLowerCase()){case"text":return te.TEXT;case"chip":return te.CHIP;case"link":return te.LINK;case"image":return te.IMAGE;case"bold":return te.BOLD;case"italic":return te.ITALIC;case"checkbox":return te.CHECKBOX;case"custom":return te.CUSTOM;case"bar":return te.BAR;case"percentage_bar":return te.PERCENTAGE_BAR;case"percentage":return te.PERCENTAGE;default:return te.TEXT}}convertEnum(e){switch(e){case qn.TEXT:return te.TEXT;case qn.CHIP:return te.CHIP;case qn.LINK:return te.LINK;case qn.IMAGE:return te.IMAGE;case qn.BOLD:return te.BOLD;case qn.ITALIC:return te.ITALIC;case qn.CHECKBOX:return te.CHECKBOX;case qn.CUSTOM:return te.CUSTOM;case qn.BAR:return te.BAR;case qn.PERCENTAGE_BAR:return te.PERCENTAGE_BAR;case qn.PERCENTAGE:return te.PERCENTAGE;default:return te.TEXT}}},JI=class{convert(e){return typeof e=="boolean"?{enabled:e}:e}},eE=class{convert(e){return typeof e=="boolean"?{enabled:e}:e}},Ht=function(i){return i[i.RIGHT=0]="RIGHT",i[i.CENTER=1]="CENTER",i[i.LEFT=2]="LEFT",i}(Ht||{}),tE=class{convert(e){return typeof e=="string"?this.convertTypeString(e):this.convertTypeEnum(e)}convertTypeEnum(e){switch(e){case cv.RIGHT:return Ht.RIGHT;case cv.CENTER:return Ht.CENTER;case cv.LEFT:return Ht.LEFT;default:return Ht.LEFT}}convertTypeString(e){switch(e.toLocaleLowerCase()){case"right":return Ht.RIGHT;case"center":return Ht.CENTER;case"left":return Ht.LEFT;default:return Ht.LEFT}}},iE=class{columnTypeConverter=new YI;columnSummariesConverter=new QI;columnViewConverter=new XI;columnSortingConverter=new JI;columnCellEditingConverter=new eE;columnAlignConverter=new tE;convert(e){return e.map(t=>{if(t.columns!==void 0){let n=t.columns.map(r=>this.convertColumn(r));return{header:t.header,columns:n}}else return this.convertColumn(t)})}convertColumn(e){let t={};return e.name!==void 0&&e.name!==null?t.name=e.name:e.field!==void 0&&e.field!==null&&typeof e.field=="string"&&(t.name=e.field),e.type!==void 0&&e.type!==null&&(t.type=this.columnTypeConverter.convertType(e.type)),e.header!==void 0&&e.header!==null&&(t.header=e.header),e.enabled!==void 0&&e.enabled!==null&&(t.enabled=e.enabled),e.field!==void 0&&e.field!==null&&(t.field=e.field),e.width!==void 0&&e.width!==null&&(t.width=e.width),e.align!==void 0&&e.align!==null&&(t.align=this.columnAlignConverter.convert(e.align)),e.view!==void 0&&e.view!==null&&(t.view=this.columnViewConverter.convert(e.view)),e.summaries!==void 0&&e.summaries!==null&&(t.summaries=this.columnSummariesConverter.convert(e.summaries)),e.sorting!==void 0&&e.sorting!==null&&(t.sorting=this.columnSortingConverter.convert(e.sorting)),e.cellEditing!==void 0&&e.cellEditing!==null&&(t.cellEditing=this.columnCellEditingConverter.convert(e.cellEditing)),e.formatter!==void 0&&e.formatter!==null&&(t.formatter=e.formatter),e.matcher!==void 0&&e.matcher!==null&&(t.matcher=e.matcher),e.cssClasses!==void 0&&e.cssClasses!==null&&(t.cssClasses=e.cssClasses),e.styles!==void 0&&e.styles!==null&&(t.styles=e.styles),e.templateRef!==void 0&&e.templateRef!==null&&(t.templateRef=e.templateRef,t.view=te.NG_TEMPLATE),t}},se=function(i){return i[i.FABRIC=0]="FABRIC",i[i.MATERIAL=1]="MATERIAL",i[i.LIGHT=2]="LIGHT",i[i.DARK=3]="DARK",i[i.GENERIC=4]="GENERIC",i}(se||{}),nE=class{convert(e){return typeof e=="string"?this.convertString(e):this.convertEnum(e)}convertToGuiTheme(e){switch(e){case se.MATERIAL:return Zn.MATERIAL;case se.FABRIC:return Zn.FABRIC;case se.LIGHT:return Zn.LIGHT;case se.DARK:return Zn.DARK;case se.GENERIC:return Zn.GENERIC;default:return Zn.GENERIC}}convertString(e){switch(e.toLocaleLowerCase()){case"material":return se.MATERIAL;case"fabric":return se.FABRIC;case"light":return se.LIGHT;case"dark":return se.DARK;case"generic":return se.GENERIC;default:return se.FABRIC}}convertEnum(e){switch(e){case Zn.MATERIAL:return se.MATERIAL;case Zn.FABRIC:return se.FABRIC;case Zn.LIGHT:return se.LIGHT;case Zn.DARK:return se.DARK;case Zn.GENERIC:return se.GENERIC;default:return se.FABRIC}}},fi=function(i){return i[i.NONE=0]="NONE",i[i.EVEN=1]="EVEN",i[i.ODD=2]="ODD",i}(fi||{}),rE=class{convert(e){return typeof e=="string"?this.convertString(e):this.convertEnum(e)}convertToGuiRowColoring(e){switch(e){case fi.NONE:return ms.NONE;case fi.EVEN:return ms.EVEN;case fi.ODD:return ms.ODD;default:return ms.EVEN}}convertString(e){switch(e.toLocaleLowerCase()){case"none":return fi.NONE;case"even":return fi.EVEN;case"odd":return fi.ODD;default:return fi.EVEN}}convertEnum(e){switch(e){case ms.NONE:return fi.NONE;case ms.EVEN:return fi.EVEN;case ms.ODD:return fi.ODD;default:return fi.EVEN}}},JZ=(()=>{class i{convert(t){return t}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),To=function(i){return i[i.BASIC=0]="BASIC",i[i.ADVANCED=1]="ADVANCED",i}(To||{}),oE=class{convert(e){let t={};return e.enabled!==void 0&&e.enabled!==null&&(t.enabled=e.enabled),e.page!==void 0&&e.page!==null&&(t.page=e.page),e.pageSize!==void 0&&e.pageSize!==null&&(t.pageSize=e.pageSize),e.pageSizes!==void 0&&e.pageSizes!==null&&(t.pageSizes=e.pageSizes),e.pagerTop!==void 0&&e.pagerTop!==null&&(t.pagerTop=e.pagerTop),e.pagerBottom!==void 0&&e.pagerBottom!==null&&(t.pagerBottom=e.pagerBottom),e.display!==void 0&&e.display!==null&&(t.displayMode=this.convertDisplay(e.display)),t}convertDisplay(e){return typeof e=="string"?this.convertString(e):this.convertEnum(e)}convertString(e){switch(e.toLocaleLowerCase()){case"basic":return To.BASIC;case"advanced":return To.ADVANCED;default:return To.BASIC}}convertEnum(e){switch(e){case ZI.BASIC:return To.BASIC;case ZI.ADVANCED:return To.ADVANCED;default:return To.BASIC}}},fh=class{build(){return this.buildObject()}},ki=function(i){return i.ROW="ROW",i.CHECKBOX="CHECKBOX",i.RADIO="RADIO",i}(ki||{}),Kn=function(i){return i.SINGLE="SINGLE",i.MULTIPLE="MULTIPLE",i}(Kn||{}),eK=(()=>{class i{enabled;selectedRowIndexes;selectedRowIds;type;mode;matcher;customConfig;constructor(t){t.enabled!==void 0&&(this.enabled=t.enabled),t?.selectedRowIndexes&&(this.selectedRowIndexes=t.selectedRowIndexes),t?.selectedRowIds&&(this.selectedRowIds=t.selectedRowIds),t?.mode&&(this.mode=t.mode),t?.type&&(this.type=t.type),t?.matcher&&(this.matcher=t.matcher),t?.config&&(this.customConfig=t.config)}isModeDefined(){return this.mode!==void 0}isTypeDefined(){return this.type!==void 0}isSelectedRowIndexesDefined(){return this.selectedRowIndexes!==void 0}isSelectedRowIdsDefined(){return this.selectedRowIds!==void 0}isEnabledDefined(){return this.enabled!==void 0}isMatcherDefined(){return this.matcher!==void 0}isEnabled(){return this.enabled}isCustomSelectConfig(){return this.customConfig!==void 0}getSelectedRowIndexes(){return this.selectedRowIndexes}getSelectedRowIds(){return this.selectedRowIds}getMode(){return this.mode}getType(){return this.type}getMatcher(){return this.matcher}getCustomSelectConfig(){return this.customConfig}static Builder=class extends fh{enabled;selectedRowIndexes;selectedRowIds;type;mode;config;matcher;constructor(){super()}buildObject(){return new i({enabled:this.enabled,selectedRowIndexes:this.selectedRowIndexes,selectedRowIds:this.selectedRowIds,type:this.type,mode:this.mode,matcher:this.matcher,config:this.config})}withEnabled(n){return this.enabled=n,this}withSelectedRowIndexes(n){return this.selectedRowIndexes=n,this}withSelectedRowIds(n){return this.selectedRowIds=n,this}withType(n){return this.type=n,this}withMode(n){return this.mode=n,this}withMatcher(n){return this.matcher=n,this}witCustomSelection(n){return this.config=n,this}}}return i})(),sE=class{enabled;selections},aE=class{convert(e){let t=new eK.Builder;if(typeof e=="boolean")return t.withEnabled(e).build();if(e.enabled!==void 0&&t.withEnabled(e.enabled),e.selectedRowIndexes!==void 0&&t.withSelectedRowIndexes(e.selectedRowIndexes),e.selectedRowIds!==void 0&&t.withSelectedRowIds(e.selectedRowIds),e.mode!==void 0){let n=this.convertMode(e.mode);t.withMode(n)}if(e.type!==void 0){let n=this.convertType(e.type);t.withType(n)}if(e.matcher!==void 0){let n=this.convertMatcher(e.matcher);t.withMatcher(n)}if(e.custom!==void 0){let n=this.convertCustomSelection(e.custom);t.witCustomSelection(n)}return t.build()}convertMode(e){if(typeof e=="string")switch(e.toLowerCase()){case"single":return Kn.SINGLE;case"multiple":return Kn.MULTIPLE;default:return Kn.SINGLE}else switch(e){case KI.SINGLE:return Kn.SINGLE;case KI.MULTIPLE:return Kn.MULTIPLE;default:return Kn.SINGLE}}convertType(e){if(typeof e=="string")switch(e.toLowerCase()){case"row":return ki.ROW;case"checkbox":return ki.CHECKBOX;case"radio":return ki.RADIO;default:return ki.ROW}else switch(e){case lv.ROW:return ki.ROW;case lv.CHECKBOX:return ki.CHECKBOX;case lv.RADIO:return ki.RADIO;default:return ki.ROW}}convertMatcher(e){return typeof e=="string"?t=>t[e]:e}convertCustomSelection(e){let t=new sE;return e?.enabled&&(t.enabled=e.enabled),e?.selections&&Array.isArray(e?.selections)&&(t.selections=e.selections.map(n=>n)),t}},eT=(()=>{class i{templateRef;name;field;type;view;header;width;enabled;align;summaries;sorting;cellEditing;formatter;matcher;cssClasses;styles;static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["gui-grid-column"]],contentQueries:function(n,r,o){if(n&1&&Pg(o,at,7),n&2){let a;xe(a=Ie())&&(r.templateRef=a.first)}},inputs:{name:"name",field:"field",type:"type",view:"view",header:"header",width:"width",enabled:"enabled",align:"align",summaries:"summaries",sorting:"sorting",cellEditing:"cellEditing",formatter:"formatter",matcher:"matcher",cssClasses:"cssClasses",styles:"styles"},decls:0,vars:0,template:function(n,r){},encapsulation:2})}return i})(),cE=class{convert(e){return typeof e=="boolean"?{enabled:e}:e}};function Et(i,e){tK(i)&&e(i.currentValue)}function tK(i){return i!==void 0&&i.currentValue!==void 0}var iK=(()=>{class i{guiGridColumnComponent;columnHeaderTop;columnHeaderBottom;maxHeight;width;rowHeight;autoResizeWidth;source=[];columns=[];paging;verticalGrid;horizontalGrid;theme;rowColoring;rowSelection;rowStyle;rowClass;loading;virtualScroll;sorting;searching;titlePanel;footerPanel;filtering;quickFilters;editMode;cellEditing;infoPanel;summaries;columnMenu;rowDetail;localization;pageChanged=new J;pageSizeChanged=new J;itemsSelected=new J;selectedRows=new J;columnsChanged=new J;containerWidthChanged=new J;sourceEdited=new J;cellEditEntered=new J;cellEditCanceled=new J;cellEditSubmitted=new J;searchPhraseChanged=new J;themeChanged=new J;horizontalGridChanged=new J;verticalGridChanged=new J;rowColoringChanged=new J;columnsConfig;themeConfig;rowColoringConfig;columnMenuConfig;rowSelectionConfig;cellEditingConfig;gridColumnConverter=new iE;gridThemeConverter=new nE;gridRowColoringConverter=new rE;gridColumnMenuConverter=new JZ;gridPagingConverter=new oE;gridRowSelectionConverter=new aE;guiGridCellEditConverter=new cE;constructor(){}ngOnChanges(t){Et(t.columns,()=>{this.columnsConfig=this.gridColumnConverter.convert(this.columns)}),Et(t.theme,()=>{this.themeConfig=this.gridThemeConverter.convert(this.theme)}),Et(t.rowColoring,()=>{this.rowColoringConfig=this.gridRowColoringConverter.convert(this.rowColoring)}),Et(t.columnMenu,()=>{this.columnMenuConfig=this.gridColumnMenuConverter.convert(this.columnMenu)}),Et(t.rowSelection,()=>{this.rowSelectionConfig=this.gridRowSelectionConverter.convert(this.rowSelection)}),Et(t.cellEditing,()=>{this.cellEditingConfig=this.guiGridCellEditConverter.convert(this.cellEditing)}),Et(t.paging,()=>{typeof this.paging!="boolean"&&(this.paging=this.gridPagingConverter.convert(this.paging))})}ngAfterContentInit(){this.guiGridColumnComponent&&this.guiGridColumnComponent.toArray().length>0&&(this.columnsConfig=this.gridColumnConverter.convert(this.guiGridColumnComponent.toArray()))}onPageChange(t){this.pageChanged.emit(t)}onPageSizeChange(t){this.pageSizeChanged.emit(t)}onItemSelect(t){this.itemsSelected.emit(t)}onRowsSelect(t){let n=t.map(r=>({index:r.getIndex(),source:r.getItem(),itemId:r.getItemId()}));this.selectedRows.emit(n)}onColumnsChange(){this.columnsChanged.emit()}onContainerWidthChange(t){this.containerWidthChanged.emit(t)}onSourceEdit(t){this.sourceEdited.emit(t)}onCellEditEnter(){this.cellEditEntered.emit()}onCellEditSubmit(){this.cellEditSubmitted.emit()}onCellEditCancel(){this.cellEditCanceled.emit()}onSearchPhrase(t){this.searchPhraseChanged.emit(t)}onTheme(t){this.themeChanged.emit(this.gridThemeConverter.convertToGuiTheme(t))}onHorizontalGrid(t){this.horizontalGridChanged.emit(t)}onVerticalGrid(t){this.verticalGridChanged.emit(t)}onRowColoring(t){this.rowColoringChanged.emit(this.gridRowColoringConverter.convertToGuiRowColoring(t))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=ne({type:i,contentQueries:function(n,r,o){if(n&1&&Pg(o,eT,4),n&2){let a;xe(a=Ie())&&(r.guiGridColumnComponent=a)}},inputs:{columnHeaderTop:"columnHeaderTop",columnHeaderBottom:"columnHeaderBottom",maxHeight:"maxHeight",width:"width",rowHeight:"rowHeight",autoResizeWidth:"autoResizeWidth",source:"source",columns:"columns",paging:"paging",verticalGrid:"verticalGrid",horizontalGrid:"horizontalGrid",theme:"theme",rowColoring:"rowColoring",rowSelection:"rowSelection",rowStyle:"rowStyle",rowClass:"rowClass",loading:"loading",virtualScroll:"virtualScroll",sorting:"sorting",searching:"searching",titlePanel:"titlePanel",footerPanel:"footerPanel",filtering:"filtering",quickFilters:"quickFilters",editMode:"editMode",cellEditing:"cellEditing",infoPanel:"infoPanel",summaries:"summaries",columnMenu:"columnMenu",rowDetail:"rowDetail",localization:"localization"},outputs:{pageChanged:"pageChanged",pageSizeChanged:"pageSizeChanged",itemsSelected:"itemsSelected",selectedRows:"selectedRows",columnsChanged:"columnsChanged",containerWidthChanged:"containerWidthChanged",sourceEdited:"sourceEdited",cellEditEntered:"cellEditEntered",cellEditCanceled:"cellEditCanceled",cellEditSubmitted:"cellEditSubmitted",searchPhraseChanged:"searchPhraseChanged",themeChanged:"themeChanged",horizontalGridChanged:"horizontalGridChanged",verticalGridChanged:"verticalGridChanged",rowColoringChanged:"rowColoringChanged"},features:[le]})}return i})(),CN=new ie("StructureParentComponent"),Hl=class{index;itemId;item;constructor(e,t,n){this.item=e,this.index=t,this.itemId=n}getItem(){return this.item}getIndex(){return this.index}getItemId(){return this.itemId}},lE=class{structureId;compositionId;schemaId;formationCommandInvoker;formationWarehouse;compositionCommandInvoker;compositionWarehouse;filterIntegration;sourceCommandInvoker;searchCommandInvoker;gridThemeCommandInvoker;structureCommandInvoker;summariesCommandInvoker;sortingCommandInvoker;pagingCommandInvoker;constructor(e,t,n,r,o,a,l,d,p,m,b,w,E,T,V){this.structureId=e,this.compositionId=t,this.schemaId=n,this.formationCommandInvoker=r,this.formationWarehouse=o,this.compositionCommandInvoker=a,this.compositionWarehouse=l,this.filterIntegration=d,this.sourceCommandInvoker=p,this.searchCommandInvoker=m,this.gridThemeCommandInvoker=b,this.structureCommandInvoker=w,this.summariesCommandInvoker=E,this.sortingCommandInvoker=T,this.pagingCommandInvoker=V}provide(){let e=this.structureId,t=this.compositionId,n=this.schemaId,r=this.formationCommandInvoker,o=this.formationWarehouse,a=this.compositionCommandInvoker,l=this.compositionWarehouse,d=this.filterIntegration,p=this.sourceCommandInvoker,m=this.searchCommandInvoker,b=this.gridThemeCommandInvoker,w=this.structureCommandInvoker,E=this.summariesCommandInvoker,T=this.sortingCommandInvoker,V=this.pagingCommandInvoker;return{setSource(A){p.setOrigin(A,e)},showLoading(){p.setLoading(!0,e)},hideLoading(){p.setLoading(!1,e)},deleteRow(A){p.deleteRow(new Hl(A.source,A.index,A.itemId),e)},deleteRows(A){let $=A.map(ce=>new Hl(ce.source,ce.index,ce.itemId));p.deleteRows($,e)},deleteSelectedRows(){},getSelectedRows(){return o.findSelectedRows(e).getValueOrNullOrThrowError().map($=>({source:$.getItem(),index:$.getIndex(),itemId:$.getItemId()}))},selectAll(){r.selectAll(e)},unselectAll(){r.unselectAll(e)},getColumns(){let A=[];return l.onTemplateColumns(t).subscribe($=>{A=$}),A},getFilters(){let A=d.findFilters(t,e),$={};return Object.keys(A).forEach(ce=>{$[ce]=A[ce].map(Te=>({columnName:Te.columnName,filterId:Te.filterId,filterType:Te.type,value:Te.value}))}),$},getFiltersForColumn(A){return[]},getFilterTypes(){return[]},getFilterTypesForColumn(A){return d.findFilterTypes(A,t,e)},removeAll(){},removeFilter(A){},removeFiltersFromColumn(A){},filter(A,$,ce){d.filter(A,$,ce,t,e)},enablePaging(){V.enable(e)},disablePaging(){V.disable(e)},nextPage(){V.nextPage(e)},prevPage(){V.prevPage(e)},changePageSize(A){V.changePageSize(A,e)},setPagingConfig(A){V.setPaging(A,e)},setSearchingConfig(A){m.setSearchingConfig(A,e)},search(A){m.search(A,e)},clearSearchPhrase(){m.search("",e)},scrollToTop(){w.scrollToTop(e)},scrollToBottom(){w.scrollToBottom(e)},scrollToRowByIndex(A){w.scrollToIndex(A,e)},setTheme(A){b.setTheme(A,n,e)},setVerticalGrid(A){b.setVerticalGrid(A,n)},setHorizontalGrid(A){b.setHorizontalGrid(A,n)},setRowColoring(A){b.setRowColoring(A,n)},enableVirtualScroll(){w.enableVirtualScroll(e)},disableVirtualScroll(){w.disableVirtualScroll(e)},enableSummaries(){E.setSummariesEnabled(!0,e)},disableSummaries(){E.setSummariesEnabled(!1,e)},setSortConfig(A){T.setSortingConfig(A,e)}}}},uE=class{schemaCommandInvoker;gridThemeConverter;gridRowColoringConverter;constructor(e,t,n){this.schemaCommandInvoker=e,this.gridThemeConverter=t,this.gridRowColoringConverter=n}setTheme(e,t,n){let r=this.gridThemeConverter.convert(e);this.schemaCommandInvoker.setTheme(r,t,n)}setRowColoring(e,t){let n=this.gridRowColoringConverter.convert(e);this.schemaCommandInvoker.setRowColoring(n,t)}setVerticalGrid(e,t){this.schemaCommandInvoker.setVerticalGrid(e,t)}setHorizontalGrid(e,t){this.schemaCommandInvoker.setHorizontalGrid(e,t)}},gh=class{hostElement;constructor(e){this.hostElement=e}getElement(e){return this.createModifier(e)}getHost(){if(!this.hostElement)throw new Error("Missing host element in DomRenderer constructor.");return this.createModifier(this.hostElement)}},gp=(()=>{class i extends gh{htmlElement;constructor(t){super(t),this.htmlElement=t}createModifier(t){return new i.ClassModifier(t)}static ClassModifier=class{htmlElement;constructor(t){this.htmlElement=t}add(...t){this.addClassToDomElement(this.htmlElement,t)}remove(...t){this.removeClassFromDomElement(this.htmlElement,t)}clear(){this.htmlElement.removeAttribute("class")}addClassToDomElement(t,n){for(let r=0;r<n.length;r++)t.classList.add(n[r])}removeClassFromDomElement(t,n){for(let r=0;r<n.length;r++)t.classList.remove(n[r])}}}return i})(),nK=(()=>{class i extends gh{htmlElement;static AttributeModifier=class{htmlElement;constructor(t){this.htmlElement=t}setAttribute(t,n){this.htmlElement.setAttribute(t,n)}removeAttribute(t){this.htmlElement.removeAttribute(t)}};constructor(t){super(t),this.htmlElement=t}createModifier(t){return new i.AttributeModifier(t)}}return i})(),hv=class extends fh{enabled;constructor(e){super(),this.enabled=e}withEnabled(e){return this.enabled=e,this}buildObject(){return new dE(this.enabled)}},rK=(()=>{class i extends hv{static defaultEnabled=!0;constructor(){super(i.defaultEnabled)}}return i})(),dE=(()=>{class i{static Builder=hv;static DefaultBuilder=rK;enabled;constructor(t){this.enabled=t}isEnabled(){return this.enabled}}return i})(),pv=class extends fh{headerEnabled;bottomPaging;topPaging;border=!0;constructor(e,t,n){super(),this.headerEnabled=e,this.bottomPaging=t,this.topPaging=n}withHeader(e){return this.headerEnabled=e,this}withBottomPaging(e){return this.bottomPaging=e,this}withTopPaging(e){return this.topPaging=e,this}withBorder(e){return this.border=e,this}buildObject(){return new ec(this.headerEnabled,this.bottomPaging,this.topPaging,this.border)}},hE=class i extends pv{static defaultHeaderEnabled=!0;static defaultBottomPaging=new dE.DefaultBuilder().build();static defaultTopPaging=new dE.DefaultBuilder().build();constructor(){super(i.defaultHeaderEnabled,i.defaultBottomPaging,i.defaultTopPaging)}},ec=(()=>{class i{static Builder=pv;static DefaultBuilder=hE;headerEnabled;bottomPaging;topPaging;border;constructor(t,n,r,o){this.headerEnabled=t,this.bottomPaging=n,this.topPaging=r,this.border=o}isHeaderEnabled(){return this.headerEnabled}isBorderEnabled(){return this.border}getBottomPaging(){return this.bottomPaging}getTopPaging(){return this.topPaging}}return i})(),oK=new ec.DefaultBuilder().build(),wN=(()=>{class i{gridMap=new Map;register(t,n,r){this.gridMap.set(t,{component:n,structureId:r})}unregister(t){this.gridMap.delete(t)}getValues(t){return this.gridMap.get(t)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),Ma=class{generateId(){return f2.generate()}},Ai=class{constructor(){}},sn=class{constructor(){}},Yn=class{constructor(){}},an=class{constructor(){}},Gr=class{constructor(){}},ka=class extends vo{id;constructor(e){super(e),this.id=e}getId(){return this.id}equals(e){return e.toString()===this.id}toString(){return this.id}},br=class{constructor(){}},X0=(()=>{class i{compositionWarehouse;filterCommandInvoker;filterWarehouse;constructor(t,n,r){this.compositionWarehouse=t,this.filterCommandInvoker=n,this.filterWarehouse=r}static services=[an,br,Gr];findFilterTypes(t,n,r){let o=[];return this.compositionWarehouse.onTemplateColumns(n).pipe(ee(a=>a.find(l=>l.getName()===t)),nt(a=>a!==void 0),ya(1),_n(a=>this.filterWarehouse.onFilterTypesForFieldId(new ka(a.columnFieldId.getId()),r))).subscribe(a=>{o=a.map(l=>l.getName())}),o}findFilters(t,n){let r=this.filterWarehouse.findFilters(n).getValueOrNullOrThrowError(),o=this.compositionWarehouse.findColumnNames(t),a={};for(let l=0;l<o.length;l+=1)a[o[l]]=r.filter(d=>d.getFieldName()===o[l]).map(d=>({columnName:d.getFieldName(),filterId:d.getFilterId().toString(),type:d.getFilterTypeName(),value:d.getValue()}));return a}filter(t,n,r,o,a){this.compositionWarehouse.onTemplateColumns(o).pipe(ee(l=>l.find(d=>d.getName()===t)),nt(l=>l!==void 0),ya(1),_n(l=>this.filterWarehouse.onceFilterTypeId(new ka(l.columnFieldId.getId()),n,a).pipe(ee(d=>({fieldId:new ka(l.columnFieldId.getId()),filterTypeId:d}))))).subscribe(l=>{let{fieldId:d,filterTypeId:p}=l;p.ifPresent(m=>{this.filterCommandInvoker.add(d,m,r,a)})})}}return i})(),wn=class{constructor(){}},xn=class{constructor(){}},cn=class{constructor(){}},ln=class{constructor(){}},_s=class{constructor(){}},In=class{constructor(){}},un=class{constructor(){}},pE=class extends ga{constructor(e){super(e)}toAggregateId(){return new Ae(this.toString())}},Ae=class extends fa{constructor(e){super(e)}toReadModelRootId(){return new pE(this.getId())}},fE=class extends ga{constructor(e){super(e)}toAggregateId(){return new oi(this.toString())}},oi=class extends fa{constructor(e){super(e)}toReadModelRootId(){return new fE(this.getId())}},Ut=function(i){return i[i.NONE=0]="NONE",i[i.EVEN=1]="EVEN",i[i.ODD=2]="ODD",i}(Ut||{}),En=class{},dN=(()=>{class i extends Mi{schemaReadModelRepository;static VERTICAL_GRID_CLASS_NAME="gui-vertical-grid";static HORIZONTAL_GRID_CLASS_NAME="gui-horizontal-grid";static THEME_FABRIC_CLASS_NAME="gui-fabric";static THEME_MATERIAL_CLASS_NAME="gui-material";static THEME_LIGHT_CLASS_NAME="gui-light";static THEME_DARK_CLASS_NAME="gui-dark";static THEME_GENERIC_CLASS_NAME="gui-generic";static ROW_COLORING_ODD="gui-rows-odd";static ROW_COLORING_EVEN="gui-rows-even";classModifier;cssClass=null;cssHostRef;constructor(t){super(),this.schemaReadModelRepository=t,this.classModifier=new gp}init(t,n){this.cssHostRef=t,this.schemaReadModelRepository.onCssClasses(n).pipe(this.hermesTakeUntil()).subscribe(r=>{let o=this.updateState(r);this.renderCssClasses(o)})}updateState(t){if(this.cssClass){let n={};return Object.keys(this.cssClass).forEach(r=>{t[r]!==this.cssClass[r]&&(n[r]=t[r])}),this.cssClass=t,n}else return this.cssClass=t,this.cssClass}renderCssClasses(t){t.hasOwnProperty("verticalGrid")&&this.toggleCssClass(t.verticalGrid,i.VERTICAL_GRID_CLASS_NAME),t.hasOwnProperty("horizontalGrid")&&this.toggleCssClass(t.horizontalGrid,i.HORIZONTAL_GRID_CLASS_NAME),t.hasOwnProperty("theme")&&(this.removeThemeCssClasses(),this.addClass(this.resolveThemeClassName(t.theme))),t.hasOwnProperty("rowColoring")&&(this.removeRowColoringClasses(),this.addClass(this.resolveRowColoringClassName(t.rowColoring)))}toggleCssClass(t,n){t?this.addClass(n):this.removeClass(n)}removeThemeCssClasses(){Object.keys(se).map(t=>se[t]).map(t=>this.resolveThemeClassName(t)).filter(t=>!!t).forEach(t=>{this.removeClass(t)})}resolveThemeClassName(t){switch(t){case se.FABRIC:case se[se.FABRIC]:return i.THEME_FABRIC_CLASS_NAME;case se.MATERIAL:case se[se.MATERIAL]:return i.THEME_MATERIAL_CLASS_NAME;case se.LIGHT:case se[se.LIGHT]:return i.THEME_LIGHT_CLASS_NAME;case se.DARK:case se[se.DARK]:return i.THEME_DARK_CLASS_NAME;case se.GENERIC:case se[se.GENERIC]:return i.THEME_GENERIC_CLASS_NAME;default:return i.THEME_FABRIC_CLASS_NAME}}resolveRowColoringClassName(t){switch(t){case Ut.ODD:case Ut[Ut.ODD]:return i.ROW_COLORING_ODD;case Ut.EVEN:case Ut[Ut.EVEN]:return i.ROW_COLORING_EVEN;default:return null}}removeRowColoringClasses(){Object.keys(Ut).map(t=>Ut[t]).map(t=>this.resolveRowColoringClassName(t)).filter(t=>!!t).forEach(t=>{this.removeClass(t)})}addClass(t){t&&this.classModifier.getElement(this.cssHostRef.nativeElement).add(t)}removeClass(t){t&&this.classModifier.getElement(this.cssHostRef.nativeElement).remove(t)}static \u0275fac=function(n){return new(n||i)(M(En))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),fv=(()=>{class i extends yn{constructor(){super()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),gv=(()=>{class i extends yn{constructor(){super()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),mv=class{enabled=!1;infoDialog=!0;columnsManager=!0;schemaManager=!0;sourceSize=!0;constructor(e,t,n,r,o){this.isNotUndefinedOrNull(e)&&(this.enabled=e),this.isNotUndefinedOrNull(t)&&(this.infoDialog=t),this.isNotUndefinedOrNull(n)&&(this.columnsManager=n),this.isNotUndefinedOrNull(o)&&(this.sourceSize=o),this.isNotUndefinedOrNull(r)&&(this.schemaManager=r)}isEnabled(){return this.enabled}isInfoDialogEnabled(){return this.infoDialog}isColumnsManagerEnabled(){return this.columnsManager}isSourceSizeEnabled(){return this.sourceSize}isSchemaManagerEnabled(){return this.schemaManager}isNotUndefinedOrNull(e){return e!=null}},Cs=class extends yn{constructor(){super(new mv)}},sK=new ie("StructureComponentToken"),tc=(()=>{class i{innerElementRef;innerClassModifier;constructor(t){this.innerElementRef=t,this.initClassModifier(),this.addHostClass()}addClassToHost(t){this.innerClassModifier.getHost().add(t)}removeClassFromHost(t){this.innerClassModifier.getHost().remove(t)}hasChanged(t){return t!==void 0&&t.currentValue!==void 0}ifChanged(t,n){this.hasChanged(t)&&n()}initClassModifier(){this.innerClassModifier=new gp(this.innerElementRef.nativeElement)}addHostClass(){this.innerClassModifier.getHost().add(this.getSelectorName())}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275dir=ne({type:i})}return i})(),Wt=(()=>{class i extends tc{detector;viewInDom=!1;unsubscribe$=new Yt;constructor(t,n){super(n),this.detector=t}ngAfterViewInit(){this.viewInDom=!0}ngOnDestroy(){this.unsubscribe()}reRender(){this.isViewInDom()&&this.detector.detectChanges()}isViewInDom(){return this.viewInDom}subscribe(t,n){t.pipe(this.takeUntil()).subscribe(r=>{n(r),this.reRender()})}subscribeWithoutRender(t,n){t.pipe(this.takeUntil()).subscribe(r=>{n(r)})}subscribeAndEmit(t,n,r=o=>o){t.pipe(this.takeUntil()).subscribe(o=>{n.emit(r(o))})}unsubscribe(){this.unsubscribe$.next(),this.unsubscribe$.complete()}takeUntil(){return rn(this.unsubscribe$)}static \u0275fac=function(n){return new(n||i)(f(oe),f(F))};static \u0275dir=ne({type:i,features:[H]})}return i})(),Aa=function(i){return i[i.ENTER=0]="ENTER",i[i.SUBMIT=1]="SUBMIT",i[i.CANCEL=2]="CANCEL",i}(Aa||{}),Re=class extends rs{},mh=class extends Re{fieldConfigs;constructor(e,t){super(e,"InitFieldsCommand"),this.fieldConfigs=t}getFieldConfigs(){return this.fieldConfigs}},Be=class extends mo{},zl=class extends Be{fieldConfigs;fields;constructor(e,t,n){super(e,{fieldConfigs:t,fields:n},"FieldsInitedEvent"),this.fieldConfigs=t,this.fields=n}getFields(){return this.fields}},vh=class{id;constructor(e){this.id=e}getId(){return this.id}},gE=class{column;field;constructor(e,t){this.column=e,this.field=t}getColumn(){return this.column}getField(){return this.field}},mE=class{structureId;compositionId;columnFieldFactory;columnAutoConfigurator;compositionCommandInvoker;commandDispatcher=P.resolve(wi);domainEventBus=P.resolve($n);columns;constructor(e,t,n,r,o){this.structureId=e,this.compositionId=t,this.columnFieldFactory=n,this.columnAutoConfigurator=r,this.compositionCommandInvoker=o}handle(e){let t=[];if(e.columns!==void 0&&e.columns.currentValue!==void 0)t=e.columns.currentValue,this.columns=t;else if(this.columns===void 0&&e.source!==void 0&&e.source!==null)t=this.columnAutoConfigurator.configure(e.source.currentValue),this.columns=t;else return;this.compositionCommandInvoker.setGroups(t,this.compositionId);let{columns:n,groups:r}=this.getConfigs(t),o=this.getFieldConfigs(n),a=new mh(this.structureId,o);this.domainEventBus.ofEvents([zl]).pipe(nt(l=>l.getAggregateId().toString()===this.structureId.toString()),ya(1)).subscribe(l=>{let d=l.getFields(),p=this.convertColumnFieldIds(d),m=this.convertColumns(n,d,p);this.compositionCommandInvoker.setColumns(m,this.compositionId)}),this.commandDispatcher.dispatch(a)}getConfigs(e){let t=[],n=[];for(let r=0;r<e.length;r+=1){let o=e[r];o.columns!==void 0?(n.push(o),t=t.concat(o.columns)):t.push(o)}return{columns:t,groups:n}}getFieldConfigs(e){return e.map(t=>({field:t.field,type:t.type,matcher:t.matcher,summaries:t.summaries,sorting:t.sorting}))}convertColumnFieldIds(e){return e?e.map(t=>new vh(t.getId().getId())):[]}convertColumns(e,t,n){return e?e.map((r,o)=>{let a=n[o],l=t[o],d=this.columnFieldFactory.create(a,l.getAccessorMethod(),l.getDataType(),l.getSearchAccessorMethod());return new gE(r,d)}):[]}},ws=class{},vE=class extends fa{constructor(e){super(e)}toReadModelRootId(){return new mi(this.getId())}},mi=class extends ga{constructor(e){super(e)}toAggregateId(){return new vE(this.getId())}},qr=class extends zr{},bE=class{after;before;constructor(e,t){this.after=e,this.before=t}},bh=class extends Be{beforeItem;afterItem;constructor(e,t,n){super(e,{beforeItem:t,afterItem:n},"StructureSourceItemEditedEvent"),this.beforeItem=t,this.afterItem=n}getBeforeItem(){return this.beforeItem}getAfterItem(){return this.afterItem}},Pa=class{domainEventBus=P.resolve($n);onSourceEdited(e){return this.domainEventBus.ofEvents([bh]).pipe(nt(t=>t.getAggregateId().toString()===e.toString()),ee(t=>{let n=t.getAfterItem().getSourceItem(),r=t.getBeforeItem().getSourceItem();return new bE(n,r)}))}},xs=class extends zr{},Dn=class{constructor(){}},yh=class extends Be{selectedRows;allSelected;allUnselected;constructor(e,t,n,r){super(e,{selectedRows:t,allSelected:n,allUnselected:r},"SelectedRowChangedEvent"),this.selectedRows=t,this.allSelected=n,this.allUnselected=r}getSelectedRows(){return this.selectedRows}isAllSelected(){return this.allSelected}isAllUnselected(){return this.allUnselected}},Ss=(()=>{class i extends zr{sourceWarehouse;domainEventBusTOREMOVE;map=new Map;subject$=new Yt;constructor(t,n){super(),this.sourceWarehouse=t,this.domainEventBusTOREMOVE=n,this.domainEventBusTOREMOVE.ofEvents([yh]).pipe(_n(r=>{let o=r.getSelectedRows(),a=r.getAggregateId();return this.sourceWarehouse.onPreparedItems(a).pipe(ya(1),ee(l=>{let d=[],p=l.length,m=new Map;for(let b=0;b<p;b+=1)m.set(l[b].getId().toString(),l[b]);for(let b=0;b<o.length;b+=1){let w=m.get(o[b]);d.push(new Hl(w.getSourceItem(),b,w.getId()))}return{id:a,items:d}}))})).subscribe(r=>{this.map.set(r.id.toString(),r.items),this.subject$.next(this.map)})}static services=[Dn,$n];onItemSelected(t){return this.subject$.toObservable().pipe(nt(n=>n.has(t.toString())),ee(n=>n.get(t.toString())))}}return i})(),vv=class{enabled=!1;rowEdit=()=>!0;cellEdit=()=>!0;constructor(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.rowEdit!==void 0&&(this.rowEdit=e.rowEdit),e.cellEdit!==void 0&&(this.cellEdit=e.cellEdit)}isEnabled(e,t,n){return this.enabled&&this.rowEdit(e,t,n)&&this.cellEdit(e,t,n)}},Mo=class i extends Ct{static default=new vv({enabled:!1});constructor(){super(i.default)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})},_h=class{convert(e){let t,n,r,o;return e.infoDialog!==void 0&&(t=e.infoDialog),e.columnsManager!==void 0&&(n=e.columnsManager),e.schemaManager!==void 0&&(o=e.schemaManager),e.sourceSize!==void 0&&(r=e.sourceSize),new mv(e.enabled,t,n,o,r)}},bv=(()=>{class i{structureInfoPanelConfigConverter;structureInfoPanelArchive;constructor(t,n){this.structureInfoPanelConfigConverter=t,this.structureInfoPanelArchive=n}static services=[_h,Cs];set(t){let n=this.structureInfoPanelConfigConverter.convert(t);this.structureInfoPanelArchive.next(n)}static \u0275fac=function(n){return new(n||i)(M(_h),M(Cs))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),yE=class{fieldId;accessor;searchAccessor;dataType;constructor(e,t,n,r){this.fieldId=e,this.accessor=t,this.dataType=n,this.searchAccessor=r}getId(){return this.fieldId}getValue(e){return this.accessor(e)}getAccessor(){return this.accessor}getSearchAccessor(){return this.searchAccessor}getDataType(){return this.dataType}},Oa=class{create(e,t,n,r){return new yE(e,t,n,r)}},Zr=class extends zr{constructor(){super()}},Ch=(()=>{class i extends yn{constructor(){super(!1)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),Kr=class extends zr{constructor(){super()}},yr=class{},ou=(()=>{class i extends Ct{static default=!1;constructor(){super(i.default)}on(t){return super.on(t).pipe(nt(n=>n))}once(t){return _a(this.on(t))}}return i})(),aK=(()=>{class i extends Wt{changeDetectorRef;columnAutoConfigurator;structureId;compositionId;schemaId;structureCommandInvoker;structurePagingCommandDispatcher;pagingEventRepository;sortingCommandInvoker;searchCommandInvoker;sourceCommandService;sourceEventService;schemaCommandInvoker;compositionCommandDispatcher;compositionEventRepository;formationEventService;structureEditModeArchive;structureCellEditArchive;structureInfoPanelConfigService;structureCellEditStore;columnFieldFactory;formationCommandDispatcher;searchEventRepository;structureHeaderBottomEnabledArchive;schemaEventRepository;translationService;structureInitialValuesReadyArchive;maxHeight;width;rowHeight;autoResizeWidth;source=[];columns;editMode;cellEditing;theme;themeChanged=new J;columnsChanged=new J;containerWidthChanged=new J;sourceEdited=new J;cellEditEntered=new J;cellEditCanceled=new J;cellEditSubmitted=new J;structureColumnInputHandler;changeAfterInit=!1;constructor(t,n,r,o,a,l,d,p,m,b,w,E,T,V,A,$,ce,Te,we,Ot,mt,ct,Xt,vt,wt,ks,bi,An){super(t,n),this.changeDetectorRef=t,this.columnAutoConfigurator=r,this.structureId=o,this.compositionId=a,this.schemaId=l,this.structureCommandInvoker=d,this.structurePagingCommandDispatcher=p,this.pagingEventRepository=m,this.sortingCommandInvoker=b,this.searchCommandInvoker=w,this.sourceCommandService=E,this.sourceEventService=T,this.schemaCommandInvoker=V,this.compositionCommandDispatcher=A,this.compositionEventRepository=$,this.formationEventService=ce,this.structureEditModeArchive=Te,this.structureCellEditArchive=we,this.structureInfoPanelConfigService=Ot,this.structureCellEditStore=mt,this.columnFieldFactory=ct,this.formationCommandDispatcher=Xt,this.searchEventRepository=vt,this.structureHeaderBottomEnabledArchive=wt,this.schemaEventRepository=ks,this.translationService=bi,this.structureInitialValuesReadyArchive=An,this.structureColumnInputHandler=new mE(o,a,ct,r,A),this.translationService.setDefaultTranslation()}ngOnChanges(t){Et(t.editMode,()=>{this.structureEditModeArchive.next(this.editMode)}),Et(t.cellEditing,()=>{let n;typeof this.cellEditing=="boolean"?n={enabled:this.cellEditing}:n=this.cellEditing,this.structureCommandInvoker.setCellEdit(n,this.structureId)}),Et(t.width,n=>{this.compositionCommandDispatcher.setWidth(n,this.compositionId)}),Et(t.theme,()=>{this.schemaCommandInvoker.setTheme(this.theme,this.schemaId,this.structureId)}),Et(t.rowHeight,()=>{this.structureCommandInvoker.setRowHeight(this.rowHeight,this.structureId)}),Et(t.autoResizeWidth,()=>{this.compositionCommandDispatcher.setResizeWidth(this.autoResizeWidth,this.compositionId)}),this.structureColumnInputHandler.handle(t),Et(t.maxHeight,()=>{this.structureCommandInvoker.setContainerHeight(this.maxHeight,this.structureId)}),Et(t.source,()=>{this.sourceCommandService.setOrigin(this.source,this.structureId)})}ngOnInit(){this.compositionEventRepository.onColumnsChanged(this.compositionId.toReadModelRootId()).pipe(this.takeUntil()).subscribe(()=>{this.columnsChanged.emit()}),this.compositionEventRepository.onContainerWidthChanged(this.compositionId.toReadModelRootId()).pipe(this.takeUntil()).subscribe(t=>{this.containerWidthChanged.emit(t)}),this.sourceEventService.onSourceEdited(this.structureId).subscribe(t=>{this.sourceEdited.emit(t)}),this.structureCellEditStore.on().pipe(this.takeUntil()).subscribe(t=>{switch(t){case Aa.ENTER:this.cellEditEntered.emit();break;case Aa.SUBMIT:this.cellEditSubmitted.emit();break;case Aa.CANCEL:this.cellEditCanceled.emit();break;default:break}}),this.subscribeAndEmit(this.schemaEventRepository.onThemeChanged(this.schemaId),this.themeChanged),this.componentInitialized()}componentInitialized(){this.changeAfterInit=!0}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(ws),f(Ae),f(oi),f(mi),f(ln),f(un),f(qr),f(In),f(xn),f(wn),f(Pa),f(cn),f(Yn),f(xs),f(Ss),f(gv),f(Mo),f(bv),f(fv),f(Oa),f(Ai),f(Zr),f(Ch),f(Kr),f(yr),f(ou))};static \u0275dir=ne({type:i,inputs:{maxHeight:"maxHeight",width:"width",rowHeight:"rowHeight",autoResizeWidth:"autoResizeWidth",source:"source",columns:"columns",editMode:"editMode",cellEditing:"cellEditing",theme:"theme"},outputs:{themeChanged:"themeChanged",columnsChanged:"columnsChanged",containerWidthChanged:"containerWidthChanged",sourceEdited:"sourceEdited",cellEditEntered:"cellEditEntered",cellEditCanceled:"cellEditCanceled",cellEditSubmitted:"cellEditSubmitted"},features:[H,le]})}return i})(),yv=class i{enabled;sort;filter;columnsManager;mainMenu="Menu";filterMenu="Filter";columnsMenu="Columns";constructor(e=!1,t=!0,n=!1,r=!1){this.enabled=e,this.sort=t,this.filter=n,this.columnsManager=r}static default(){return new i}static fromConfig(e){return new i(e.enabled,e.sort,e.filter,e.columnsManager)}isEnabled(){return this.enabled&&(this.sort||this.filter||this.columnsManager)}isMainEnabled(){return this.sort}isSortingEnabled(){return this.sort}isFilteringEnabled(){return this.filter}isColumnManagerEnabled(){return this.columnsManager}getMenus(){let e=[];return this.isMainEnabled()&&e.push(this.getMainMenu()),this.isFilteringEnabled()&&e.push(this.getFilterMenu()),this.isColumnManagerEnabled()&&e.push(this.getColumnMenu()),e}getActiveMenu(){return this.getMenus()[0]}getMainMenu(){return this.mainMenu}getFilterMenu(){return this.filterMenu}getColumnMenu(){return this.columnsMenu}setMainMenu(e){this.mainMenu=e}setFilterMenu(e){this.filterMenu=e}setColumnsMenu(e){this.columnsMenu=e}},wh=(()=>{class i extends yn{constructor(){super(yv.default())}nextConfig(t){let n=yv.fromConfig(t);this.next(n)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),xN=(()=>{class i{closeAll$=new Yt;closeAll(){this.closeAll$.next()}onCloseAll(){return this.closeAll$.toObservable()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),tT=(()=>{class i extends yn{constructor(){super(!0)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),_v=(()=>{class i extends yn{constructor(){super({enabled:!1,template:t=>"Detail View"})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),IN=new ie("structureRowDetailViewItem"),EN=new ie("structureRowDetailViewTemplate"),DN=(()=>{class i extends tc{subClassConstructor;constructor(t){super(t),this.subClassConstructor=this.constructor,this.hasInputs()&&this.throwError("it cannot have properties annotated with @Inputs().")}hasInputs(){return!this.isEmpty(this.constructor.\u0275cmp.inputs)}throwError(t){throw new Error(`Component "${this.subClassConstructor.name}" is a DynamicallyCreatedComponent, ${t}.`)}isEmpty(t){for(let n in t)if(t.hasOwnProperty(n))return!1;return!0}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275dir=ne({type:i,features:[H]})}return i})(),cK=(()=>{class i extends DN{item;template;sanitizer;selectedRowValue;safeHTML;constructor(t,n,r,o){super(t),this.item=n,this.template=r,this.sanitizer=o,this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.template(this.item.getItem(),this.item.getIndex())),this.selectedRowValue=this.item.getItem()}getSelectorName(){return"gui-row-detail"}static \u0275fac=function(n){return new(n||i)(f(F),f(IN),f(EN),f(rl))};static \u0275cmp=z({type:i,selectors:[["div","gui-row-detail",""]],features:[H],attrs:g9,decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(n,r){n&1&&R(0,"div",0),n&2&&_("innerHTML",r.safeHTML,ta)},encapsulation:2,changeDetection:0})}return i})(),hN=(()=>{class i extends Mi{injector;structureId;structureDetailViewConfigArchive;formationEventService;drawerService;enabled=!1;config;elementRef;constructor(t,n,r,o,a){super(),this.injector=t,this.structureId=n,this.structureDetailViewConfigArchive=r,this.formationEventService=o,this.drawerService=a}init(t){this.elementRef=t,this.structureDetailViewConfigArchive.on().pipe(this.hermesTakeUntil()).subscribe(n=>{this.config=n,n.enabled===!0?this.turnOn():n.enabled===!1&&this.turnOff()}),this.formationEventService.onItemSelected(this.structureId).pipe(this.hermesTakeUntil()).subscribe(n=>{if(!this.enabled||(this.drawerService.close(),n.length===0))return;let r=n[0],o=Pe.create({parent:this.injector,providers:[{provide:IN,useValue:r},{provide:EN,useValue:this.config.template}]});this.drawerService.open({appendToElement:this.elementRef,component:cK,injector:o})})}turnOn(){this.enabled=!0}turnOff(){this.enabled=!1}static \u0275fac=function(n){return new(n||i)(M(Pe),M(Ae),M(_v),M(Ss),M(rv))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),uv=function(i){return i[i.TOP=0]="TOP",i[i.BOTTOM=1]="BOTTOM",i}(uv||{}),Sa=function(i){return i.SELECTED="selected",i.PAGING_TOP_CLASS_NAME="gui-paging-top",i.PAGING_BOTTOM_CLASS_NAME="gui-paging-bottom",i}(Sa||{}),si=(()=>{class i{state={};state$=new nn;destroy$=new nn;ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setValue(t){this.state=Object.assign({},this.state,t),this.state$.next(this.state)}getValue(t){return t!==void 0?this.state[t]:this.state}select(t){let n=this.state$;return t!==void 0&&(n=this.state$.pipe(ee(r=>r[t]))),n.pipe(Un())}connect(t,n){typeof t=="string"?n.pipe(rn(this.destroy$)).subscribe(r=>{this.setPartialState(t,r)}):t.pipe(rn(this.destroy$)).subscribe(r=>{this.setValue(r)})}setPartialState(t,n){let r={};r[t]=n,this.state=Object.assign({},this.state,r),this.state$.next(this.state)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),Cv=class{unsubscribe$=new Yt;constructor(){}takeUntil(){return rn(this.unsubscribe$)}unsubscribe(){this.unsubscribe$.isCompleted||(this.unsubscribe$.next(),this.unsubscribe$.complete())}},vi=(()=>{class i{streamCloser=new Cv;hermesUnsubscribe$=new Yt;constructor(){}ngOnDestroy(){this.streamCloser.unsubscribe(),this.hermesUnsubscribe()}isDefined(t,n){return n[t]!==void 0&&n[t].currentValue!==void 0}subscribeAndEmit(t,n){t.pipe(this.hermesTakeUntil()).subscribe(r=>{n.emit(r)})}unsubscribe(){this.streamCloser.unsubscribe()}hermesUnsubscribe(){this.hermesUnsubscribe$.next(),this.hermesUnsubscribe$.complete()}hermesTakeUntil(){return rn(this.hermesUnsubscribe$)}takeUntil(){return this.streamCloser.takeUntil()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=ne({type:i})}return i})(),SN=(()=>{class i extends tc{changeDetectorRef;constructor(t,n){super(t),this.changeDetectorRef=n}ngOnInit(){this.changeDetectorRef.detach()}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275dir=ne({type:i,features:[H]})}return i})(),su=(()=>{class i extends SN{constructor(t,n){super(t,n),this.addClassToHost("gui-icon")}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275dir=ne({type:i,features:[H]})}return i})(),Ei=(()=>{class i extends tc{subClassConstructor;subClassNgOnInit;constructor(t){super(t),this.subClassConstructor=this.constructor,this.subClassNgOnInit=this.ngOnInit,this.hasConstructorOnlyElementRefInjected(arguments)||this.throwError("it should not inject services"),this.subClassNgOnInit&&this.throwError("it should not use ngOnInit")}hasConstructorOnlyElementRefInjected(t){return arguments.length>1?!1:arguments.length===1?this.isElementRef(arguments[0]):!1}isElementRef(t){return t.nativeElement!==null}throwError(t){throw new Error(`Component "${this.subClassConstructor.name}" is a PureComponent, ${t}.`)}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275dir=ne({type:i,features:[H]})}return i})();var Na=class{classModifier=new gp;select(e){this.classModifier.getElement(e).add(Sa.SELECTED)}unselect(e){this.classModifier.getElement(e).remove(Sa.SELECTED)}add(e,t){this.classModifier.getElement(e).add(t)}remove(e,t){this.classModifier.getElement(e).remove(t)}toggle(e){}},ko=class{constructor(){}},J0=(()=>{class i extends yn{constructor(){super(To.BASIC)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),Is=class{destroy$=new nn(1);subscription;subscribe(e,t){this.subscription!==void 0&&this.subscription.unsubscribe(),this.subscription=e.pipe(Un(),rn(this.destroy$)).subscribe(n=>t(n),n=>this.onError(n),()=>this.onComplete())}destroy(){this.destroy$.next(),this.destroy$.complete()}onError(e){}onComplete(){}},_E=class{cd;vcr;template;constructor(e,t,n){this.cd=e,this.vcr=t,this.template=n}onNext(e){this.vcr.clear(),this.vcr.createEmbeddedView(this.template,{$implicit:e}),this.cd.detectChanges()}},Zi=(()=>{class i{subscriber;cd;vcr;template;guiLet;guiLetViewChanger;constructor(t,n,r,o){this.subscriber=t,this.cd=n,this.vcr=r,this.template=o,this.guiLetViewChanger=new _E(this.cd,this.vcr,this.template)}ngOnChanges(t){t.guiLet!==void 0&&this.subscriber.subscribe(this.guiLet,n=>{this.guiLetViewChanger.onNext(n)})}ngOnDestroy(){this.subscriber.destroy()}static \u0275fac=function(n){return new(n||i)(f(Is),f(oe),f(Si),f(at))};static \u0275dir=ne({type:i,selectors:[["","guiLet",""]],inputs:{guiLet:"guiLet"},features:[pt([Is]),le]})}return i})(),Sn=(()=>{class i{changeDetectorRef;translationService;actualTranslationValue="";subscription;constructor(t,n){this.changeDetectorRef=t,this.translationService=n}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(t){return this.subscription&&this.subscription.unsubscribe(),this.subscription=this.translationService.onTranslation().subscribe(n=>{let r=n[t];r||(this.actualTranslationValue=t),this.actualTranslationValue=r,this.changeDetectorRef.markForCheck()}),this.actualTranslationValue}static \u0275fac=function(n){return new(n||i)(f(oe,16),f(yr,16))};static \u0275pipe=Xs({name:"guiTranslate",type:i,pure:!1})}return i})(),lK=(()=>{class i extends Ei{paging;sourceSize;nextPageChanged=new J;prevPageChanged=new J;prevDisabled=!1;nextDisabled=!1;constructor(t){super(t)}ngOnChanges(){this.calculatePrev(),this.calculateNext()}prevPage(){this.prevPageChanged.emit()}nextPage(){this.nextPageChanged.emit()}getSelectorName(){return"gui-paging-navigator"}calculatePrev(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())}calculateNext(){!this.paging&&!this.sourceSize||(this.nextDisabled=this.paging.isNextPageDisabled())}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-paging-navigator","","paging",""]],inputs:{paging:"paging",sourceSize:"sourceSize"},outputs:{nextPageChanged:"nextPageChanged",prevPageChanged:"prevPageChanged"},features:[H,le],attrs:m9,decls:7,vars:8,consts:[["gui-button","",1,"gui-paging-navigator-prev","gui-mr-5",3,"disabled","click"],["gui-button","",1,"gui-paging-navigator-next","gui-mr-0",3,"disabled","click"]],template:function(n,r){n&1&&(C(0,"gui-button-group")(1,"button",0),Y("click",function(){return r.prevPage()}),j(2),be(3,"guiTranslate"),x(),C(4,"button",1),Y("click",function(){return r.nextPage()}),j(5),be(6,"guiTranslate"),x()()),n&2&&(y(1),_("disabled",r.prevDisabled),y(1),ge(" ",Se(3,4,"pagingPrevPage")," "),y(2),_("disabled",r.nextDisabled),y(1),ge(" ",Se(6,6,"pagingNextPage")," "))},dependencies:[Do,J2,Sn],encapsulation:2,changeDetection:0})}return i})(),uK=(()=>{class i extends Ei{paging;pageSizeChanged=new J;selectPageSizes;selectPageSize;constructor(t){super(t)}ngOnChanges(t){Et(t.paging,()=>{this.paging&&(this.selectPageSizes=this.getSelectPageSizes(),this.selectPageSize=this.getSelectPageSize(this.paging.getPageSize()))})}changePageSize(t){this.pageSizeChanged.emit(+t.value)}getSelectorName(){return"gui-paging-select"}getSelectPageSizes(){let t=[];return this.paging.getPageSizes().forEach(r=>{let o=this.getSelectPageSize(r);t.push(o)}),t}getSelectPageSize(t){return{name:t.toString(),value:t.toString()}}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-paging-select","","paging",""]],inputs:{paging:"paging"},outputs:{pageSizeChanged:"pageSizeChanged"},features:[H,le],attrs:v9,decls:4,vars:6,consts:[[1,"gui-inline-block","gui-mr-5"],[3,"options","selected","width","optionChanged"]],template:function(n,r){n&1&&(C(0,"span",0),j(1),be(2,"guiTranslate"),x(),C(3,"gui-select",1),Y("optionChanged",function(a){return r.changePageSize(a)}),x()),n&2&&(y(1),ge(" ",Se(2,4,"pagingItemsPerPage"),`
`),y(2),_("options",r.selectPageSizes)("selected",r.selectPageSize)("width",25))},dependencies:[sv,Sn],encapsulation:2,changeDetection:0})}return i})(),dK=(()=>{class i extends Ei{paging;sourceSize;firstItemIndex;lastItemIndex;constructor(t){super(t),this.addClassToHost("gui-mx-6")}ngOnChanges(){this.calculate()}calculate(){this.paging&&(this.firstItemIndex=this.paging.getStart(),this.lastItemIndex=this.paging.getEnd(),this.sourceSize=this.paging.getSourceSize())}isSourceNotEmpty(){return this.sourceSize>0}getSelectorName(){return"gui-paging-stats"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-paging-stats","","paging",""]],inputs:{paging:"paging"},features:[H,le],attrs:b9,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noSource",""],[1,"gui-paging-source-stats"],[1,"gui-paging-source-size"],[1,"gui-paging-source-stats","gui-paging-no-items"]],template:function(n,r){if(n&1&&Q(0,y9,12,6,"ng-container",0)(1,_9,3,3,"ng-template",null,1,_t),n&2){let o=sd(2);_("ngIf",r.isSourceNotEmpty())("ngIfElse",o)}},dependencies:[Ft,Sn],encapsulation:2,changeDetection:0})}return i})(),hK=(()=>{class i extends Ei{structureId;pagingCommandInvoker;paging;sourceSize;nextPageChanged=new J;prevPageChanged=new J;prevDisabled=!1;nextDisabled=!1;constructor(t,n,r){super(t),this.structureId=n,this.pagingCommandInvoker=r}ngOnChanges(){this.calculatePrev(),this.calculateNext()}prevPage(){this.prevPageChanged.emit()}nextPage(){this.nextPageChanged.emit()}firstPage(){this.pagingCommandInvoker.goToPage(1,this.paging.getPage(),this.structureId)}lastPage(){let t=Math.ceil(this.sourceSize/this.paging.getPageSize());this.pagingCommandInvoker.goToPage(t,this.paging.getPage(),this.structureId)}getSelectorName(){return"gui-paging-alternative-navigator"}calculatePrev(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())}calculateNext(){!this.paging&&!this.sourceSize||(this.nextDisabled=this.paging.isNextPageDisabled())}static \u0275fac=function(n){return new(n||i)(f(F),f(Ae),f(un))};static \u0275cmp=z({type:i,selectors:[["div","gui-paging-alternative-navigator","","paging","","sourceSize",""]],inputs:{paging:"paging",sourceSize:"sourceSize"},outputs:{nextPageChanged:"nextPageChanged",prevPageChanged:"prevPageChanged"},features:[H,le],attrs:C9,ngContentSelectors:w9,decls:17,vars:4,consts:[["gui-button","",3,"disabled","click"],["height","10.661","viewBox","0 0 11.081 10.661","width","11.081","xmlns","http://www.w3.org/2000/svg"],["transform","translate(-522.98 669.601) rotate(180)"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(-533.75 659.25)"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(-528.75 659.25)"],["gui-button","",1,"gui-paging-navigator-prev",3,"disabled","click"],["height","10.661","viewBox","0 0 6.081 10.661","width","6.081","xmlns","http://www.w3.org/2000/svg"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(5.77 10.351) rotate(180)"],["gui-button","",1,"gui-paging-navigator-next",3,"disabled","click"],["d","M.75.75,5.02,5.02.75,9.29","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","transform","translate(0.311 0.311)"],["transform","translate(534.061 -658.939)"]],template:function(n,r){n&1&&(Wi(),C(0,"button",0),Y("click",function(){return r.firstPage()}),Ui(),C(1,"svg",1)(2,"g",2),R(3,"path",3)(4,"path",4),x()()(),pg(),C(5,"button",5),Y("click",function(){return r.prevPage()}),Ui(),C(6,"svg",6),R(7,"path",7),x()(),Gi(8),pg(),C(9,"button",8),Y("click",function(){return r.nextPage()}),Ui(),C(10,"svg",6),R(11,"path",9),x()(),pg(),C(12,"button",0),Y("click",function(){return r.lastPage()}),Ui(),C(13,"svg",1)(14,"g",10),R(15,"path",3)(16,"path",4),x()()()),n&2&&(_("disabled",r.prevDisabled),y(5),_("disabled",r.prevDisabled),y(4),_("disabled",r.nextDisabled),y(3),_("disabled",r.nextDisabled))},dependencies:[Do],encapsulation:2,changeDetection:0})}return i})(),pK=(()=>{class i extends Ei{structureId;pagingCommandService;paging;sourceSize=0;currentPage;pages;numberOfVisiblePages=3;constructor(t,n,r){super(t),this.structureId=n,this.pagingCommandService=r}ngOnChanges(t){this.calculate()}calculate(){if(this.paging&&this.sourceSize){let t=Math.ceil(this.sourceSize/this.paging.getPageSize());if(this.currentPage=this.paging.getPage(),this.pages=[],this.pages.length<=t)for(let n=1;n<=t;n++)this.pages.push(n)}}isSourceNotEmpty(){return this.sourceSize>0}goToPage(t){let n=this.paging.getPage();this.pagingCommandService.goToPage(t,n,this.structureId)}calculateVisiblePages(t){return this.paging.calculateVisiblePages(this.currentPage,this.numberOfVisiblePages,t)}activePage(t){return this.currentPage===t}getSelectorName(){return"gui-paging-alternative-pages"}static \u0275fac=function(n){return new(n||i)(f(F),f(Ae),f(un))};static \u0275cmp=z({type:i,selectors:[["div","gui-paging-alternative-pages","","paging",""]],inputs:{paging:"paging",sourceSize:"sourceSize"},features:[H,le],attrs:x9,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noSource",""],[4,"ngFor","ngForOf"],[1,"relative"],[1,"gui-paging-page","gui-select-none","gui-cursor-pointer","gui-py-0","gui-px-6","gui-font-base",3,"click"],[1,"gui-paging-source-stats","gui-paging-no-items"]],template:function(n,r){if(n&1&&Q(0,E9,2,1,"ng-container",0)(1,D9,3,3,"ng-template",null,1,_t),n&2){let o=sd(2);_("ngIf",r.isSourceNotEmpty())("ngIfElse",o)}},dependencies:[di,Ft,Sn],encapsulation:2,changeDetection:0})}return i})(),fK=(()=>{class i extends tc{elRef;cssClassModifier;structureId;pagingWarehouse;pagingCommandInvoker;sourceWarehouse;pagingDisplayModeArchive;position;minimal;state=B(si);state$=this.state.select();constructor(t,n,r,o,a,l,d){super(t),this.elRef=t,this.cssClassModifier=n,this.structureId=r,this.pagingWarehouse=o,this.pagingCommandInvoker=a,this.sourceWarehouse=l,this.pagingDisplayModeArchive=d,this.addClassToHost("gui-flex"),this.addClassToHost("gui-justify-end"),this.addClassToHost("gui-items-center"),this.addClassToHost("gui-p-4"),this.state.setValue({alternativeDisplay:!1,isPagingVisible:!1}),this.state.connect("sourceSize",this.sourceWarehouse.onOriginSize(this.structureId)),this.state.connect("alternativeDisplay",this.selectIsAdvancedPagingEnabled()),this.state.connect("paging",this.pagingWarehouse.onPaging(this.structureId)),this.state.connect("isPagingVisible",this.selectIsPagingVisible())}ngOnChanges(t){t.position&&(this.position===uv.BOTTOM?(this.cssClassModifier.remove(this.elRef.nativeElement,Sa.PAGING_TOP_CLASS_NAME),this.cssClassModifier.add(this.elRef.nativeElement,Sa.PAGING_BOTTOM_CLASS_NAME)):(this.cssClassModifier.remove(this.elRef.nativeElement,Sa.PAGING_BOTTOM_CLASS_NAME),this.cssClassModifier.add(this.elRef.nativeElement,Sa.PAGING_TOP_CLASS_NAME)))}changePageSize(t){this.pagingCommandInvoker.changePageSize(t,this.structureId)}nextPage(t){t&&this.pagingCommandInvoker.nextPage(this.structureId)}prevPage(){this.pagingCommandInvoker.prevPage(this.structureId)}getSelectorName(){return"gui-paging"}selectIsPagingVisible(){return this.pagingWarehouse.onPaging(this.structureId).pipe(ee(t=>this.mapIsPagingVisible(t)))}mapIsPagingVisible(t){return t&&t.isEnabled()&&(this.position===uv.TOP&&t.isPagerTop()||this.position===uv.BOTTOM&&t.isPagerBottom())}selectIsAdvancedPagingEnabled(){return this.pagingDisplayModeArchive.on().pipe(ee(t=>t===To.ADVANCED))}static \u0275fac=function(n){return new(n||i)(f(F),f(Na),f(Ae),f(ko),f(un),f(Dn),f(J0))};static \u0275cmp=z({type:i,selectors:[["div","gui-paging","","position",""]],inputs:{position:"position",minimal:"minimal"},features:[pt([si]),H,le],attrs:S9,decls:1,vars:1,consts:[[4,"guiLet"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["minimalTemplate",""],["gui-paging-select","",3,"paging","pageSizeChanged"],["gui-paging-stats","",3,"paging"],["gui-paging-navigator","",3,"paging","sourceSize","nextPageChanged","prevPageChanged"],["gui-paging-alternative-navigator","",1,"gui-flex","gui-p-0",3,"paging","sourceSize","nextPageChanged","prevPageChanged"],["gui-paging-alternative-pages","",1,"gui-flex","gui-justify-center",3,"paging","sourceSize"]],template:function(n,r){n&1&&Q(0,R9,3,2,"ng-container",0),n&2&&_("guiLet",r.state$)},dependencies:[Ft,Zi,lK,uK,dK,hK,pK],styles:[`.gui-paging-alternative-navigator .gui-button{-ms-flex-line-pack:center;align-content:center;background:transparent;display:-ms-flexbox;display:flex;font-size:14px;line-height:21px;margin:0 2px;padding:0}.gui-paging-alternative-navigator .gui-button svg{-ms-flex-item-align:center;align-self:center;height:12px;margin:-1px 2px 0;width:auto}.gui-paging-alternative-navigator .gui-button svg path{stroke:#ccc;transition:stroke .3s ease-in-out}.gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-paging-alternative-navigator .gui-button:hover svg path{stroke:#333}.gui-paging-alternative-navigator .gui-button:disabled svg{opacity:.4}.gui-paging-alternative-navigator .gui-material .gui-button{padding:2px 16px}.gui-paging-alternative-pages{line-height:21px}.gui-paging-alternative-pages .gui-paging-page{display:none}.gui-paging-alternative-pages .gui-paging-visible-page .gui-paging-page{display:block;font-family:Arial,serif}.gui-paging-alternative-pages .gui-paging-visible-page.gui-paging-active-page{color:#333}.gui-paging-alternative-pages .gui-paging-visible-page.gui-paging-active-page .gui-paging-page{font-weight:700}.gui-paging-bottom{border-top:1px solid;border-top-color:inherit}.gui-paging-top{border-bottom:1px solid;border-bottom-color:inherit}
`,`.gui-generic .gui-paging,.gui-generic .gui-paging *{border-color:#2224261a;font-size:14px}
`],encapsulation:2,changeDetection:0})}return i})(),Es=class{},$l=class extends Be{constructor(e){super(e,null,"PageChangedEvent")}},Pt=class extends ua{},CE=class extends Pt{constructor(e){super(e,"PageChangedAggregateEvent")}toDomainEvent(){return new $l(this.getAggregateId())}},Ul=class extends Be{constructor(e){super(e,null,"PagesizeChangedEvent")}},wE=class extends Pt{constructor(e){super(e,"PagesizeChangedAggregateEvent")}toDomainEvent(){return new Ul(this.getAggregateId())}},wv=class i{enabled;page;pageSize;pageSizes;pagerTop;pagerBottom;sourceSize;events=[];logger;constructor(e,t,n,r,o,a,l,d){this.enabled=e,this.page=t,this.pageSize=n,this.pageSizes=r,this.pagerTop=o,this.pagerBottom=a,this.sourceSize=l,this.logger=d}static default(e){return new i(!1,1,25,[10,25,50,100],!1,!0,0,e)}static fromConfig(e,t){let n=i.default(t),r=e.enabled||n.isEnabled(),o=e.page||n.getPage(),a=e.pageSize||n.getPageSize(),l=e.pageSizes||n.getPageSizes(),d=e.pagerTop||n.isPagerTop(),p=e.pagerBottom||n.isPagerBottom();return new i(r,o,a,l,d,p,0,t)}isEnabled(){return this.enabled}isDisabled(){return!this.enabled}getPage(){return this.page}getPageSize(){return this.pageSize}getPageSizes(){return this.pageSizes}isPagerTop(){return this.isDisabled()?!1:this.pagerTop}isPagerBottom(){return this.isDisabled()?!1:this.pagerBottom}getSourceSize(){return this.sourceSize}change(e){e.enabled!==void 0&&(this.enabled=e.enabled),e.page!==void 0&&(this.page=e.page,e.enabled===void 0&&(this.enabled=!0)),e.pageSize!==void 0&&(this.pageSize=e.pageSize,e.enabled===void 0&&(this.enabled=!0)),e.pageSizes!==void 0&&(this.pageSizes=e.pageSizes,e.enabled===void 0&&(this.enabled=!0)),e.pagerTop!==void 0&&(this.pagerTop=e.pagerTop,e.enabled===void 0&&(this.enabled=!0)),e.pagerBottom!==void 0&&(this.pagerBottom=e.pagerBottom,e.enabled===void 0&&(this.enabled=!0)),this.enabled===!0&&e.pagerTop===!1&&e.pagerBottom===!1&&(this.pagerBottom=!0,this.logger.warn("Pagers cannot be turn off when paging is enabled."))}setSourceSize(e){this.sourceSize=e}nextPage(){let e=this.page;this.isNextPageDisabled()||(e+=1),this.page=e}prevPage(){let e=this.page;this.isPrevPageDisabled()||(e-=1),this.page=e}changePageSize(e){return this.pageSizes.find(t=>t===e)&&(this.setPage(1),this.setPageSize(e)),this.events}isNextPageDisabled(){return this.sourceSize===0?!0:this.page===Math.ceil(this.sourceSize/this.pageSize)}isPrevPageDisabled(){return this.page===1}calculateStart(){let e=1+(this.page-1)*this.pageSize;return this.sourceSize<e?0:e}calculateEnd(){let e=this.page*this.pageSize;return this.sourceSize<e?this.sourceSize:e}sample(e){if(this.isDisabled())return e;let t=this.calculateStart();return t!==0&&(t-=1),e.slice(t,this.calculateEnd())}clearEvents(){this.events.length=0}setPage(e){this.page=e,this.events.push(new CE(new Ae("TODO need to be changed")))}setPageSize(e){this.pageSize=e,this.events.push(new wE(new Ae("TODO need to be changed")))}},TN=(()=>{class i{logger;constructor(t){this.logger=t}static services=[Es];createDefault(){return wv.default(this.logger)}createFromConfig(t){return wv.fromConfig(t,this.logger)}}return i})(),xv=class extends Re{config;constructor(e,t){super(e,"SetPagingCommand"),this.config=t}getPagingConfig(){return this.config}},Iv=class extends Re{pageSize;constructor(e,t){super(e,"ChangePagesizeCommand"),this.pageSize=t}getPageSize(){return this.pageSize}},Ev=class extends Re{constructor(e){super(e,"NextPageCommand")}},Dv=class extends Re{constructor(e){super(e,"PrevPageCommand")}},MN=(()=>{class i{commandDispatcher;constructor(t){this.commandDispatcher=t}static services=[wi];setPaging(t,n){this.commandDispatcher.dispatch(new xv(n,t))}changePageSize(t,n){this.commandDispatcher.dispatch(new Iv(n,t))}nextPage(t){this.commandDispatcher.dispatch(new Ev(t))}prevPage(t){this.commandDispatcher.dispatch(new Dv(t))}}return i})(),xh=class extends Be{constructor(e){super(e,null,"PagingSetEvent")}},xE=class{domainEventPublisher=P.resolve(et);forCommand(){return xv}handle(e,t){let n=t.getPagingConfig();e.changePaging(n)}publish(e,t){this.domainEventPublisher.publish(new xh(t.getAggregateId()))}},Ih=class extends Be{constructor(e){super(e,null,"NextPageEvent")}},IE=class{domainEventPublisher=P.resolve(et);forCommand(){return Ev}handle(e,t){e.nextPage()}publish(e,t){this.domainEventPublisher.publish(new Ih(t.getAggregateId()))}},Eh=class extends Be{constructor(e){super(e,null,"PrevPageEvent")}},EE=class{domainEventPublisher=P.resolve(et);forCommand(){return Dv}handle(e,t){e.prevPage()}publish(e,t){this.domainEventPublisher.publish(new Eh(t.getAggregateId()))}},DE=class{domainEventPublisher=P.resolve(et);forCommand(){return Iv}handle(e,t){let n=t.getPageSize();e.changePageSize(n)}publish(e,t){let n=e.getEvents();n.forEach(r=>{r.aggregateId=e.getId()}),this.publishAggregateEvents(n,t),e.clearEvents()}publishAggregateEvents(e,t){for(let n of e)this.publishAggregateEvent(n,t)}publishAggregateEvent(e,t){switch(e.getType()){case"PageChangedAggregateEvent":let n=new $l(t.getAggregateId());this.domainEventPublisher.publish(n);break;case"PagesizeChangedAggregateEvent":let r=new Ul(t.getAggregateId());this.domainEventPublisher.publish(r);break;case"StructurePreparedEntitiesSetAggregateEvent":this.domainEventPublisher.publish(e.toDomainEvent());break;default:break}}},Qn="StructureAggregate",SE=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(MN),e.provide(TN)}registerCommandHandlers(){return[xE,IE,EE,DE]}registerDomainEventHandler(){return[]}registerMultiDomainEventHandler(){return[]}},gK=(()=>{let i=class{enabled;page;pageSize;pageSizes;pagerTop;pagerBottom;isNextDisabled;isPrevDisabled;start;end;sourceSize;constructor(t,n,r,o,a,l,d,p,m,b,w){this.enabled=t,this.page=n,this.pageSize=r,this.pageSizes=o,this.pagerTop=a,this.pagerBottom=l,this.isNextDisabled=d,this.isPrevDisabled=p,this.start=m,this.end=b,this.sourceSize=w}isEnabled(){return this.enabled}getPage(){return this.page}getPageSize(){return this.pageSize}getPageSizes(){return this.pageSizes}isPagerTop(){return this.pagerTop}isPagerBottom(){return this.pagerBottom}isNextPageDisabled(){return this.isNextDisabled}isPrevPageDisabled(){return this.isPrevDisabled}getStart(){return this.start}getEnd(){return this.end}getSourceSize(){return this.sourceSize}calculateVisiblePages(t,n,r){return t-n<r&&r<t+n}sample(t){let n=this.getStart();return n!==0&&(n-=1),t.slice(n,this.getEnd())}compare(t){return JSON.stringify(this)===JSON.stringify(t)}};return i=Sc([Um],i),i})(),Sv=class{convert(e){return new gK(e.isEnabled(),e.getPage(),e.getPageSize(),e.getPageSizes(),e.isPagerTop(),e.isPagerBottom(),e.isNextPageDisabled(),e.isPrevPageDisabled(),e.calculateStart(),e.calculateEnd(),e.getSourceSize())}},La=class extends Mi{domainEventBus=P.resolve($n);constructor(){super(),this.domainEventBus.ofEvents(this.forEvents()).pipe(this.hermesTakeUntil()).subscribe(e=>{try{this.subs(e)}catch(t){console.error(t)}})}},kN=(()=>{class i{structureRepository;constructor(t){this.structureRepository=t}static services=[La];on(t){return this.structureRepository.on(t).pipe(nt(n=>n.getId().toString()===t.toString()),ee(n=>n.getPaging()))}}return i})(),mK=(()=>{class i extends ko{pagingRepository;constructor(t){super(),this.pagingRepository=t}static services=[kN];onPaging(t){return this.pagingRepository.on(t)}oncePaging(t){return _a(this.pagingRepository.on(t))}}return i})(),vK=(()=>{class i extends un{pagingDispatcher;constructor(t){super(),this.pagingDispatcher=t}static services=[MN];enable(t){this.pagingDispatcher.setPaging({enabled:!0},t)}disable(t){this.pagingDispatcher.setPaging({enabled:!1},t)}setPaging(t,n){this.pagingDispatcher.setPaging(t,n)}changePageSize(t,n){this.pagingDispatcher.changePageSize(t,n)}nextPage(t){this.pagingDispatcher.nextPage(t)}prevPage(t){this.pagingDispatcher.prevPage(t)}goToPage(t,n,r){if(n<t)for(;n!==t;)this.nextPage(r),n+=1;else for(;n!==t;)this.prevPage(r),n-=1}changePagerTop(t,n){this.pagingDispatcher.setPaging({pagerTop:t},n)}changePagerBottom(t,n){this.pagingDispatcher.setPaging({pagerBottom:t},n)}}return i})(),bK=(()=>{class i extends qr{pagingWarehouse;eventBusToRemove=P.resolve($n);constructor(t){super(),this.pagingWarehouse=t}static services=[ko];onPageChange(t){return this.eventBusToRemove.ofEvents([Eh,Ih,$l]).pipe(nt(n=>n.getAggregateId().toString()===t.toAggregateId().toString()),_n(n=>this.pagingWarehouse.oncePaging(t.toAggregateId()).pipe(ee(r=>r.getPage()))))}onPageSizeChange(t){return this.eventBusToRemove.ofEvents([Ul]).pipe(nt(n=>n.getAggregateId().toString()===t.toAggregateId().toString()),_n(n=>this.pagingWarehouse.oncePaging(t.toAggregateId()).pipe(ee(r=>r.getPageSize()))))}}return i})(),TE=class{registerProviders(e){e.provide(un,vK),e.provide(ko,mK),e.provide(qr,bK),e.provide(kN),e.provide(Sv)}};function yK(){new Li(new TE,new SE).init()}var ME=class{translation=new Map;resolver=(e,t)=>t;changeTranslation(e){for(let t of Object.keys(e))this.translation.set(t,e[t])}getTranslation(){return Array.from(this.translation).reduce((e,[t,n])=>Object.assign(e,{[t]:this.resolver(t,n)}),{})}setResolver(e){this.resolver=e}},kE=class extends yr{defaultTranslation=XZ;dictionary=new ME;dictionary$=new nn(1);constructor(){super()}getTranslation(){return this.dictionary.getTranslation()}onTranslation(){return this.dictionary$.toObservable()}setDefaultTranslation(){this.changeTranslationAndPropagate(this.defaultTranslation)}changeTranslation(e){this.changeTranslationAndPropagate(e)}setResolver(e){this.setResolverAndPropagate(e)}changeTranslationAndPropagate(e){this.dictionary.changeTranslation(e),this.dictionary$.next(this.dictionary.getTranslation())}setResolverAndPropagate(e){this.dictionary.setResolver(e),this.dictionary$.next(this.dictionary.getTranslation())}},Fo=(()=>{class i extends pi{static forComponent(){return[{provide:yr,useClass:kE}]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})(),AE=class{cd;value;actualObs$;baseValues$=new Yt;destroy$=new nn(1);constructor(e){this.cd=e,this.baseValues$.pipe(nt(t=>t!==this.actualObs$),_n(t=>(this.actualObs$=t,t)),Un(),rn(this.destroy$)).subscribe(t=>{this.value=t,this.scheduleCD()})}destroy(){this.destroy$.next(),this.destroy$.complete()}subscribe(e){return this.baseValues$.next(e),this.value}scheduleCD(){setTimeout(()=>{this.cd.detectChanges()})}},au=(()=>{class i{cd=B(oe);subscriber=new AE(this.cd);transform(t){return this.subscriber.subscribe(t)}ngOnDestroy(){this.subscriber.destroy()}static \u0275fac=function(n){return new(n||i)};static \u0275pipe=Xs({name:"guiPush",type:i,pure:!1})}return i})(),iT=(()=>{class i{subscriber;vcr;template;guiIf;constructor(t,n,r){this.subscriber=t,this.vcr=n,this.template=r}ngOnChanges(t){t.guiIf!==void 0&&this.subscriber.subscribe(this.guiIf,n=>{n?this.vcr.createEmbeddedView(this.template):this.vcr.clear()})}ngOnDestroy(){this.subscriber.destroy()}static \u0275fac=function(n){return new(n||i)(f(Is),f(Si),f(at))};static \u0275dir=ne({type:i,selectors:[["","guiIf",""]],inputs:{guiIf:"guiIf"},features:[pt([Is]),le]})}return i})();var _K=(()=>{class i{subscriber;elementRef;static STYLE="style";guiStyle;constructor(t,n){this.subscriber=t,this.elementRef=n}ngOnChanges(t){t.guiStyle!==void 0&&this.subscriber.subscribe(this.guiStyle,n=>{Object.keys(n).forEach(r=>{this.setStyleByName(r,n[r])})})}ngOnDestroy(){this.subscriber.destroy()}setStyleByName(t,n){this.set(t,n)}set(t,n){this.elementRef.nativeElement[i.STYLE][t]=n}static \u0275fac=function(n){return new(n||i)(f(Is),f(F))};static \u0275dir=ne({type:i,selectors:[["","guiStyle",""]],inputs:{guiStyle:"guiStyle"},features:[pt([Is]),le]})}return i})();var er=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})();yK();function CK(){return P.resolve(un)}function wK(){return P.resolve(ko)}function xK(){return P.resolve(qr)}var ey=(()=>{class i extends pi{static forComponent(){return[J0]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:un,useFactory:CK},{provide:ko,useFactory:wK},{provide:qr,useFactory:xK}],imports:[ue,fs,Fo,er]})}return i})(),Dh=(()=>{class i extends yn{static titlePanelConfig={enabled:!1,template:"Title Panel"};constructor(){super(X({},i.titlePanelConfig))}}return i})(),Sh=(()=>{class i extends yn{static footerPanelConfig={enabled:!1,template:"Footer Panel"};constructor(){super(X({},i.footerPanelConfig))}}return i})(),IK="Filter container token",dv=function(i){return i.WIDTH="width",i.HEIGHT="height",i.PADDING_TOP="padding-top",i}(dv||{}),av="style",ty=(()=>{class i extends gh{constructor(t){super(t)}createModifier(t){return new i.StyleModifier(t)}static StyleModifier=class{htmlElement;constructor(t){this.htmlElement=t}setStyleByName(t,n){this.set(t,n)}setWidth(t){this.set(dv.WIDTH,this.toPx(t))}setHeight(t){this.set(dv.HEIGHT,this.toPx(t))}setPaddingTop(t){this.set(dv.PADDING_TOP,this.toPx(t))}remove(t){this.htmlElement[av][t]=""}removeStyleByName(t){this.htmlElement[av][t]=""}clear(){this.htmlElement.removeAttribute(av)}set(t,n){this.htmlElement[av][t]=n}toPx(t){return t>0?`${t}px`:`${t}`}}}return i})(),ja=class{constructor(){}},ic=(()=>{class i{structureRepository;structureCellEditArchive;constructor(t,n){this.structureRepository=t,this.structureCellEditArchive=n}static services=[La,Mo];on(t){return this.structureRepository.on(t)}onEditManager(t){return this.structureCellEditArchive.on(t)}}return i})(),Yr=class{constructor(){}},EK="Structure -",RE=new ie(`${EK} - css className`),Va=class{constructor(){}},FE=class{distinctTooltip;averageTooltip;minTooltip;maxTooltip;medTooltip;countTooltip;constructor(e,t,n,r,o,a){this.distinctTooltip=e,this.averageTooltip=t,this.minTooltip=n,this.maxTooltip=r,this.medTooltip=o,this.countTooltip=a}},gi=function(i){return i[i.ASC=0]="ASC",i[i.DESC=1]="DESC",i[i.NONE=2]="NONE",i}(gi||{}),Tv=class{header;dataType;context;width;fieldId;columnDefinitionId;sortStatus;enabled;cssClasses;styles;sortable;align;constructor(e,t,n,r,o,a,l,d,p,m,b,w){this.header=e,this.dataType=t,this.context=n,this.width=r,this.fieldId=o,this.columnDefinitionId=a,this.sortStatus=l,this.enabled=d,this.cssClasses=p,this.styles=m,this.sortable=b,this.align=w}getHeader(){return this.header}getDataType(){return this.dataType}getColumnDefinitionId(){return this.columnDefinitionId}getFieldId(){return this.fieldId}getSortStatus(){return this.sortStatus}getCssClasses(){return this.cssClasses}getStyles(){return this.styles}isSortEnabled(){return this.sortable}isAscSort(){return this.sortStatus===gi.ASC}isDescSort(){return this.sortStatus===gi.DESC}isNoSort(){return this.sortStatus===gi.NONE}isEnabled(){return this.enabled}isAlignLeft(){return this.align===Ht.LEFT}isAlignCenter(){return this.align===Ht.CENTER}isAlignRight(){return this.align===Ht.RIGHT}getAlign(){return this.align}},Mv=class extends Tv{viewTemplate;editTemplate;constructor(e=null,t=null,n){super(n.getHeader(),n.getDataType(),n.context,n.width,n.getFieldId(),n.getColumnDefinitionId(),n.getSortStatus(),n.isEnabled(),n.getCssClasses(),n.getStyles(),n.isSortEnabled(),n.getAlign()),this.viewTemplate=e,this.editTemplate=t}},kv=function(i){return i[i.TEXT=0]="TEXT",i[i.HTML=1]="HTML",i}(kv||{}),ys=class i{value;type;constructor(e,t){this.value=e,this.type=t}static text(e){return new i(e,kv.TEXT)}static HTML(e){return new i(e,kv.HTML)}},Av=class{columnConfig;columnDefinitionId;name;editable;templateFun;formatterFun;accessor;searchAccessor;width;columnFieldId;align;cellEditingEnabled;type;view;constructor(e,t,n,r,o,a,l,d,p,m,b,w,E,T){this.columnConfig=e,this.columnDefinitionId=t,this.name=n,this.editable=r,this.templateFun=o,this.formatterFun=a,this.accessor=l,this.searchAccessor=d,this.width=p,this.columnFieldId=m,this.align=b,this.cellEditingEnabled=w,this.type=E,this.view=T}getDataType(){return this.type}getCellView(){return this.view.getCellView()}getColumnConfig(){return this.columnConfig}isCellEditingEnabled(){return this.cellEditingEnabled}isBooleanDataType(){return this.type===ae.BOOLEAN}isAlignLeft(){return this.align===Ht.LEFT}isAlignCenter(){return this.align===Ht.CENTER}isAlignRight(){return this.align===Ht.RIGHT}getAlign(){return this.align}getType(){return this.type}getView(){return this.view}getName(){return this.name}getValue(e,t){let n=this.findValue(e,t);return n.value=this.templateFun(n.value,e.getSourceItem()),this.formatterFun&&(n.value=this.formatterFun(n.value,e.getSourceItem())),n}getClasses(){return"gui-cell-highlighted"}findValue(e,t){let n=this.accessor(e);if(this.type!==ae.STRING||this.view&&this.view.getCellView()===te.FUNCTION)return ys.text(n);if(t){let r=""+this.searchAccessor(e),o=r.toLocaleLowerCase(),a=t.toLocaleLowerCase(),l=[],d=0;for(;d<a.length;){let m=o.indexOf(a,d);m>=0?(l.push(m),d=m+t.length):d=a.length}let p=r.split("");return l.forEach(m=>{for(let b=0;b<t.length;b+=1){let w;b===0?w=`<span class="gui-text-highlight">${p[m+b]}`:w=p[m+b],b===t.length-1&&(w+="</span>"),p[m+b]=w}}),r=p.join(""),ys.HTML(r)}else return ys.text(n)}},PE=class extends Av{template;editTemplate;constructor(e=null,t=null,n){super(n.getColumnConfig(),n.columnDefinitionId,n.getName(),n.editable,n.templateFun,n.formatterFun,n.accessor,n.searchAccessor,n.width,n.columnFieldId,n.getAlign(),n.isCellEditingEnabled(),n.getType(),n.getView()),this.template=e,this.editTemplate=t}},gs={CompositionResizeWidthSetAggregateEvent:"CompositionResizeWidthSetAggregateEvent",ColumnsSetAggregateEvent:"ColumnsSetAggregateEvent",CompositionContainerWidthSetAggregateEvent:"CompositionContainerWidthSetAggregateEvent",CompositionWidthSetAggregateEvent:"CompositionWidthSetAggregateEvent",CompositionColumnSetEnabledAggregateEvent:"CompositionColumnSetEnabledAggregateEvent",CompositionColumnMovedLeftAggregateEvent:"CompositionColumnMovedLeftAggregateEvent",CompositionColumnMovedRightAggregateEvent:"CompositionColumnMovedRightAggregateEvent",GroupsSetAggregateEvent:"GroupsSetAggregateEvent"},Xn=class extends mo{},Ba=class extends Xn{constructor(e){super(e,null,"CompositionResizeWidthSetEvent")}},Wl=class extends Xn{constructor(e){super(e,null,"CompositionColumnsSetEvent")}},Gl=class extends Xn{constructor(e,t){super(e,t,"CompositionContainerWidthSetEvent")}},ql=class extends Xn{constructor(e){super(e,null,"CompositionWidthSetEvent")}},Th=class extends Xn{constructor(e){super(e,null,"CompositionColumnSetEnabledEvent")}},Mh=class extends Xn{constructor(e){super(e,null,"CompositionColumnMovedLeftEvent")}},kh=class extends Xn{constructor(e){super(e,null,"CompositionColumnMovedRightEvent")}},OE=class extends Xn{constructor(e){super(e,null,"CompositionGroupsSetEvent")}},Ao=class{convert(e){return Array.isArray(e)?this.convertEvents(e):this.convertEvent(e)}convertEvents(e){return e.map(t=>this.convertEvent(t))}convertEvent(e){switch(e.getType()){case gs.CompositionResizeWidthSetAggregateEvent:return new Ba(e.getAggregateId());case gs.ColumnsSetAggregateEvent:return new Wl(e.getAggregateId());case gs.CompositionContainerWidthSetAggregateEvent:let t=e.containerWidth;return new Gl(e.getAggregateId(),t);case gs.CompositionWidthSetAggregateEvent:return new ql(e.getAggregateId());case gs.CompositionColumnSetEnabledAggregateEvent:return new Th(e.getAggregateId());case gs.CompositionColumnMovedLeftAggregateEvent:return new Mh(e.getAggregateId());case gs.CompositionColumnMovedRightAggregateEvent:return new kh(e.getAggregateId());case gs.GroupsSetAggregateEvent:return new OE(e.getAggregateId());default:return new Ba(e.getAggregateId())}}},Jn=class extends rs{},Rv=class extends Jn{compositionId;columns;constructor(e,t){super(e,"SetColumnsCommand"),this.compositionId=e,this.columns=t}getParams(){return this.columns}},DK=(()=>{class i{compositionEventConverter;domainEventPublisher=P.resolve(et);constructor(t){this.compositionEventConverter=t}static services=[Ao];forCommand(){return Rv}handle(t,n){let r=n.getParams();t.setColumns(r)}publish(t,n){this.publishEvents(t,n)}publishEvents(t,n){let r=t.getEvents(),o=this.compositionEventConverter.convert(r);this.domainEventPublisher.publish(o)}}return i})(),Fv=class extends Jn{structureId;width;constructor(e,t){super(e,"SetCompositionWidthCommand"),this.structureId=e,this.width=t}getWidth(){return this.width}},NE=class{domainEventPublisher=P.resolve(et);forCommand(){return Fv}handle(e,t){let n=t.getWidth();e.setWidth(n)}publish(e,t){this.domainEventPublisher.publish(new ql(t.getAggregateId()))}},Pv=class extends Jn{structureId;enabled;constructor(e,t){super(e,"SetCompositionResizeWidthCommand"),this.structureId=e,this.enabled=t}getEnabled(){return this.enabled}},LE=class{domainEventPublisher=P.resolve(et);forCommand(){return Pv}handle(e,t){let n=t.getEnabled();e.setResizeWidth(n)}publish(e,t){this.domainEventPublisher.publish(new Ba(t.getAggregateId()))}},Ov=class extends Jn{structureId;width;constructor(e,t){super(e,"SetCompositionContainerWidthCommand"),this.structureId=e,this.width=t}getWidth(){return this.width}},SK=(()=>{class i{compositionEventConverter;domainEventPublisher=P.resolve(et);constructor(t){this.compositionEventConverter=t}static services=[Ao];forCommand(){return Ov}handle(t,n){let r=n.getWidth();t.setContainerWidth(r)}publish(t,n){this.publishAggregateEvents(t.getEvents())}publishAggregateEvents(t){let n=this.compositionEventConverter.convert(t);this.domainEventPublisher.publish(n)}}return i})(),Nv=class extends Jn{compositionId;columnId;enabled;constructor(e,t,n){super(e,"CompositionSetColumnEnabledCommand"),this.compositionId=e,this.columnId=t,this.enabled=n}getColumnId(){return this.columnId}isEnabled(){return this.enabled}},TK=(()=>{class i{compositionEventConverter;domainEventPublisher=P.resolve(et);constructor(t){this.compositionEventConverter=t}static services=[Ao];forCommand(){return Nv}handle(t,n){let r=n.getColumnId(),o=n.isEnabled();t.enableColumn(r,o)}publish(t,n){this.publishEvents(t,n)}publishEvents(t,n){let r=t.getEvents(),o=this.compositionEventConverter.convert(r);o&&o.length>0&&this.domainEventPublisher.publish(o)}}return i})(),Lv=class extends Jn{compositionId;sortParams;constructor(e,t){super(e,"CompositionChangeSortStatusCommand"),this.compositionId=e,this.sortParams=t}getCompositionId(){return this.compositionId}getSortParams(){return this.sortParams}},Ah=class extends Xn{activeColumns;constructor(e,t){super(e,t,"CompositionChangeSortStatusEvent"),this.activeColumns=t}getCompositionId(){return this.getAggregateId()}getActiveColumns(){return this.activeColumns}},jE=class{domainEventPublisher=P.resolve(et);forCommand(){return Lv}handle(e,t){let n=t.getSortParams();e.changeSort(n)}publish(e,t){let n=t.getAggregateId(),r=e.getActiveColumns();this.domainEventPublisher.publish(new Ah(n,r))}},jv=class extends Jn{compositionId;columnId;constructor(e,t){super(e,"CompositionMoveLeftColumnCommand"),this.compositionId=e,this.columnId=t}getColumnId(){return this.columnId}},MK=(()=>{class i{compositionEventConverter;domainEventPublisher=P.resolve(et);constructor(t){this.compositionEventConverter=t}static services=[Ao];forCommand(){return jv}handle(t,n){let r=n.getColumnId();t.moveLeft(r)}publish(t,n){this.publishEvents(t,n)}publishEvents(t,n){let r=t.getEvents(),o=this.compositionEventConverter.convert(r);o&&o.length>0&&this.domainEventPublisher.publish(o)}}return i})(),Vv=class extends Jn{columnId;constructor(e,t){super(e,"CompositionMoveRightColumnCommand"),this.columnId=t}getColumnId(){return this.columnId}},kK=(()=>{class i{compositionEventConverter;domainEventPublisher=P.resolve(et);constructor(t){this.compositionEventConverter=t}static services=[Ao];forCommand(){return Vv}handle(t,n){let r=n.getColumnId();t.moveRight(r)}publish(t,n){this.publishEvents(t,n)}publishEvents(t,n){let r=t.getEvents(),o=this.compositionEventConverter.convert(r);o&&o.length>0&&this.domainEventPublisher.publish(o)}}return i})(),Rh=class extends Be{compositionId;directions;constructor(e,t,n){super(e,{compositionId:t,directions:n},"SortToggledEvent"),this.compositionId=t,this.directions=n}getCompositionId(){return this.compositionId}getDirections(){return this.directions}},Bv=class extends Jn{compositionId;constructor(e){super(e,"CreateCompositionCommand"),this.compositionId=e}},Hv=class extends Jn{compositionId;configs;constructor(e,t){super(e,"SetGroupsCommand"),this.compositionId=e,this.configs=t}getConfigs(){return this.configs}},Fh=class{commandDispatcher=P.resolve(wi);create(e){this.commandDispatcher.dispatch(new Bv(e))}setColumns(e,t){this.commandDispatcher.dispatch(new Rv(e,t))}setGroups(e,t){this.commandDispatcher.dispatch(new Hv(e,t))}setWidth(e,t){this.commandDispatcher.dispatch(new Fv(e,t))}setContainerWidth(e,t){this.commandDispatcher.dispatch(new Ov(e,t))}setResizeWidth(e,t){this.commandDispatcher.dispatch(new Pv(e,t))}changeSort(e,t){this.commandDispatcher.dispatch(new Lv(e,t))}setColumnEnabled(e,t,n){this.commandDispatcher.dispatch(new Nv(e,t,n))}moveLeft(e,t){this.commandDispatcher.dispatch(new jv(e,t))}moveRight(e,t){this.commandDispatcher.dispatch(new Vv(e,t))}},zv=class{fieldId;direction;constructor(e,t){this.fieldId=e,this.direction=t}},Ph=class extends Be{compositionId;directions;constructor(e,t,n){super(e,{compositionId:t,directions:n},"SortOrderSetEvent"),this.compositionId=t,this.directions=n}getCompositionId(){return this.compositionId}getDirections(){return this.directions}},AK=(()=>{class i{compositionDispatcher;constructor(t){this.compositionDispatcher=t}static services=[Fh];forEvents(){return[Rh,Ph]}handle(t){if(t.ofMessageType("SortToggledEvent")){let n=t.getCompositionId(),o=t.getDirections().map(a=>{let l=new vh(a.fieldId.getId());return new zv(l,a.direction)});this.compositionDispatcher.changeSort(n,o)}if(t.ofMessageType("SortOrderSetEvent")){let n=t.getCompositionId(),o=t.getDirections().map(a=>{let l=new vh(a.fieldId.getId());return new zv(l,a.direction)});this.compositionDispatcher.changeSort(n,o)}}}return i})(),Oh=class i{view;templateFunction=(e,t)=>e;constructor(e){typeof e=="function"?(this.view=te.FUNCTION,this.templateFunction=e):this.view=e}static fromDataType(e){return e===ae.DATE?new i(te.DATE):new i(te.TEXT)}getCellView(){return this.view}getTemplateFunction(){return this.templateFunction}},VE=class extends ma{columnField;header;width;columnConfig;view;align;presentation;constructor(e,t,n,r,o,a,l,d){super(e),this.columnField=t,this.columnConfig=n,this.presentation=r,this.view=Oh.fromDataType(t.getDataType()),o&&(this.header=o),l&&(this.view=l),d&&(this.width=d),this.setInitialAlign(t,a)}getPresentation(){return this.presentation}getColumnConfig(){return this.columnConfig}getField(){return this.columnField}getHeader(){return this.header}getDataType(){return this.columnField.getDataType()}getCellView(){return this.view.getCellView()}getTemplateFunction(){return this.view.getTemplateFunction()}getFormatterFunction(){return this.columnConfig.formatter}setView(e){this.view=e}setHeader(e){this.header=e}getView(){return this.view}getAlign(){return this.align}setWidth(e){this.width=e}getWidth(){return this.width}isSortingEnabled(){let e=this.columnConfig;return e.sorting!==void 0&&e.sorting!==null?e.sorting.enabled===void 0||e.sorting.enabled===null?!0:e.sorting.enabled:!0}isCellEditingEnabled(){let e=this.columnConfig;return e.cellEditing!==void 0&&e.cellEditing!==null?e.cellEditing.enabled===void 0||e.cellEditing.enabled===null?!0:e.cellEditing.enabled:!0}setInitialAlign(e,t){t!=null?this.align=t:e.getDataType()===ae.NUMBER?this.align=Ht.RIGHT:this.align=Ht.LEFT}},Nh=class extends VE{sortable;sortStatus=gi.NONE;enabled=!0;constructor(e,t,n,r,o,a,l,d,p){super(e,t,n,o,a,l,d,p),this.enabled=r,d===void 0&&(this.view=new Oh(this.presentation.getDefaultView())),l===void 0&&(this.align=this.presentation.getDefaultAlign(this.view))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}getSortStatus(){return this.sortStatus}setSortStatus(e){this.sortStatus=e}},Zl=class extends vo{constructor(e){super(e)}toString(){return this.getId()}},Ha=class{},RK=(()=>{class i extends Ha{static instance=null;constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[te.TEXT,te.BAR,te.PERCENTAGE_BAR,te.PERCENTAGE]}getDefaultView(){return te.NUMBER}getDefaultAlign(t){return Ht.RIGHT}}return i})(),FK=(()=>{class i extends Ha{static instance=null;constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[te.TEXT,te.ITALIC,te.CHIP,te.BOLD,te.CHECKBOX]}getDefaultView(){return te.TEXT}getDefaultAlign(t){return t.getCellView()===te.CHECKBOX?Ht.CENTER:Ht.LEFT}}return i})(),PK=(()=>{class i extends Ha{static getInstance(){return i.instance||(i.instance=new i),i.instance}static instance=null;constructor(){super()}getPossibleViews(){return[te.DATE,te.TEXT,te.ITALIC,te.BOLD,te.CHIP]}getDefaultView(){return te.DATE}getDefaultAlign(){return Ht.LEFT}}return i})(),OK=(()=>{class i extends Ha{static instance=null;constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[te.TEXT,te.ITALIC,te.BOLD,te.IMAGE,te.LINK,te.CHIP]}getDefaultView(){return te.TEXT}getDefaultAlign(){return Ht.LEFT}}return i})(),NK=(()=>{class i extends Ha{static instance=null;constructor(){super()}static getInstance(){return i.instance||(i.instance=new i),i.instance}getPossibleViews(){return[te.TEXT]}getDefaultView(){return te.TEXT}getDefaultAlign(){return Ht.LEFT}}return i})(),$v=class{convert(e){return e===ae.NUMBER?RK.getInstance():e===ae.BOOLEAN?FK.getInstance():e===ae.DATE?PK.getInstance():e===ae.STRING?OK.getInstance():NK.getInstance()}},AN=(()=>{class i{columnPresentationConverter;constructor(t){this.columnPresentationConverter=t}static services=[$v];create(t){return Array.isArray(t)?this.createColumns(t):this.createColumn(t)}createColumn(t){let n=t.getColumn(),r=t.getField(),o=r.getDataType(),a=this.convertWidth(n.width)||void 0,l,d;n.view!==void 0&&(l=new Oh(n.view)),n.enabled!==void 0?d=n.enabled:d=!0;let p=this.getPresentation(o),m=new Nh(new Zl(os.generate()),r,n,d,p,void 0,n.align,l,a);return n.header!==void 0&&m.setHeader(n.header),m}createColumns(t){let n=[];return t.forEach(r=>{n.push(this.createColumn(r))}),n}convertWidth(t){return+t}getPresentation(t){return this.columnPresentationConverter.convert(t)}}return i})(),Uv=class{id;header;width;constructor(e,t,n){this.id=e,this.header=t,this.width=n}},Wv=class extends pa{constructor(e){super(e)}toString(){return this.getId()}},Gv=class{create(e){return new Uv(new Wv(os.generate()),e.header,e.width)}},LK=(()=>{class i{compositionEventConverter;domainEventPublisher=P.resolve(et);constructor(t){this.compositionEventConverter=t}static services=[Ao];forCommand(){return Hv}handle(t,n){let r=n.getConfigs();t.setGroups(r)}publish(t,n){this.publishEvents(t,n)}publishEvents(t,n){let r=t.getEvents(),o=this.compositionEventConverter.convert(r);this.domainEventPublisher.publish(o)}}return i})(),qv=class{enabled=!0;highlightedColumns=new Set;isHighlighted(e){return this.highlightedColumns.has(e.toString())}toggle(e){this.highlightedColumns.has(e.toString())?this.highlightedColumns.delete(e.toString()):this.highlightedColumns.add(e.toString())}remove(e){this.highlightedColumns.delete(e.toString())}},Lh=class extends Ct{constructor(){super(new qv)}toggle(e,t){this.find(e).ifPresent(n=>{n.toggle(t),this.next(e,n)})}equals(e,t){return!1}createDefaultValue(e){return new qv}},Kl=class extends ba{},RN=(()=>{class i extends va{constructor(t){super(t)}static services=[Kl]}return i})(),Zv=class extends da{},pN=(()=>{class i extends Zv{inMemoryCompositionAggregateStore;constructor(t){super(),this.inMemoryCompositionAggregateStore=t}static services=[RN];findById(t){return this.inMemoryCompositionAggregateStore.findById(t)}save(t){this.inMemoryCompositionAggregateStore.save(t)}}return i})(),Kv=class{element;constructor(e){this.element=e}},Yv=class extends Lm{columnConfig;name;type;view;align;cssClasses;styles;width;templateFunction;formatterFunction;columnDefinitionId;field;header;sortStatus;sortable=!0;enabled;cellEditingEnabled;constructor(e,t,n,r,o,a,l,d,p,m,b,w,E=gi.NONE,T=!0){super(t),this.columnConfig=n,this.name=r,this.type=a,this.view=l,this.align=d,this.cssClasses=b,this.styles=w,this.field=e,this.columnDefinitionId=t,this.enabled=o,this.header=p,this.cellEditingEnabled=m,this.sortStatus=E,this.sortable=T}getName(){return this.name}isEnabled(){return this.enabled}setHeader(e){this.header=e}setField(e){this.field=e}setTemplateFunction(e){this.templateFunction=e}setFormatterFunction(e){this.formatterFunction=e}toHeaderCellTemplateWithContext(e){let t=this.header||"",n;typeof t=="string"?n=new Kv(ys.text(t)):typeof t=="function"&&(n=new Kv(ys.text(t(e))));let r=new ka(this.field.getId().getId());return new Tv(t,this.type,n,this.width,r,this.columnDefinitionId,this.sortStatus,this.enabled,this.cssClasses,this.styles,this.sortable,this.align)}toContentCellTemplateWithAccessor(){let e=n=>this.field.getAccessor()(n),t=n=>this.field.getSearchAccessor()(n);return new Av(this.columnConfig,this.columnDefinitionId,this.name,!0,this.templateFunction,this.formatterFunction,e,t,this.width,this.field.getId(),this.align,this.cellEditingEnabled,this.type,this.view)}},Qv=class extends jm{constructor(e){super(e)}},Xv=class{create(e){return e instanceof Nh?this.createFromColumnEntity(e):this.createFromActiveColumnEntity(e)}createColumns(e){return e.map(t=>this.create(t))}createFromColumnEntity(e){let t=new Yv(e.getField(),new Qv(e.getId().toString()),e.getColumnConfig(),e.getColumnConfig().name,e.isEnabled(),e.getDataType(),e.getView(),e.getAlign(),e.getHeader(),e.isCellEditingEnabled(),e.getColumnConfig().cssClasses,e.getColumnConfig().styles,e.getSortStatus(),e.isSortingEnabled());return t.setTemplateFunction(e.getTemplateFunction()),t.setFormatterFunction(e.getFormatterFunction()),t.width=+e.getWidth(),t}createFromActiveColumnEntity(e){let t=new Yv(e.getField(),new Qv(e.getId().toString()),e.getColumnConfig(),e.getColumnConfig().name,!0,e.getDataType(),e.getView(),e.getAlign(),e.getHeader(),e.isCellEditingEnabled(),e.getColumnConfig().cssClasses,e.getColumnConfig().styles,e.getSortStatus(),e.isSortingEnabled());return t.setTemplateFunction(e.getTemplateFunction()),t.setFormatterFunction(e.getFormatterFunction()),t.width=+e.getWidth(),t}},BE=class extends Zd{ready;allColumns;activeColumns;width;resizeWidth;constructor(e,t,n,r,o,a){super(e),this.ready=t,this.allColumns=n,this.activeColumns=r,this.width=o,this.resizeWidth=a}getActiveColumns(){return this.activeColumns}getAllColumns(){return this.allColumns}getActiveHeaderColumns(){return this.getActiveColumns().map((e,t)=>e.toHeaderCellTemplateWithContext(t))}getHeaderColumns(){return this.getAllColumns().map((e,t)=>e.toHeaderCellTemplateWithContext(t))}getTemplateColumns(){return this.getActiveColumns().map(e=>e.toContentCellTemplateWithAccessor())}getWidth(){return this.width}getContainerWidth(){return+this.width-2}isReady(){return this.ready}isResizeWidthEnabled(){return this.resizeWidth}equals(e){return this.width===e.width&&this.resizeWidth===e.resizeWidth&&this.equalsByColumns(e.allColumns)}equalsByColumns(e){return this.allColumns.length===e.length}},FN=(()=>{class i{columnDefinitionFactory;constructor(t){this.columnDefinitionFactory=t}static services=[Xv];convert(t){let n=t.isReady(),r=t.getColumns(),o=t.getActiveColumns(),a=this.convertToColumnDef(r),l=this.convertActiveColumnsToColumnDef(o),d=t.getWidth(),p=t.isResizeEnabled(),m=t.getId();return new BE(m.toReadModelRootId(),n,a,l,d,p)}convertToColumnDef(t){let n=[];return t.forEach(r=>{let o=this.columnDefinitionFactory.create(r);n.push(o)}),n}convertActiveColumnsToColumnDef(t){let n=[];return t.forEach(r=>{let o=this.columnDefinitionFactory.create(r);n.push(o)}),n}}return i})(),nT=(()=>{class i extends Kd{inMemoryCompositionStore;compositionConverter;constructor(t,n){super(t),this.inMemoryCompositionStore=t,this.compositionConverter=n}static services=[Kl,FN];toReadModel(t){return this.compositionConverter.convert(t)}}return i})(),Yl=class extends Vm{constructor(){super()}},Jv=class extends Xn{constructor(e){super(e,null,"CompositionCreatedEvent")}},PN=(()=>{class i extends Yl{inMemoryCompositionReadStore;compositionIdToComposition=new Map;composition$=new nn(1);constructor(t){super(),this.inMemoryCompositionReadStore=t}static services=[nT];on(t){return this.composition$.toObservable().pipe(nt(n=>{let r=t.getId();return n.has(r)}),ee(n=>n.get(t.getId())))}find(t){let n=t.getId();return Qt.of(this.compositionIdToComposition.get(n))}forEvents(){return[Jv,Ba,Wl,Gl,ql,Th,Mh,kh,Ah]}subscribe(t){let n=t.getAggregateId();this.inMemoryCompositionReadStore.getById(n).ifPresent(o=>{let a=o.getId().toString();this.compositionIdToComposition.set(a,o),this.composition$.next(this.compositionIdToComposition)})}}return i})(),HE=class{forCommand(){return Bv}},jh=class{MIN_COLUMN_WIDTH;constructor(e){this.MIN_COLUMN_WIDTH=e}calculateMinWidth(e){let{staticColumns:t,fluidColumns:n}=this.segregateColumns(e),r=0;return t.forEach(o=>{r+=o.getWidth()}),r+=n.length*this.MIN_COLUMN_WIDTH,r}segregateColumns(e){let t=e.filter(r=>r.isTypeNumber()&&r.getWidth()>this.MIN_COLUMN_WIDTH),n=e.filter(r=>r.isTypeAuto()||r.isTypePercentage()||r.isTypeNumber()&&r.getWidth()<=this.MIN_COLUMN_WIDTH);return{staticColumns:t,fluidColumns:n}}},_r=class extends ua{},zE=class extends _r{constructor(e){super(e,"CompositionWidthSetAggregateEvent")}toDomainEvent(){return new ql(this.getAggregateId())}},$E=class extends _r{containerWidth;constructor(e,t){super(e,"CompositionContainerWidthSetAggregateEvent"),this.containerWidth=t}toDomainEvent(){return new Gl(this.getAggregateId(),this.containerWidth)}},UE=class extends _r{constructor(e){super(e,"CompositionResizeWidthSetAggregateEvent")}toDomainEvent(){return new Ba(this.getAggregateId())}},WE=class extends _r{activeColumns;constructor(e,t){super(e,"CompositionColumnSetEnabledAggregateEvent"),this.activeColumns=t}toDomainEvent(){return new Th(this.getAggregateId())}getActiveColumns(){return this.activeColumns}},Wr=function(i){return i[i.PERCENTAGE=0]="PERCENTAGE",i[i.NUMBER=1]="NUMBER",i[i.AUTO=2]="AUTO",i}(Wr||{}),Vl=class i{template;baseWidth;width;constructor(e){this.baseWidth=e,this.setWidthAndType(e)}getWidth(){return this.width}getColumnType(){return this.template}isTypePercentage(){return this.template===Wr.PERCENTAGE}isTypeAuto(){return this.template===Wr.AUTO}isTypeNumber(){return this.template===Wr.NUMBER}setWidth(e){this.width=e}setWidthAndType(e){e==null||e==="auto"?(this.template=Wr.AUTO,this.setWidth(null)):this.isPercentage(e)?(this.template=Wr.PERCENTAGE,this.setWidth(this.percentageToNumber(""+e))):this.isStringNumber(e)?(this.template=Wr.NUMBER,this.setWidth(+e)):(this.template=Wr.NUMBER,this.setWidth(+e))}clone(){return new i(this.baseWidth)}isPercentage(e){return typeof e=="string"&&e[e.length-1]==="%"}percentageToNumber(e){return+e.slice(0,-1)}isStringNumber(e){let t=+e;return Number.isNaN(t)}},GE=class{source;width;MIN_COLUMN_WIDTH;columns;constructor(e,t,n){this.source=e,this.width=t,this.MIN_COLUMN_WIDTH=n,this.columns=this.source.map(r=>r.clone())}calculate(){let e=this.width,t=Array.from(this.columns);this.adjustMinimalWidth(t);let n=[];if(t.forEach((r,o)=>{r.isTypeNumber()?e-=r.getWidth():n.push(r)}),t=n,t.length!==0){let r=e/t.length;t.forEach((o,a)=>{o.setWidth(r)})}return this.columns}adjustMinimalWidth(e){e.forEach(t=>{t.isTypeNumber()&&t.getWidth()<this.MIN_COLUMN_WIDTH&&t.setWidthAndType(this.MIN_COLUMN_WIDTH)})}adjustPercentageWidth(){let e=this.columns.filter(t=>t.isTypePercentage());for(let t of this.columns)t.getColumnType()===Wr.PERCENTAGE&&t.setWidth(this.width*t.getWidth()*.01)}adjustAutoWidth(){let e=this.width,t=[];for(let n=0;n<this.columns.length;n+=1){let r=this.columns[n];r.getColumnType()!==Wr.AUTO?e-=r.getWidth():t.push(r)}if(t.length>0){let n=e/t.length;for(let r of t)r.setWidth(n)}}},eb=class{MIN_COLUMN_WIDTH;baseColumnWidths;columnWidths;width;constructor(e,t=[],n=100){this.MIN_COLUMN_WIDTH=e,this.baseColumnWidths=t.map(r=>new Vl(r.width)),this.columnWidths=t.map(r=>new Vl(r.width)),this.setContainerWidth(n),this.calculate()}getColumnWidths(){return this.baseColumnWidths}getColumnsWidth(){return this.width}getWidths(){return this.columnWidths.map(e=>e.getWidth())}getMinWidth(){return new jh(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidths)}setWidth(e){this.setContainerWidth(e),this.calculate()}setColumns(e){this.baseColumnWidths=e.map(t=>new Vl(t.width)),this.columnWidths=e.map(t=>new Vl(t.width)),this.calculate()}getMinColumnWidth(){return this.MIN_COLUMN_WIDTH}calculate(){if(this.baseColumnWidths&&this.width){let e=new GE(this.baseColumnWidths,this.width,this.MIN_COLUMN_WIDTH);this.columnWidths=e.calculate()}}setContainerWidth(e){this.getMinWidth()>e?this.width=this.getMinWidth():this.width=e,this.calculate()}},qE=class extends _r{activeColumns;constructor(e,t){super(e,"CompositionChangeSortStatusAggregateEvent"),this.activeColumns=t}toDomainEvent(){return new Ah(this.getAggregateId(),this.activeColumns)}},ZE=class{compositionId;MIN_COLUMN_WIDTH=50;columns;columnWidthCollection=new eb(this.MIN_COLUMN_WIDTH);constructor(e,t=[],n,r){this.compositionId=e,this.columns=t,n&&r&&(this.columnWidthCollection=new eb(this.MIN_COLUMN_WIDTH,r,n))}getColumnWidths(){return this.columnWidthCollection.getColumnWidths()}getColumns(){return this.columns}setWidth(e){this.columnWidthCollection.setWidth(e)}addColumn(e,t){this.columns.splice(t,0,e)}removeColumn(e){this.columns.splice(e,1)}setColumns(e,t){this.columns=e,this.columnWidthCollection.setColumns(t);let n=this.columnWidthCollection.getWidths();this.columns.forEach((r,o)=>{r.setWidth(n[o])})}changeSort(e){this.columns.forEach(t=>{t.setSortStatus(gi.NONE)});for(let t of e){let n=t.fieldId,r=t.direction,o=r?gi.ASC:gi.DESC,a=this.columns.filter(l=>l.getField().getId().getId()===n.getId());a.length>0&&a.forEach(l=>{l.setSortStatus(o)})}return new qE(this.getCompositionId(),this.columns)}moveLeft(e){let t=this.findColumnIndex(e);this.move(t,t-1)}moveRight(e){let t=this.findColumnIndex(e);this.move(t,t+1)}getMinColumnWidth(){return this.MIN_COLUMN_WIDTH}move(e,t){if(!this.validateMoveIndex(e)||!this.validateMoveIndex(t))return;let n=this.columns[e];this.columns[e]=this.columns[t],this.columns[t]=n}validateMoveIndex(e){return e>=0}getCompositionId(){return this.compositionId}findColumnIndex(e){return this.columns.findIndex(t=>t.getId().equals(e))}},KE=class i extends Nh{constructor(e,t,n,r,o,a,l){super(e,t,a,!0,l,n,r,o,void 0)}static fromEntity(e){return new i(e.getId(),e.getField(),e.getHeader(),e.getAlign(),e.getView(),e.getColumnConfig(),e.getPresentation())}},YE=class{convertMany(e){return e.map(t=>this.convert(t))}convert(e){return KE.fromEntity(e)}},QE=class extends _r{constructor(e){super(e,"CompositionColumnMovedLeftAggregateEvent")}toDomainEvent(){return new Mh(this.getAggregateId())}},XE=class extends _r{constructor(e){super(e,"CompositionColumnMovedRightAggregateEvent")}toDomainEvent(){return new kh(this.getAggregateId())}},JE=class extends _r{constructor(e){super(e,"ColumnsSetAggregateEvent")}toDomainEvent(){return new Wl(this.getAggregateId())}},eD=class extends _r{constructor(e){super(e,"SchemaCreatedEvent")}toDomainEvent(){return new Jv(this.getAggregateId())}},jK=new Uv(new Wv("-1"),"",100),tD=class extends ha{allColumns=[];baseColumns;baseParams;width;containerInDOMWidth;resizeWidthEnabled=!0;columnFactory;groupFactory;activeColumnContainer;activeColumnEntityConverter=new YE;groups=new Cl;columnNameToGroupId=new Map;constructor(e,t,n,r=[],o,a){super(e,"CompositionAggregate");let l=r.map(p=>p.getColumn());this.baseParams=r,this.baseColumns=l,this.columnFactory=t,this.groupFactory=n,this.width=o,this.allColumns=this.columnFactory.create(r);let d=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer=new ZE(this.getId(),d,o,l),a!=null&&(this.resizeWidthEnabled=a)}createEvent(){return eD}getColumns(){return this.allColumns}getActiveColumns(){return this.activeColumnContainer.getColumns()}getWidth(){return this.resizeWidthEnabled?this.containerInDOMWidth:this.width}isResizeEnabled(){return this.resizeWidthEnabled}isReady(){return!!this.getWidth()&&this.getActiveColumns().length>0}setGroups(e){for(let t=0;t<e.length;t+=1){let n=e[t];if(n.columns!==void 0){let r=this.groupFactory.create(n);this.groups.set(r.id,r),n.columns.forEach((o,a)=>{this.columnNameToGroupId.set(o.header,r.id)})}else this.columnNameToGroupId.set(n.header,jK.id)}}setColumns(e){this.allColumns=this.columnFactory.create(e);let t=e.map(r=>r.getColumn()),n=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(n,t),this.addEvent(new JE(this.getId()))}setContainerWidth(e){this.setContainerWidthWithEvent(e),this.recalculateColumns()}setWidth(e){this.setWidthWithEvent(e),this.setResizeWidthWithEvent(!1),this.recalculateColumns()}setResizeWidth(e){this.setResizeWidthWithEvent(e)}changeSort(e){this.addEvent(this.activeColumnContainer.changeSort(e))}enableColumn(e,t){let n=-1;if(this.allColumns.forEach((r,o)=>{if(r.getId().getId()===e.getId()){let a=r.isEnabled();r.setEnabled(t),a!==t&&(n=o)}}),n>0)if(t){let r=this.activeColumnEntityConverter.convert(this.allColumns[n]);this.activeColumnContainer.addColumn(r,n)}else this.activeColumnContainer.removeColumn(n);this.recalculateColumns(),this.addEvent(new WE(this.getId(),this.getActiveColumns()))}moveLeft(e){let t=this.findColumnIndex(e),n,r=-1;for(let o=t-1;o>=0;o-=1){let a=this.allColumns[o];if(a.isEnabled()){n=a,r=o;break}}if(n&&r>=0&&t>=0){let o=this.allColumns[t];this.allColumns[t]=n,this.allColumns[r]=o}this.activeColumnContainer.moveLeft(e),this.addEvent(new QE(this.getId()))}moveRight(e){let t=this.findColumnIndex(e),n,r=-1;for(let o=t+1;o<this.allColumns.length;o+=1){let a=this.allColumns[o];if(a.isEnabled()){n=a,r=o;break}}if(n&&r>=0&&t>=0){let o=this.allColumns[t];this.allColumns[t]=n,this.allColumns[r]=o}this.activeColumnContainer.moveRight(e),this.addEvent(new XE(this.getId()))}recalculateColumns(){let e=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(e,e.map(t=>t.getColumnConfig()))}setWidthWithEvent(e){let n=new jh(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());n>e?this.width=n:this.width=e,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new zE(this.getId()))}setContainerWidthWithEvent(e){let n=new jh(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());n>e?this.containerInDOMWidth=n:this.containerInDOMWidth=e,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new $E(this.getId(),e))}setResizeWidthWithEvent(e){this.resizeWidthEnabled=e,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new UE(this.getId()))}getEnabledColumns(){return this.allColumns.filter(e=>e.isEnabled())}findColumnIndex(e){return this.allColumns.findIndex(t=>t.getId().equals(e))}getMinColumnWidth(){return this.activeColumnContainer.getMinColumnWidth()}},VK=(()=>{class i extends la{columnFactory;groupFactory;constructor(t,n){super(),this.columnFactory=t,this.groupFactory=n}static services=[AN,Gv];create(t){return new tD(t,this.columnFactory,this.groupFactory)}}return i})(),fN="CompositionAggregate",iD=class{defineAggregate(){return{aggregateKey:fN,createCommandHandler:HE,factory:VK,repository:pN}}registerKey(){return fN}registerProviders(e){e.provide(RN),e.provide(Zv,pN),e.provide(Fh),e.provide(AN),e.provide($v),e.provide(Ao),e.provide(Oa),e.provide(Gv),e.provide(Lh),e.provide(Kl),e.provide(nT),e.provide(Yl,PN)}registerCommandHandlers(){return[DK,NE,LE,SK,TK,jE,MK,kK,LK]}registerDomainEventHandler(){return[]}registerMultiDomainEventHandler(){return[AK]}},BK=(()=>{class i extends Ei{sanitizer;element;safeHTML;constructor(t,n){super(n),this.sanitizer=t,this.addClassToHost("gui-h-full"),this.addClassToHost("gui-w-full")}ngOnChanges(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element.value)}getSelectorName(){return"gui-function-view"}static \u0275fac=function(n){return new(n||i)(f(rl),f(F))};static \u0275cmp=z({type:i,selectors:[["gui-function-view"]],inputs:{element:"element"},features:[H,le],decls:1,vars:1,consts:[[1,"gui-h-full","gui-flex","gui-items-center",3,"innerHTML"]],template:function(n,r){n&1&&R(0,"div",0),n&2&&_("innerHTML",r.safeHTML,ta)},encapsulation:2,changeDetection:0})}return i})(),ON=(()=>{class i extends Ei{value;constructor(t){super(t)}getSelectorName(){return"gui-percentage-view"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["gui-percentage-view","value",""]],inputs:{value:"value"},features:[H],attrs:J1,decls:1,vars:1,template:function(n,r){n&1&&j(0),n&2&&ge(" ",r.value," % ")},encapsulation:2,changeDetection:0})}return i})(),HK=(()=>{class i extends Ei{value;showPercentage=!1;width;constructor(t){super(t)}ngOnChanges(t){Et(t.value,()=>{this.width=this.value>100?100:this.value})}getSelectorName(){return"gui-bar-view"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["gui-bar-view","value",""]],inputs:{value:"value",showPercentage:"showPercentage"},features:[H,le],attrs:J1,decls:3,vars:3,consts:[[1,"gui-percentage-bar"],[1,"gui-percentage"],[3,"value",4,"ngIf"],[3,"value"]],template:function(n,r){n&1&&(C(0,"div",0),R(1,"div",1),Q(2,F9,1,1,"gui-percentage-view",2),x()),n&2&&(y(1),It("width",r.width,"%"),y(1),_("ngIf",r.showPercentage))},dependencies:[Ft,ON],encapsulation:2,changeDetection:0})}return i})(),rT=(()=>{class i{sanitizer;constructor(t){this.sanitizer=t}transform(t,n){switch(n){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error(`Invalid safe type specified: ${n}`)}}static \u0275fac=function(n){return new(n||i)(f(rl,16))};static \u0275pipe=Xs({name:"guiSafe",type:i,pure:!0})}return i})(),zK=(()=>{class i extends Ei{value;isHtml=!1;constructor(t,n,r){super(r),t!==null&&this.addClassToHost("gui-bold"),n!==null&&this.addClassToHost("gui-italic")}ngOnChanges(){this.isHtml=this.value.type===kv.HTML}getSelectorName(){return"gui-text-view"}static \u0275fac=function(n){return new(n||i)(Qc("bold"),Qc("italic"),f(F))};static \u0275cmp=z({type:i,selectors:[["gui-view-text","value",""]],inputs:{value:"value"},features:[H,le],attrs:J1,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["text",""],[3,"innerHTML"]],template:function(n,r){if(n&1&&Q(0,P9,3,4,"ng-container",0)(1,O9,2,1,"ng-template",null,1,_t),n&2){let o=sd(2);_("ngIf",r.isHtml)("ngIfElse",o)}},dependencies:[Ft,rT],encapsulation:2,changeDetection:0})}return i})(),$K=(()=>{class i extends Ei{sanitizer;element;safeHTML;constructor(t,n){super(n),this.sanitizer=t,this.addClassToHost("gui-h-full"),this.addClassToHost("gui-w-full")}ngOnChanges(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element.value)}getSelectorName(){return"gui-html-view"}static \u0275fac=function(n){return new(n||i)(f(rl),f(F))};static \u0275cmp=z({type:i,selectors:[["gui-html-view"]],inputs:{element:"element"},features:[H,le],decls:1,vars:1,consts:[[1,"gui-h-full","gui-flex","gui-items-center",3,"innerHTML"]],template:function(n,r){n&1&&R(0,"div",0),n&2&&_("innerHTML",r.safeHTML,ta)},encapsulation:2,changeDetection:0})}return i})(),UK=(()=>{class i{textTemplate;numberTemplate;chipTemplate;linkTemplate;imageTemplate;checkboxTemplate;boldTemplate;italicTemplate;customTemplate;functionTemplate;htmlTemplate;dateTemplate;barTemplate;percentageBarTemplate;percentageTemplate;getTemplate(t){switch(t){case te.TEXT:return this.textTemplate;case te.NUMBER:return this.numberTemplate;case te.CHIP:return this.chipTemplate;case te.LINK:return this.linkTemplate;case te.IMAGE:return this.imageTemplate;case te.CHECKBOX:return this.checkboxTemplate;case te.BOLD:return this.boldTemplate;case te.ITALIC:return this.italicTemplate;case te.CUSTOM:return this.customTemplate;case te.FUNCTION:return this.functionTemplate;case te.HTML:return this.htmlTemplate;case te.DATE:return this.dateTemplate;case te.BAR:return this.barTemplate;case te.PERCENTAGE_BAR:return this.percentageBarTemplate;case te.PERCENTAGE:return this.percentageTemplate;default:return this.textTemplate}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["ng-component"]],viewQuery:function(n,r){if(n&1&&(ke(N9,7,at),ke(bN,7,at),ke(L9,7,at),ke(j9,7,at),ke(V9,7,at),ke(yN,7,at),ke(B9,7,at),ke(H9,7,at),ke(z9,7,at),ke($9,7,at),ke(U9,7,at),ke(_N,7,at),ke(W9,7,at),ke(G9,7,at),ke(q9,7,at)),n&2){let o;xe(o=Ie())&&(r.textTemplate=o.first),xe(o=Ie())&&(r.numberTemplate=o.first),xe(o=Ie())&&(r.chipTemplate=o.first),xe(o=Ie())&&(r.linkTemplate=o.first),xe(o=Ie())&&(r.imageTemplate=o.first),xe(o=Ie())&&(r.checkboxTemplate=o.first),xe(o=Ie())&&(r.boldTemplate=o.first),xe(o=Ie())&&(r.italicTemplate=o.first),xe(o=Ie())&&(r.customTemplate=o.first),xe(o=Ie())&&(r.functionTemplate=o.first),xe(o=Ie())&&(r.htmlTemplate=o.first),xe(o=Ie())&&(r.dateTemplate=o.first),xe(o=Ie())&&(r.barTemplate=o.first),xe(o=Ie())&&(r.percentageBarTemplate=o.first),xe(o=Ie())&&(r.percentageTemplate=o.first)}},decls:30,vars:0,consts:[["text",""],["number",""],["chip",""],["link",""],["image",""],["checkbox",""],["bold",""],["italic",""],["custom",""],["function",""],["html",""],["date",""],["bar",""],["percentageBar",""],["percentage",""],[3,"value"],[1,"gui-cell-number"],["gui-button","","link","true",3,"href"],[3,"src"],[1,"gui-cell-boolean"],[3,"checked","disabled"],["bold","",3,"value"],["italic","",3,"value"],[3,"element"],[1,"gui-view-text"],[3,"value","showPercentage"]],template:function(n,r){n&1&&Q(0,Z9,1,1,"ng-template",null,0,_t)(2,K9,2,1,"ng-template",null,1,_t)(4,Y9,2,1,"ng-template",null,2,_t)(6,Q9,2,2,"ng-template",null,3,_t)(8,X9,1,1,"ng-template",null,4,_t)(10,J9,2,2,"ng-template",null,5,_t)(12,eG,1,1,"ng-template",null,6,_t)(14,tG,1,1,"ng-template",null,7,_t)(16,iG,1,1,"ng-template",null,8,_t)(18,nG,1,1,"ng-template",null,9,_t)(20,rG,1,1,"ng-template",null,10,_t)(22,oG,3,4,"ng-template",null,11,_t)(24,sG,1,2,"ng-template",null,12,_t)(26,aG,1,2,"ng-template",null,13,_t)(28,cG,1,1,"ng-template",null,14,_t)},dependencies:[LI,ps,Do,BK,HK,ON,zK,$K,Jg],encapsulation:2})}return i})(),tb=class{templatesComponentDefinition;componentFactoryResolver;templates=new Map;templatesComponent=null;constructor(e,t){this.templatesComponentDefinition=e,this.componentFactoryResolver=t,this.createTemplatesComponent()}getTemplates(){return this.templates}destroy(){this.templatesComponent&&(this.templatesComponent.destroy(),this.templatesComponent=null)}createTemplatesComponent(){let e=this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition),t=Pe.create({providers:[]});this.templatesComponent=e.create(t),this.generateMap()}generateMap(){this.generateMapKeys().forEach(e=>{this.findAndSetTemplate(e)})}findAndSetTemplate(e){let t=this.templatesComponent.instance.getTemplate(e);this.templates.set(e,t)}},ib=(()=>{class i extends tb{constructor(t){super(UK,t)}static services=[Lt];generateMapKeys(){return Object.keys(te).map(t=>te[t])}static \u0275fac=function(n){return new(n||i)(M(Lt))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),oT=(()=>{class i{columnTemplateFactory;constructor(t){this.columnTemplateFactory=t}static services=[ib];findTemplate(t){return this.columnTemplateFactory.getTemplates().get(t)}static \u0275fac=function(n){return new(n||i)(M(ib))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),Ql=function(i){return i[i.SUBMIT=0]="SUBMIT",i[i.BLUR=1]="BLUR",i[i.CANCEL=2]="CANCEL",i}(Ql||{}),sT=(()=>{class i extends Wt{value;valueChanges;status;focus;parent;ENTER_KEY_CODE=13;ESC_KEY_CODE=27;constructor(t,n){super(t,n)}submit(){this.emitStatus(Ql.SUBMIT)}cancel(){this.emitStatus(Ql.CANCEL)}emitStatus(t){this.status&&this.status.emit(t)}static \u0275fac=function(n){return new(n||i)(f(oe),f(F))};static \u0275dir=ne({type:i,inputs:{value:"value",valueChanges:"valueChanges",status:"status",focus:"focus",parent:"parent"},features:[H]})}return i})(),NN=(()=>{class i extends sT{formBuilder;inputRef;filterForm;filterFieldName="phrase";constructor(t,n,r){super(t,n),this.formBuilder=r,this.filterForm=this.formBuilder.group({[this.filterFieldName]:[""]})}ngOnChanges(t){t.value!==void 0&&this.filterForm.get(this.filterFieldName).setValue(this.value)}ngOnInit(){this.observeChanges()}ngAfterViewInit(){let t=this.inputRef.nativeElement;this.focusField(t),this.emitValueChange(t.value),Qd(t,"blur").pipe(this.takeUntil()).subscribe(()=>{this.unsubscribe(),this.submit()});let n=Qd(t,"keyup");n.pipe(nt(r=>r.keyCode===this.ENTER_KEY_CODE),this.takeUntil()).subscribe(()=>{this.unsubscribe(),this.submit()}),n.pipe(nt(r=>r.keyCode===this.ESC_KEY_CODE),this.takeUntil()).subscribe(()=>{this.unsubscribe(),this.cancel()})}focusField(t){this.focus&&t.focus()}observeChanges(){ss(this.filterForm.controls[this.filterFieldName].valueChanges).pipe(this.takeUntil()).subscribe(t=>{this.emitValueChange(t)})}emitValueChange(t){this.valueChanges&&this.valueChanges.emit(t)}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Co))};static \u0275dir=ne({type:i,viewQuery:function(n,r){if(n&1&&ke(lG,7),n&2){let o;xe(o=Ie())&&(r.inputRef=o.first)}},features:[H,le]})}return i})(),WK=(()=>{class i extends NN{constructor(t,n,r){super(t,n,r)}focusField(t){this.focus&&(t.focus(),t.setSelectionRange(0,t.value.length))}getSelectorName(){return"gui-string-edit"}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Co))};static \u0275cmp=z({type:i,selectors:[["gui-string-edit"]],features:[H],decls:3,vars:2,consts:[[3,"formGroup"],["type","type",1,"gui-input",3,"formControlName"],["input",""]],template:function(n,r){n&1&&(C(0,"form",0),R(1,"input",1,2),x()),n&2&&(_("formGroup",r.filterForm),y(1),_("formControlName",r.filterFieldName))},dependencies:[ls,$r,as,cs,yo,_o],encapsulation:2,changeDetection:0})}return i})(),GK=(()=>{class i extends NN{constructor(t,n,r){super(t,n,r)}getSelectorName(){return"gui-number-edit"}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Co))};static \u0275cmp=z({type:i,selectors:[["gui-number-edit"]],features:[H],decls:3,vars:2,consts:[[3,"formGroup"],["type","number",1,"gui-input",3,"formControlName"],["input",""]],template:function(n,r){n&1&&(C(0,"form",0),R(1,"input",1,2),x()),n&2&&(_("formGroup",r.filterForm),y(1),_("formControlName",r.filterFieldName))},dependencies:[ls,$r,th,as,cs,yo,_o],encapsulation:2,changeDetection:0})}return i})(),qK=(()=>{class i extends sT{changeDetectorRef;checkboxRef;filterFieldName="booleanEdit";constructor(t,n){super(t,n),this.changeDetectorRef=t}toggle(t){this.valueChanges.emit(t),this.submit()}getSelectorName(){return"gui-boolean-edit"}static \u0275fac=function(n){return new(n||i)(f(oe),f(F))};static \u0275cmp=z({type:i,selectors:[["gui-boolean-edit"]],viewQuery:function(n,r){if(n&1&&ke(yN,7,F),n&2){let o;xe(o=Ie())&&(r.checkboxRef=o.first)}},features:[H],decls:3,vars:2,consts:[[1,"gui-cell-boolean"],[3,"checked","name","changed"],["checkbox",""]],template:function(n,r){n&1&&(C(0,"span",0)(1,"gui-checkbox",1,2),Y("changed",function(a){return r.toggle(a)}),x()()),n&2&&(y(1),_("checked",r.value)("name",r.filterFieldName))},dependencies:[ps],encapsulation:2,changeDetection:0})}return i})(),ZK=(()=>{class i extends sT{changeDetectorRef;datePickerRef;filterFieldName="dateEdit";opened=!1;localStreamCloser=new Cv;constructor(t,n){super(t,n),this.changeDetectorRef=t}ngAfterViewInit(){let t=this.datePickerRef.nativeElement.querySelector(".gui-date-picker-input"),n=Qd(t,"keyup");n.pipe(nt(r=>r.keyCode===this.ENTER_KEY_CODE),this.localStreamCloser.takeUntil()).subscribe(()=>{this.localStreamCloser.unsubscribe(),this.submit()}),n.pipe(nt(r=>r.keyCode===this.ESC_KEY_CODE),this.localStreamCloser.takeUntil()).subscribe(()=>{this.localStreamCloser.unsubscribe(),this.cancel()})}ngOnDestroy(){this.localStreamCloser.unsubscribe(),super.ngOnDestroy()}toggle(t){this.valueChanges.emit(t)}dialogOpened(t){this.opened=t,t||(this.localStreamCloser.unsubscribe(),this.submit())}getSelectorName(){return"gui-date-edit"}static \u0275fac=function(n){return new(n||i)(f(oe),f(F))};static \u0275cmp=z({type:i,selectors:[["gui-date-edit"]],viewQuery:function(n,r){if(n&1&&ke(uG,7,F),n&2){let o;xe(o=Ie())&&(r.datePickerRef=o.first)}},features:[H],decls:2,vars:5,consts:[[3,"selectDate","name","openDialog","onlyDialog","parentElement","dialogOpened","dateSelected"],["datepicker",""]],template:function(n,r){n&1&&(C(0,"gui-date-picker",0,1),Y("dialogOpened",function(a){return r.dialogOpened(a)})("dateSelected",function(a){return r.toggle(a)}),x()),n&2&&_("selectDate",r.value)("name",r.filterFieldName)("openDialog",!0)("onlyDialog",!1)("parentElement",r.parent)},dependencies:[iN],encapsulation:2,changeDetection:0})}return i})(),KK=(()=>{class i{stringTemplate;numberTemplate;booleanTemplate;dateTemplate;emptyTemplate;getTemplate(t){switch(t){case ae.STRING:return this.stringTemplate;case ae.NUMBER:return this.numberTemplate;case ae.BOOLEAN:return this.booleanTemplate;case ae.DATE:return this.dateTemplate;default:return this.emptyTemplate}}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["ng-component"]],viewQuery:function(n,r){if(n&1&&(ke(dG,7,at),ke(bN,7,at),ke(hG,7,at),ke(_N,7,at),ke(pG,7,at)),n&2){let o;xe(o=Ie())&&(r.stringTemplate=o.first),xe(o=Ie())&&(r.numberTemplate=o.first),xe(o=Ie())&&(r.booleanTemplate=o.first),xe(o=Ie())&&(r.dateTemplate=o.first),xe(o=Ie())&&(r.emptyTemplate=o.first)}},decls:10,vars:0,consts:[["string",""],["number",""],["boolean",""],["date",""],["empty",""],[3,"valueChanges","value","status","focus"],[3,"valueChanges","value","status","focus","parent"]],template:function(n,r){n&1&&Q(0,fG,1,4,"ng-template",null,0,_t)(2,gG,1,4,"ng-template",null,1,_t)(4,mG,1,4,"ng-template",null,2,_t)(6,vG,1,5,"ng-template",null,3,_t)(8,bG,0,0,"ng-template",null,4,_t)},dependencies:[WK,GK,qK,ZK],encapsulation:2})}return i})(),nb=(()=>{class i extends tb{constructor(t){super(KK,t)}static services=[Lt];generateMapKeys(){return Object.keys(ae).map(t=>ae[t])}static \u0275fac=function(n){return new(n||i)(M(Lt))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),aT=(()=>{class i{editTemplateFactory;constructor(t){this.editTemplateFactory=t}static services=[nb];findTemplate(t){return this.editTemplateFactory.getTemplates().get(t)}static \u0275fac=function(n){return new(n||i)(M(nb))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),nD=class{groups;showGroups;constructor(e,t){this.groups=e,this.showGroups=t}getGroups(){return this.groups}isVisible(){return this.showGroups}},Vh=class i extends Ct{static default=new nD([],!1);constructor(){super(i.default)}},YK=(()=>{class i extends Yn{compositionDispatcher;compositionGroupRepository;columnHighlightArchive;constructor(t,n,r){super(),this.compositionDispatcher=t,this.compositionGroupRepository=n,this.columnHighlightArchive=r}static services=[Fh,Vh,Lh];create(t){this.compositionDispatcher.create(t)}setColumns(t,n){this.compositionDispatcher.setColumns(n,t)}setGroups(t,n){this.compositionDispatcher.setGroups(n,t)}setWidth(t,n){this.compositionDispatcher.setWidth(n,t)}setContainerWidth(t,n){this.compositionDispatcher.setContainerWidth(n,t)}setResizeWidth(t,n){this.compositionDispatcher.setResizeWidth(n,t)}enableColumn(t,n){this.compositionDispatcher.setColumnEnabled(n,this.toColumnId(t),!0)}disableColumn(t,n){this.compositionDispatcher.setColumnEnabled(n,this.toColumnId(t),!1)}moveLeft(t,n){this.compositionDispatcher.moveLeft(n,this.toColumnId(t))}moveRight(t,n){this.compositionDispatcher.moveRight(n,this.toColumnId(t))}highlightColumn(t,n){this.columnHighlightArchive.toggle(n,new Zl(t.getId()))}toColumnId(t){return new Zl(t.getId())}}return i})(),QK=(()=>{class i extends an{compositionRepository;compositionGroupArchive;columnHighlightArchive;constructor(t,n,r){super(),this.compositionRepository=t,this.compositionGroupArchive=n,this.columnHighlightArchive=r}static services=[Yl,Vh,Lh];onWidth(t){return this.compositionRepository.on(t).pipe(ee(n=>n.getWidth()))}onContainerWidth(t){return this.compositionRepository.on(t).pipe(ee(n=>n.getContainerWidth()))}onWidthForEachColumn(t){return this.compositionRepository.on(t).pipe(ee(n=>n.getAllColumns().map(r=>r.width)))}onHeaderColumns(t){return this.compositionRepository.on(t).pipe(ee(n=>n.getActiveHeaderColumns()))}onAllColumns(t){return this.compositionRepository.on(t).pipe(ee(n=>n.getHeaderColumns()))}onSortOrder(t,n){return this.compositionRepository.on(n).pipe(ee(r=>r.getActiveHeaderColumns()),ee(r=>r.filter(o=>o.getFieldId().equals(t))),nt(r=>r.length>0),ee(r=>r[0].getSortStatus()))}onTemplateColumns(t){return this.compositionRepository.on(t).pipe(ee(n=>n.getTemplateColumns()))}onResizeWidth(t){return this.compositionRepository.on(t).pipe(ee(n=>n.isResizeWidthEnabled()))}onGroups(t){return this.compositionGroupArchive.on(t)}onHighlightedColumn(t,n){return this.columnHighlightArchive.on(n).pipe(ee(r=>r.isHighlighted(t)))}findColumnNames(t){let n=[];return this.compositionRepository.find(t).ifPresent(r=>{n=r.getAllColumns().map(o=>o.getName())}),n}}return i})(),rD=class extends xs{constructor(){super()}onColumnsChanged(e){return this.onEvent(e,Wl)}onContainerWidthChanged(e){return this.onEvent(e,Gl).pipe(ee(t=>t.getPayload()),nt(t=>!!t))}},oD=class extends ws{configure(e){if(e!=null&&Array.isArray(e)&&e.length===0)return[];let t=e[0];return Object.keys(t).map((n,r)=>this.toColumnConfig(n,t))}toColumnConfig(e,t){return{field:this.getField(e),header:this.getHeader(e),type:this.getType(e,t)}}getField(e){return e}getHeader(e){return e[0].toUpperCase()+e.slice(1)}getType(e,t){return typeof t[e]=="string"?ae.STRING:typeof t[e]=="number"?ae.NUMBER:t[e]instanceof Date?ae.DATE:typeof t[e]=="boolean"?ae.BOOLEAN:ae.UNKNOWN}},sD=class{registerProviders(e){e.provide(nT),e.provide(Yl,PN),e.provide(Xv),e.provide(oT),e.provide(ib),e.provide(nb),e.provide(aT),e.provide(Kl),e.provide(FN),e.provide(Vh),e.provide(Yn,YK),e.provide(an,QK),e.provide(xs,rD),e.provide(ws,oD)}};function XK(){new Li(new sD,new iD).init()}var mp=(()=>{class i{compositionWarehouse;viewTemplateRepository;editTemplateRepository;constructor(t,n,r){this.compositionWarehouse=t,this.viewTemplateRepository=n,this.editTemplateRepository=r}onHeaderCols(t){return this.compositionWarehouse.onHeaderColumns(t).pipe(ee(n=>n.map(r=>{let o;typeof r.getHeader()=="function"?o=this.findViewTemplate(te.FUNCTION):o=this.findViewTemplate(te.HTML);let a=this.findEditTemplate(r.getDataType());return new Mv(o,a,r)})))}onAll(t){return this.compositionWarehouse.onAllColumns(t).pipe(ee(n=>n.map(r=>{let o;typeof r.getHeader()=="function"?o=this.findViewTemplate(te.FUNCTION):o=this.findViewTemplate(te.HTML);let a=this.findEditTemplate(r.getDataType());return new Mv(o,a,r)})))}onTemplateCols(t){return this.compositionWarehouse.onTemplateColumns(t).pipe(ee(n=>n.map(r=>{let o;r.getCellView()===te.NG_TEMPLATE?o=r.getColumnConfig().templateRef:o=this.findViewTemplate(r.getCellView());let a=this.findEditTemplate(r.getDataType());return new PE(o,a,r)})))}findViewTemplate(t){return t===te.FUNCTION?this.viewTemplateRepository.findTemplate(te.FUNCTION):this.viewTemplateRepository.findTemplate(t)}findEditTemplate(t){return this.editTemplateRepository.findTemplate(t)}static \u0275fac=function(n){return new(n||i)(M(an),M(oT),M(aT))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),za=class extends zr{constructor(){super()}},JK=(()=>{class i extends Wt{structureSummariesEventRepository;translationService;sourceWarehouse;enabled;state=B(si);compositionId=B(oi);structureId=B(Ae);formationWarehouse=B(sn);compositionTemplateWarehouse=B(mp);headerColumns$=this.compositionTemplateWarehouse.onHeaderCols(this.compositionId);state$=this.state.select();checkboxSelection$=this.selectCheckboxSelection();constructor(t,n,r,o,a){super(t,n),this.structureSummariesEventRepository=r,this.translationService=o,this.sourceWarehouse=a,this.addClassToHost("gui-flex"),this.state.connect("summariesTranslations",this.selectSummariesTranslations()),this.state.connect("sourceEmpty",this.selectSourceEmpty()),this.state.connect("summaries",this.selectSummaries())}isSummariesTypePresent(t){return t!=null}getSelectorName(){return"gui-structure-summaries-panel"}selectCheckboxSelection(){return this.formationWarehouse.onType(this.structureId).pipe(ee(t=>t===ki.CHECKBOX))}selectSourceEmpty(){return this.sourceWarehouse.onItemsSize(this.structureId).pipe(ee(t=>t===0))}selectSummariesTranslations(){return this.translationService.onTranslation().pipe(ee(t=>new FE(t.summariesDistinctValuesTooltip,t.summariesAverageTooltip,t.summariesMinTooltip,t.summariesMaxTooltip,t.summariesMedTooltip,t.summariesCountTooltip)))}selectSummaries(){return this.structureSummariesEventRepository.onSummariesChanged(this.structureId.toReadModelRootId()).pipe(ee(t=>t.getSummaries()))}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(za),f(yr),f(Dn))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-summaries-panel","","enabled",""]],inputs:{enabled:"enabled"},features:[pt([si]),H],attrs:yG,decls:1,vars:1,consts:[[4,"guiLet"],[4,"ngIf"],["class",`gui-structure-summaries-cell gui-row-checkbox gui-flex gui-justify-between
	 gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border
	 gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis`,4,"ngIf"],["class","gui-structure-summaries-cell",3,"width",4,"ngFor","ngForOf"],[1,"gui-structure-summaries-cell","gui-row-checkbox","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],[1,"gui-structure-summaries-cell"],["class","gui-structure-summaries-value",4,"ngIf"],[1,"gui-structure-summaries-value"],[3,"gui-tooltip"],[1,"gui-summaries-value"]],template:function(n,r){n&1&&Q(0,FG,2,1,"ng-container",0),n&2&&_("guiLet",r.state$)},dependencies:[di,Ft,ov,Zi,Sn,au],encapsulation:2,changeDetection:0})}return i})(),eY=(()=>{class i extends SN{constructor(t,n){super(t,n)}getSelectorName(){return"gui-info-dialog"}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275cmp=z({type:i,selectors:[["div","gui-info-dialog",""]],features:[H],attrs:PG,decls:31,vars:0,consts:[[1,"gui-structure-info-modal","gui-flex","gui-flex-col","gui-p-0","gui-text-lg","gui-w-full"],[1,"gui-text-3xl","gui-mb-8","gui-font-bold"],[1,"gui-text-xl","gui-mb-18","gui-font-bold"],[1,"gui-quote","gui-text-2xl","gui-italic","gui-font-light"],[1,"gui-m-0","gui-px-0","gui-pt-10","gui-pb-6"],[1,"gui-font-bold"],[1,"gui-m-0","gui-pl-9","gui-list-none"],["href","https://generic-ui.com/",1,"gui-mb-6","gui-no-underline","gui-leading-6"],["href","https://generic-ui.com/guide/",1,"gui-mb-6","gui-no-underline","gui-leading-6"],["href","https://github.com/generic-ui/generic-ui/tree/master/ngx-grid",1,"gui-mb-6","gui-no-underline","gui-leading-6"],["href","https://github.com/generic-ui/generic-ui/issues",1,"gui-mb-6","gui-no-underline","gui-leading-6"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"p",1),j(2," Generic UI Grid "),x(),C(3,"p",2),j(4," ver. 0.21.0 "),x(),C(5,"p",3),j(6,' "The best way to success is to help others succeed." '),x(),R(7,"br"),C(8,"section",4)(9,"p",5),j(10,"Links:"),x(),C(11,"ul",6)(12,"li")(13,"a",7),j(14,"Website"),x()(),C(15,"li")(16,"a",8),j(17,"Documentation"),x()(),C(18,"li")(19,"a",9),j(20,"Github"),x()()(),R(21,"br"),C(22,"p",5),j(23,"Feedback:"),x(),C(24,"ul",6)(25,"li")(26,"a",10),j(27,"Report a bug"),x()(),C(28,"li")(29,"a",10),j(30,"Suggest an idea"),x()()()()())},encapsulation:2,changeDetection:0})}return i})(),LN=(()=>{class i extends Wt{compositionId;compositionCommandInvoker;compositionTemplateWarehouse;state=B(si);state$=this.state.select();constructor(t,n,r,o,a){super(t,n),this.compositionId=r,this.compositionCommandInvoker=o,this.compositionTemplateWarehouse=a,this.addClassToHost("gui-block"),this.state.connect("columns",this.selectColumns()),this.state.connect("enabledColumnsCount",this.selectEnabledColumnsCount())}toggleColumn(t){event.stopPropagation(),t.isEnabled()?this.compositionCommandInvoker.disableColumn(t.getColumnDefinitionId(),this.compositionId):this.compositionCommandInvoker.enableColumn(t.getColumnDefinitionId(),this.compositionId)}getSelectorName(){return"gui-structure-column-manager"}selectColumns(){return this.compositionTemplateWarehouse.onAll(this.compositionId)}selectEnabledColumnsCount(){return this.compositionTemplateWarehouse.onAll(this.compositionId).pipe(ee(t=>t.map(n=>+n.isEnabled()).reduce((n,r)=>n+r)))}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(oi),f(Yn),f(mp))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-column-manager",""]],features:[pt([si]),H],attrs:OG,decls:1,vars:1,consts:[["class","gui-structure-ordered-list gui-p-0 gui-my-4 gui-list-none gui-overflow-auto",4,"guiLet"],[1,"gui-structure-ordered-list","gui-p-0","gui-my-4","gui-list-none","gui-overflow-auto"],["class","gui-px-13 gui-py-6 gui-cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"gui-px-13","gui-py-6","gui-cursor-pointer",3,"click"],[3,"checked","disabled"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&Q(0,jG,2,1,"ol",0),n&2&&_("guiLet",r.state$)},dependencies:[di,dd,ps,Zi],encapsulation:2,changeDetection:0})}return i})(),tY=(()=>{class i extends Wt{constructor(t,n){super(t,n)}getSelectorName(){return"gui-structure-dialog-column-manager"}static \u0275fac=function(n){return new(n||i)(f(oe),f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-dialog-column-manager",""]],features:[H],attrs:VG,decls:4,vars:3,consts:[[1,"gui-dialog-title"],["gui-structure-column-manager","",1,"-gui-mx-10"]],template:function(n,r){n&1&&(C(0,"div",0),j(1),be(2,"guiTranslate"),x(),R(3,"div",1)),n&2&&(y(1),ht(Se(2,1,"columnManagerModalTitle")))},dependencies:[LN,Sn],encapsulation:2,changeDetection:0})}return i})(),vp=(()=>{class i{convertTheme(t){switch(t){case se.FABRIC:return st.FABRIC;case se.MATERIAL:return st.MATERIAL;case se.GENERIC:return st.GENERIC;case se.LIGHT:return st.LIGHT;case se.DARK:return st.DARK;default:return st.FABRIC}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),jN=(()=>{class i extends Mi{injector;schemaWarehouse;structureThemeConverter;fabricDialogService;constructor(t,n,r,o){super(),this.injector=t,this.schemaWarehouse=n,this.structureThemeConverter=r,this.fabricDialogService=o}open(t,n,r){r||(r=this.injector);let o=Pe.create({parent:r,providers:[{provide:oi,useValue:t}]});this.schemaWarehouse.findTheme(n).ifPresent(a=>{this.fabricDialogService.open({injector:o,component:tY,theme:this.structureThemeConverter.convertTheme(a)})})}static \u0275fac=function(n){return new(n||i)(M(Pe),M(En),M(vp),M(Ia))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),iY=(()=>{class i extends Wt{structureId;schemaPublisher;schemaWarehouse=B(En);schemaReadModelRootId=B(mi);coloring=this.createColoringOptions();themes=this.createThemeOptions();rowColoring$=this.selectRowColoring();theme$=this.selectTheme();verticalGrid$=this.schemaWarehouse.onVerticalGrid(this.schemaReadModelRootId);horizontalGrid$=this.schemaWarehouse.onHorizontalGrid(this.schemaReadModelRootId);constructor(t,n,r,o){super(t,n),this.structureId=r,this.schemaPublisher=o}toggleTheme(t){this.schemaPublisher.setTheme(this.toTheme(t.value),this.schemaReadModelRootId,this.structureId)}toggleRowColoring(t){this.schemaPublisher.setRowColoring(this.toRowColoring(t.value),this.schemaReadModelRootId)}toggleVerticalGrid(t){event.stopPropagation(),this.schemaPublisher.setVerticalGrid(!t,this.schemaReadModelRootId)}toggleHorizontalGrid(t){event.stopPropagation(),this.schemaPublisher.setHorizontalGrid(!t,this.schemaReadModelRootId)}getSelectorName(){return"gui-structure-schema-manager"}createColoringOptions(){return Object.keys(Ut).map(t=>Ut[t]).filter(t=>!Number.isInteger(t)).map(t=>({value:t,name:t}))}createThemeOptions(){return Object.keys(se).map(t=>se[t]).filter(t=>!Number.isInteger(t)).map(t=>({value:t,name:t}))}selectRowColoring(){return this.schemaWarehouse.onRowColoring(this.schemaReadModelRootId).pipe(ee(t=>({value:Ut[t],name:Ut[t]})))}selectTheme(){return this.schemaWarehouse.onTheme(this.schemaReadModelRootId).pipe(ee(t=>({value:se[t],name:se[t]})))}toTheme(t){switch(t.toLowerCase()){case"fabric":return se.FABRIC;case"material":return se.MATERIAL;case"generic":return se.GENERIC;case"light":return se.LIGHT;case"dark":return se.DARK;default:return se.FABRIC}}toRowColoring(t){switch(t.toLowerCase()){case"none":return fi.NONE;case"odd":return fi.ODD;case"even":return fi.EVEN;default:return fi.NONE}}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Ae),f(cn))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-schema-manager",""]],features:[H],attrs:BG,decls:19,vars:21,consts:[[1,"gui-schema-manager","gui-flex","gui-flex-col"],[1,"gui-dialog-title","gui-mb-8"],[1,"gui-structure-schema-manager-select","gui-flex","gui-flex-col"],[1,"gui-mb-4","gui-text-xs"],[3,"options","selected","width","optionChanged"],[1,"gui-structure-ordered-list","gui-mx-10","gui-p-0","gui-my-4","gui-list-none","gui-overflow-auto"],["class","gui-px-13 gui-py-6 gui-cursor-pointer",3,"click",4,"guiLet"],[1,"gui-px-13","gui-py-6","gui-cursor-pointer",3,"click"],[3,"checked"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),j(2),be(3,"guiTranslate"),x(),C(4,"div",2)(5,"span",3),j(6),be(7,"guiTranslate"),x(),C(8,"gui-select",4),Y("optionChanged",function(a){return r.toggleTheme(a)}),be(9,"guiPush"),x()(),C(10,"div",2)(11,"span",3),j(12),be(13,"guiTranslate"),x(),C(14,"gui-select",4),Y("optionChanged",function(a){return r.toggleRowColoring(a)}),be(15,"guiPush"),x()(),C(16,"ol",5),Q(17,HG,4,4,"li",6)(18,zG,4,4,"li",6),x()()),n&2&&(y(2),ht(Se(3,11,"themeManagerModalTitle")),y(4),ht(Se(7,13,"themeManagerModalTheme")),y(2),_("options",r.themes)("selected",Se(9,15,r.theme$))("width",180),y(4),ge(" ",Se(13,17,"themeManagerModalRowColoring")," "),y(2),_("options",r.coloring)("selected",Se(15,19,r.rowColoring$))("width",180),y(3),_("guiLet",r.verticalGrid$),y(1),_("guiLet",r.horizontalGrid$))},dependencies:[ps,sv,Zi,Sn,au],encapsulation:2,changeDetection:0})}return i})(),nY=(()=>{class i extends Ei{constructor(t){super(t)}getSelectorName(){return"gui-schema-manager-dialog"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-schema-manager-dialog",""]],features:[H],attrs:$G,decls:1,vars:0,consts:[["gui-structure-schema-manager",""]],template:function(n,r){n&1&&R(0,"div",0)},dependencies:[iY],encapsulation:2,changeDetection:0})}return i})(),VN=(()=>{class i extends Mi{injector;fabricDialogService;constructor(t,n){super(),this.injector=t,this.fabricDialogService=n}open(t,n){n||(n=this.injector);let r=Pe.create({providers:[{provide:mi,useValue:t}],parent:n});this.fabricDialogService.open({injector:r,component:nY})}static \u0275fac=function(n){return new(n||i)(M(Pe),M(Ia))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),rY=(()=>{class i extends su{constructor(t,n){super(t,n)}getSelectorName(){return"gui-structure-column-manager-icon"}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-column-manager-icon",""]],features:[H],attrs:UG,decls:7,vars:0,consts:[["data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10.32 10.31"],["x1","9.57","y1","3.65","x2","0.75","y2","3.65",1,"cls-1"],["x1","9.57","y1","0.75","x2","0.75","y2","0.75",1,"cls-2"],["x1","0.75","y1","9.56","x2","0.75","y2","0.88",1,"cls-2"],["x1","3.69","y1","9.65","x2","3.69","y2","3.89",1,"cls-1"],["x1","6.63","y1","9.56","x2","6.63","y2","3.89",1,"cls-1"],["x1","9.57","y1","9.56","x2","9.57","y2","0.88",1,"cls-2"]],template:function(n,r){n&1&&(Ui(),C(0,"svg",0),R(1,"line",1)(2,"line",2)(3,"line",3)(4,"line",4)(5,"line",5)(6,"line",6),x())},encapsulation:2,changeDetection:0})}return i})(),oY=(()=>{class i extends su{constructor(t,n){super(t,n)}getSelectorName(){return"gui-structure-schema-manager-icon"}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-schema-manager-icon",""]],features:[H],attrs:WG,decls:11,vars:0,consts:[["height","24","viewBox","0 0 32 24","width","32","xmlns","http://www.w3.org/2000/svg"],["transform","translate(0 -4)"],["d","M23.337,4H32v6H23.337Z","data-name","Path 303","id","Path_303"],["d","M11.662,4h8.662v6H11.662Z","data-name","Path 304","id","Path_304"],["d","M0,4H8.662v6H0Z","data-name","Path 305","id","Path_305"],["d","M23.337,22H32v6H23.337Z","data-name","Path 306","id","Path_306"],["d","M0,22H8.662v6H0Z","data-name","Path 307","id","Path_307"],["d","M11.662,22h8.662v6H11.662Z","data-name","Path 308","id","Path_308"],["d","M23.337,13H32v6H23.337Z","data-name","Path 309","id","Path_309"],["d","M11.662,13h8.662v6H11.662Z","data-name","Path 310","id","Path_310"],["d","M0,13H8.662v6H0Z","data-name","Path 311","id","Path_311"]],template:function(n,r){n&1&&(Ui(),C(0,"svg",0)(1,"g",1),R(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10),x()())},encapsulation:2,changeDetection:0})}return i})(),sY=(()=>{class i extends Wt{structureId=B(Ae);searchCommandDispatcher=B(xn);searchWarehouse=B(Yr);phrase$=this.searchWarehouse.onPhrase(this.structureId);constructor(t,n){super(t,n)}clearSearch(){event.stopPropagation(),this.searchCommandDispatcher.search("",this.structureId)}getSelectorName(){return"gui-active-search"}static \u0275fac=function(n){return new(n||i)(f(oe),f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-active-search",""]],features:[H],attrs:GG,decls:1,vars:1,consts:[[4,"guiLet"],["gui-button","",3,"outline","primary","click"]],template:function(n,r){n&1&&Q(0,qG,9,3,"ng-container",0),n&2&&_("guiLet",r.phrase$)},dependencies:[Do,LI,Zi],encapsulation:2,changeDetection:0})}return i})(),aY=(()=>{class i extends Wt{filterCommandDispatcher;structureId=B(Ae);filterWarehouse=B(Gr);activeFilters$=this.filterWarehouse.onActiveFilters(this.structureId);constructor(t,n,r){super(t,n),this.filterCommandDispatcher=r}removeFilter(t){this.filterCommandDispatcher.remove(t.getFilterId(),this.structureId)}getSelectorName(){return"gui-active-filter-list"}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(br))};static \u0275cmp=z({type:i,selectors:[["div","gui-active-filter-list",""]],features:[H],attrs:ZG,decls:2,vars:1,consts:[[4,"guiLet"],["gui-active-search",""],[4,"ngFor","ngForOf"],[3,"click"]],template:function(n,r){n&1&&(Q(0,YG,2,1,"ng-container",0),R(1,"div",1)),n&2&&_("guiLet",r.activeFilters$)},dependencies:[di,Zi,sY],encapsulation:2,changeDetection:0})}return i})(),cY=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=z({type:i,selectors:[["ng-component"]],decls:8,vars:3,consts:[["gui-active-filter-list",""],["gui-button","",3,"text"],["gui-button","",3,"outline","primary"]],template:function(n,r){n&1&&(C(0,"h3"),j(1,"Active filters"),x(),R(2,"div",0),C(3,"div")(4,"button",1),j(5," Cancel "),x(),C(6,"button",2),j(7," Clear All "),x()()),n&2&&(y(4),_("text",!0),y(2),_("outline",!0)("primary",!0))},dependencies:[aY,Do],encapsulation:2})}return i})(),BN=(()=>{class i extends Mi{injector;schemaWarehouse;structureThemeConverter;fabricDialogService;constructor(t,n,r,o){super(),this.injector=t,this.schemaWarehouse=n,this.structureThemeConverter=r,this.fabricDialogService=o}open(t,n){let r=Pe.create({parent:this.injector,providers:[{provide:mi,useValue:t},{provide:Ae,useValue:n}]});this.schemaWarehouse.findTheme(t).ifPresent(o=>{this.fabricDialogService.open({injector:r,component:cY,theme:this.structureThemeConverter.convertTheme(o)})})}static \u0275fac=function(n){return new(n||i)(M(Pe),M(En),M(vp),M(Ia))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),lY=(()=>{class i{el;structureId;activeFilterService;schemaReadModelRootId;constructor(t,n,r,o){this.el=t,this.structureId=n,this.activeFilterService=r,this.schemaReadModelRootId=o}ngOnInit(){}static \u0275fac=function(n){return new(n||i)(f(F),f(Ae),f(BN),f(mi))};static \u0275dir=ne({type:i,selectors:[["","gui-active-filter-menu-trigger",""]]})}return i})(),uY=(()=>{class i extends su{constructor(t,n){super(t,n)}getSelectorName(){return"gui-structure-info-icon"}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-info-icon",""]],features:[H],attrs:QG,decls:3,vars:0,consts:[["data-name","Layer 1","viewBox","0 0 10.08 10.08","xmlns","http://www.w3.org/2000/svg"],["d","M401.64,307.76c0-.28.23-.45.54-.45s.55.17.55.45v0a.49.49,0,0,1-.55.46.48.48,0,0,1-.54-.46Zm.05,1.27a.49.49,0,0,1,1,0v2.54a.49.49,0,0,1-1,0Z","transform","translate(-397.14 -304.64)",1,"cls-1"],["cx","5.04","cy","5.04","r","4.54",1,"cls-2"]],template:function(n,r){n&1&&(Ui(),C(0,"svg",0),R(1,"path",1)(2,"circle",2),x())},encapsulation:2,changeDetection:0})}return i})(),dY=(()=>{class i{transform(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}static \u0275fac=function(n){return new(n||i)};static \u0275pipe=Xs({name:"numberFormatter",type:i,pure:!0})}return i})(),hY=(()=>{class i extends Wt{injector;dialog;compositionId;schemaReadModelRootId;menuColumnManagerService;translationService;schemaManagerService;structureInfoPanelArchive;state=B(si);sourceWarehouse=B(Dn);structureId=B(Ae);state$=this.state.select();totalItemsSize$=this.sourceWarehouse.onOriginSize(this.structureId);infoModal=eY;constructor(t,n,r,o,a,l,d,p,m,b){super(t,n),this.injector=r,this.dialog=o,this.compositionId=a,this.schemaReadModelRootId=l,this.menuColumnManagerService=d,this.translationService=p,this.schemaManagerService=m,this.structureInfoPanelArchive=b,this.state.connect("infoPanelConfig",this.structureInfoPanelArchive.on()),this.state.connect("preparedItemsSize",this.sourceWarehouse.onPreparedItems(this.structureId).pipe(ee(w=>w.length))),this.state.connect("translations",this.translationService.onTranslation())}openInfo(){this.dialog.open({component:this.infoModal})}openColumnManager(){this.menuColumnManagerService.open(this.compositionId,this.schemaReadModelRootId,this.injector)}openSchemaManager(){this.schemaManagerService.open(this.schemaReadModelRootId,this.injector)}getSelectorName(){return"gui-structure-info-panel"}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Pe),f(Ia),f(oi),f(mi),f(jN),f(yr),f(VN),f(Cs))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-info-panel",""]],features:[pt([si]),H],attrs:XG,decls:1,vars:1,consts:[[4,"guiLet"],[1,"gui-right-section"],[3,"click",4,"ngIf"],[4,"ngIf"],["gui-active-filter-menu-trigger","",4,"ngIf"],["gui-active-filter-menu-trigger",""],[3,"click"],["gui-structure-schema-manager-icon","",3,"gui-tooltip"],["gui-structure-column-manager-icon","",3,"gui-tooltip"],["gui-structure-info-icon","",3,"gui-tooltip"]],template:function(n,r){n&1&&Q(0,aq,7,4,"ng-container",0),n&2&&_("guiLet",r.state$)},dependencies:[Ft,ov,rY,oY,lY,Zi,uY,dY,Sn],encapsulation:2,changeDetection:0})}return i})(),rb=(()=>{class i{destroy$=new nn(1);register(t,n,r){return t.pipe(rn(this.destroy$)).subscribe(o=>n(o),o=>console.log(o),r?()=>r():()=>{})}destroy(){this.destroy$.next(),this.destroy$.complete()}ngOnDestroy(){this.destroy()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),pY=(()=>{class i extends su{constructor(t,n){super(t,n)}getSelectorName(){return"gui-search-icon"}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275cmp=z({type:i,selectors:[["div","gui-search-icon",""]],features:[H],attrs:cq,decls:3,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","10.231","height","10.601","viewBox","0 0 10.231 10.601",1,"gui-search-icon-svg"],["x2","1.77","y2","1.77","transform","translate(7.4 7.77)","fill","none","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5"],["cx","4.02","cy","4.02","r","4.02","transform","translate(0.5 0.5)","stroke-width","1","stroke-linecap","round","stroke-linejoin","round","fill","none"]],template:function(n,r){n&1&&(Ui(),C(0,"svg",0),R(1,"line",1)(2,"circle",2),x())},encapsulation:2,changeDetection:0})}return i})(),fY=(()=>{class i extends Wt{formBuilder;effects;searchCommandDispatcher;static FORM_SEARCH_NAME="searchPhrase";formRef;structureId=B(Ae);searchWarehouse=B(Yr);searchForm;placeholder$=this.searchWarehouse.onPlaceholder(this.structureId);searchingEnabled$=this.searchWarehouse.onSearchEnabled(this.structureId);searchInputSubscription;constructor(t,n,r,o,a){super(n,r),this.formBuilder=t,this.effects=o,this.searchCommandDispatcher=a;let l={};l[i.FORM_SEARCH_NAME]="",this.searchForm=this.formBuilder.group(l),this.registerOnPhraseEffect()}ngOnInit(){this.registerOnChangesEffect()}clear(){this.searchForm.reset()}getSelectorName(){return"gui-search-bar"}selectPhrase(){let t=this.searchForm.controls[i.FORM_SEARCH_NAME].valueChanges;return ss(t.pipe(Ru(200)))}registerOnChangesEffect(){this.searchInputSubscription=this.effects.register(this.selectPhrase(),t=>{this.searchCommandDispatcher.search(t,this.structureId)})}registerOnPhraseEffect(){this.effects.register(this.searchWarehouse.onPhrase(this.structureId),t=>{t===void 0&&(t=null);let n={};n[i.FORM_SEARCH_NAME]=t,t!==this.searchForm.get([i.FORM_SEARCH_NAME]).value&&(this.unregisterObserveChangesEffect(),this.searchForm.setValue(n),this.registerOnChangesEffect())})}unregisterObserveChangesEffect(){this.searchInputSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)(f(Co),f(oe),f(F),f(rb),f(xn))};static \u0275cmp=z({type:i,selectors:[["div","gui-search-bar",""]],viewQuery:function(n,r){if(n&1&&ke(lq,5,F),n&2){let o;xe(o=Ie())&&(r.formRef=o.first)}},features:[pt([rb]),H],attrs:uq,decls:1,vars:1,consts:[[4,"guiIf"],[1,"gui-flex","gui-relative","gui-w-full",3,"formGroup"],["formRef",""],["gui-search-icon",""],["formControlName","searchPhrase",1,"gui-border-0","gui-w-full","gui-h-full","gui-py-5","gui-pr-5","gui-pl-21",3,"placeholder"],["class","gui-clear-search-icon",3,"click",4,"ngIf"],[1,"gui-clear-search-icon",3,"click"]],template:function(n,r){n&1&&Q(0,hq,7,5,"ng-container",0),n&2&&_("guiIf",r.searchingEnabled$)},dependencies:[Ft,ls,$r,as,cs,yo,_o,iT,pY,au],styles:[`.gui-search-bar form{background:#fff}.gui-search-bar form:hover .gui-search-icon-svg line,.gui-search-bar form:hover .gui-search-icon-svg circle{stroke:#333}.gui-search-bar .gui-search-icon-svg{height:17px;left:10px;position:absolute;top:6px;width:17px}.gui-search-bar .gui-search-icon-svg line,.gui-search-bar .gui-search-icon-svg circle{stroke:#ccc;transition:stroke .3s ease-in-out}
`],encapsulation:2,changeDetection:0})}return i})(),gY=(()=>{class i extends Ei{constructor(t){super(t),this.addClassToHost("gui-p-6"),this.addClassToHost("gui-border-b"),this.addClassToHost("gui-border-b-solid")}getSelectorName(){return"gui-structure-top-panel"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-top-panel",""]],features:[H],attrs:pq,decls:1,vars:0,consts:[["gui-search-bar","",1,"gui-flex","gui-items-center","gui-h-full","gui-w-3/5","gui-mr-auto"]],template:function(n,r){n&1&&R(0,"div",0)},dependencies:[fY],encapsulation:2,changeDetection:0})}return i})(),mY=(()=>{class i extends Ei{items;constructor(t){super(t),this.addClassToHost("gui-py-23"),this.addClassToHost("gui-px-6")}ngOnChanges(t){Et(t.items,()=>{this.items.length===0?(this.removeClassFromHost("gui-hidden"),this.addClassToHost("gui-block")):(this.removeClassFromHost("gui-block"),this.addClassToHost("gui-hidden"))})}getSelectorName(){return"gui-empty-source"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-empty-source","","items",""]],inputs:{items:"items"},features:[H,le],attrs:fq,decls:1,vars:1,consts:[[4,"ngIf"]],template:function(n,r){n&1&&Q(0,gq,3,3,"ng-container",0),n&2&&_("ngIf",r.items.length===0)},dependencies:[Ft,Sn],encapsulation:2,changeDetection:0})}return i})(),Ro=class{constructor(){}},vY=(()=>{class i extends Ei{constructor(t){super(t)}getSelectorName(){return"gui-structure-menu-column-manager"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-menu-column-manager",""]],features:[H],attrs:mq,decls:1,vars:0,consts:[["gui-structure-column-manager",""]],template:function(n,r){n&1&&R(0,"div",0)},dependencies:[LN],encapsulation:2,changeDetection:0})}return i})(),bY=(()=>{class i extends Wt{structureId;filterWarehouse;filterCommandInvoker;set fieldId(t){this.state.setValue({fieldId:t})}state=B(si);state$=this.state.select();constructor(t,n,r,o,a){super(t,n),this.structureId=r,this.filterWarehouse=o,this.filterCommandInvoker=a,this.state.connect("uniqueValues",this.selectUniqueValues()),this.state.connect("selectAllChecked",this.isSelectAllChecked()),this.state.connect("selectAllIndeterminate",this.isSelectAllIndeterminate())}toggleAllSelect(){event.stopPropagation();let t=this.state.getValue("fieldId");this.state.getValue("selectAllChecked")?this.filterCommandInvoker.unselectAllUniqueFilter(t,this.structureId):this.filterCommandInvoker.selectAllUniqueFilter(t,this.structureId)}toggleSelect(t){event.stopPropagation();let n=this.state.getValue("fieldId");t.isEnabled()?this.filterCommandInvoker.unselectUniqueFilter(n,t.getId(),this.structureId):this.filterCommandInvoker.selectUniqueFilter(n,t.getId(),this.structureId)}clearFilters(){let t=this.state.getValue("fieldId");this.filterCommandInvoker.selectAllUniqueFilter(t,this.structureId)}getSelectorName(){return"gui-unique-value-list"}selectUniqueValues(){return this.state.select("fieldId").pipe(_n(t=>this.filterWarehouse.onUniqueValues(this.structureId).pipe(ee(n=>n.getValues(t)))))}isSelectAllChecked(){return this.state.select("fieldId").pipe(_n(t=>this.filterWarehouse.onUniqueValues(this.structureId).pipe(ee(n=>n.isSelectAllChecked(t)))))}isSelectAllIndeterminate(){return this.state.select("fieldId").pipe(_n(t=>this.filterWarehouse.onUniqueValues(this.structureId).pipe(ee(n=>n.isIndeterminate(t)))))}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Ae),f(Gr),f(br))};static \u0275cmp=z({type:i,selectors:[["div","gui-unique-value-list","","fieldId",""]],inputs:{fieldId:"fieldId"},features:[pt([si]),H],attrs:vq,decls:1,vars:1,consts:[[4,"guiLet"],[3,"checked","indeterminate","changed"],[1,"gui-unique-value-list-container","gui-overflow-y-auto","gui-overflow-x-hidden"],[4,"ngFor","ngForOf"],[1,"gui-unique-value-list-actions","gui-px-4","gui-pb-4","gui-pt-2","gui-flex","gui-justify-end"],["gui-button","",1,"gui-clear-unique-filters","gui-px-4","gui-py-2",3,"outline","primary","click"],[3,"checked","changed"]],template:function(n,r){n&1&&Q(0,yq,8,5,"ng-container",0),n&2&&_("guiLet",r.state$)},dependencies:[di,Do,ps,Zi],styles:[`.gui-unique-value-list-container{max-height:300px}
`],encapsulation:2,changeDetection:0})}return i})(),vs=function(i){return i[i.UP=0]="UP",i[i.DOWN=1]="DOWN",i[i.LEFT=2]="LEFT",i[i.RIGHT=3]="RIGHT",i}(vs||{}),cT=(()=>{class i extends su{position=vs.UP;sort;styleModifier;constructor(t,n){super(t,n),this.sort&&this.addClassToHost("gui-structure-column-menu-sort-icon"),this.styleModifier=new ty(t.nativeElement)}ngOnChanges(t){Et(t.position,()=>{this.position&&this.styleModifier.getHost().setStyleByName("transform",this.getTransformValue())})}getSelectorName(){return"gui-structure-column-menu-arrow-icon"}getTransformValue(){return"rotate("+this.getRotationDeg()+"deg)"}getRotationDeg(){switch(this.position){case vs.UP:return 0;case vs.DOWN:return 180;case vs.LEFT:return-90;case vs.RIGHT:return 90;default:return 0}}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-arrow-icon",""]],inputs:{position:"position",sort:"sort"},features:[H,le],attrs:_q,decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10.04 11.72"],["x1","5.02","y1","2.15","x2","5.02","y2","10.97",1,"cls-1"],["x1","5.02","y1","0.75","x2","9.29","y2","5.02",1,"cls-1"],["x1","5.02","y1","0.75","x2","0.75","y2","5.02",1,"cls-1"]],template:function(n,r){n&1&&(Ui(),C(0,"svg",0),R(1,"line",1)(2,"line",2)(3,"line",3),x())},encapsulation:2,changeDetection:0})}return i})(),yY=(()=>{class i extends Wt{changeDetectorRef;compositionId;structureId;sortingCommandDispatcher;compositionReadModelService;set column(t){this.state.setValue({fieldId:t.getFieldId()})}dropdownTextTranslation;state=B(si);placement=Ca.Right;status=gi;StructureArrowPosition=vs;sortOrder$=this.state.select("sortOrder");constructor(t,n,r,o,a,l){super(t,n),this.changeDetectorRef=t,this.compositionId=r,this.structureId=o,this.sortingCommandDispatcher=a,this.compositionReadModelService=l,this.state.connect("sortOrder",this.selectSortOrder())}isAscSort(){return this.state.getValue("sortOrder")===gi.ASC}isDescSort(){return this.state.getValue("sortOrder")===gi.DESC}isNoneSort(){return this.state.getValue("sortOrder")===gi.NONE}setSortOrder(t){event.preventDefault(),event.stopPropagation();let n=this.state.getValue("fieldId");this.sortingCommandDispatcher.setSortOrder(n,t,this.compositionId,this.structureId)}getSelectorName(){return"gui-structure-column-config-sort"}selectSortOrder(){return this.state.select("fieldId").pipe(_n(t=>this.compositionReadModelService.onSortOrder(t,this.compositionId)))}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(oi),f(Ae),f(In),f(an))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-column-config-sort","","column","","dropdownTextTranslation",""]],inputs:{column:"column",dropdownTextTranslation:"dropdownTextTranslation"},features:[pt([si]),H],attrs:Cq,decls:1,vars:1,consts:[["class","gui-header-menu-dropdown",3,"dropdownText","placement","showOnHover","width",4,"guiLet"],[1,"gui-header-menu-dropdown",3,"dropdownText","placement","showOnHover","width"],[3,"click"],[1,"gui-sort-title"],["gui-structure-arrow-icon","",3,"sort"],["gui-structure-arrow-icon","",3,"position","sort"]],template:function(n,r){n&1&&Q(0,wq,14,22,"gui-dropdown",0),n&2&&_("guiLet",r.sortOrder$)},dependencies:[nN,rN,Zi,cT,Sn],encapsulation:2,changeDetection:0})}return i})(),_Y=(()=>{class i extends Ei{column;columnHidden=new J;constructor(t){super(t)}hideColumn(){this.columnHidden.emit()}getSelectorName(){return"gui-structure-column-config-column-hide"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-column-config-column-hide",""]],inputs:{column:"column"},outputs:{columnHidden:"columnHidden"},features:[H],attrs:xq,decls:3,vars:3,consts:[[1,"gui-header-menu-item",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0),Y("click",function(){return r.hideColumn()}),j(1),be(2,"guiTranslate"),x()),n&2&&(y(1),ge(" ",Se(2,1,"headerMenuMainTabHideColumn"),`
`))},dependencies:[Sn],encapsulation:2,changeDetection:0})}return i})(),CY=(()=>{class i extends Ei{column;movedLeft=new J;movedRight=new J;StructureArrowPosition=vs;constructor(t){super(t)}moveLeft(){this.movedLeft.emit()}moveRight(){this.movedRight.emit()}getSelectorName(){return"gui-structure-column-config-column-move"}static \u0275fac=function(n){return new(n||i)(f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-column-config-column-move","","column",""]],inputs:{column:"column"},outputs:{movedLeft:"movedLeft",movedRight:"movedRight"},features:[H],attrs:Iq,decls:9,vars:8,consts:[[1,"gui-header-menu-column-move"],[1,"gui-header-menu-column-move-item","left",3,"click"],["gui-structure-arrow-icon","",3,"position"],[1,"gui-header-menu-column-move-item","right",3,"click"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"div",1),Y("click",function(){return r.moveLeft()}),R(2,"div",2),j(3),be(4,"guiTranslate"),x(),C(5,"div",3),Y("click",function(){return r.moveRight()}),j(6),be(7,"guiTranslate"),R(8,"div",2),x()()),n&2&&(y(2),_("position",r.StructureArrowPosition.LEFT),y(1),ge(" ",Se(4,4,"headerMenuMainTabMoveLeft")," "),y(3),ge(" ",Se(7,6,"headerMenuMainTabMoveRight")," "),y(2),_("position",r.StructureArrowPosition.RIGHT))},dependencies:[cT,Sn],encapsulation:2,changeDetection:0})}return i})(),wY=(()=>{class i extends Wt{translationFacade;structureColumnMenuConfigArchive;compositionId;compositionCommandInvoker;injector;column;headerSortMenu;state=B(si);state$=this.state.select();structureColumnConfigService;constructor(t,n,r,o,a,l,d,p){super(t,n),this.translationFacade=r,this.structureColumnMenuConfigArchive=o,this.compositionId=a,this.compositionCommandInvoker=l,this.injector=d,this.column=p,this.structureColumnConfigService=this.injector.get(iy),this.state.connect("isEnabled",this.selectIsEnabled()),this.state.connect("config",this.structureColumnMenuConfigArchive.on()),this.state.connect("translations",this.translationFacade.onTranslation())}isEnabled(t){return t.isEnabled()}hideColumn(){this.compositionCommandInvoker.disableColumn(this.column.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()}moveLeft(){this.compositionCommandInvoker.moveLeft(this.column.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()}moveRight(){this.compositionCommandInvoker.moveRight(this.column.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()}highlightColumn(){this.compositionCommandInvoker.highlightColumn(this.column.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()}getSelectorName(){return"gui-column-config"}selectIsEnabled(){return this.structureColumnMenuConfigArchive.on().pipe(ee(t=>t.isEnabled()))}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(yr),f(wh),f(oi),f(Yn),f(Pe),f("column"))};static \u0275cmp=z({type:i,selectors:[["div","gui-column-config",""]],viewQuery:function(n,r){if(n&1&&ke(Eq,5,F),n&2){let o;xe(o=Ie())&&(r.headerSortMenu=o.first)}},features:[pt([si]),H],attrs:Dq,decls:1,vars:1,consts:[[4,"guiLet"],["class","gui-header-menu-tab",4,"ngIf"],[1,"gui-header-menu-tab"],[3,"active","menu"],[4,"ngIf"],[1,"gui-tab-item-dropdown",3,"tab"],["gui-structure-column-config-sort","",3,"column","dropdownTextTranslation",4,"ngIf"],["gui-structure-column-config-column-hide","",3,"column","columnHidden"],[1,"gui-header-menu-item",3,"click"],["gui-structure-column-config-column-move","",3,"column","movedLeft","movedRight"],["gui-structure-column-config-sort","",3,"column","dropdownTextTranslation"],[3,"tab"],["gui-unique-value-list","",3,"fieldId"],["gui-structure-menu-column-manager",""]],template:function(n,r){n&1&&Q(0,Rq,2,1,"ng-container",0),n&2&&_("guiLet",r.state$)},dependencies:[Ft,cN,lN,Zi,vY,bY,yY,_Y,CY,Sn],encapsulation:2,changeDetection:0})}return i})(),iy=(()=>{class i extends Mi{injector;schemaReadModelRootId;schemaWarehouse;structureThemeConverter;inlineDialogService;constructor(t,n,r,o,a){super(),this.injector=t,this.schemaReadModelRootId=n,this.schemaWarehouse=r,this.structureThemeConverter=o,this.inlineDialogService=a}open(t,n){this.close();let r=Pe.create({providers:[{provide:"column",useValue:n}],parent:this.injector});this.schemaWarehouse.onceTheme(this.schemaReadModelRootId).pipe(this.hermesTakeUntil()).subscribe(o=>{this.inlineDialogService.open(t,wY,{injector:r,placement:Ur.BOTTOM,offset:-34,theme:this.structureThemeConverter.convertTheme(o),customClass:"gui-inline-dialog-header-menu"})})}close(){this.inlineDialogService.close()}static \u0275fac=function(n){return new(n||i)(M(Pe),M(mi),M(En),M(vp),M(jl))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),xY=(()=>{class i extends DN{formationPublisher;structureId=B(Ae);formationWarehouse=B(sn);selection$=this.formationWarehouse.onCustomSelections(this.structureId);constructor(t,n){super(t),this.formationPublisher=n}selectCustom(t){this.formationPublisher.selectCustom(t,this.structureId)}getSelectorName(){return"gui-select-custom-modal"}static \u0275fac=function(n){return new(n||i)(f(F),f(Ai))};static \u0275cmp=z({type:i,selectors:[["div","gui-select-custom-modal",""]],features:[H],attrs:Fq,decls:1,vars:1,consts:[[4,"guiLet"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,r){n&1&&Q(0,Oq,2,1,"ul",0),n&2&&_("guiLet",r.selection$)},dependencies:[di,Zi],styles:[`.gui-select-custom-modal{background:#fff;border:1px solid #d6d6d6;border-radius:0 0 4px 4px}.gui-select-custom-modal ul{list-style:none;margin:0;padding:0}.gui-select-custom-modal ul li{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#fff;border-color:#d6d6d6;box-sizing:border-box;color:#333;cursor:pointer;display:block;font:14px Arial;padding:8px 12px}
`],encapsulation:2,changeDetection:0})}return i})(),gN=(()=>{class i extends Mi{injector;schemaReadModelRootId;schemaWarehouse;structureThemeConverter;inlineDialogService;constructor(t,n,r,o,a){super(),this.injector=t,this.schemaReadModelRootId=n,this.schemaWarehouse=r,this.structureThemeConverter=o,this.inlineDialogService=a}open(t){this.close(),this.schemaWarehouse.findTheme(this.schemaReadModelRootId).ifPresent(n=>{this.inlineDialogService.open(t,xY,{injector:this.injector,placement:Ur.BOTTOM,offset:0,theme:this.structureThemeConverter.convertTheme(n),customClass:"gui-inline-dialog-header-menu"})})}close(){this.inlineDialogService.close()}static \u0275fac=function(n){return new(n||i)(M(Pe),M(mi),M(En),M(vp),M(jl))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),HN=(()=>{class i extends tc{structureId;formationCommandDispatcher;formationWarehouse;state=B(si);state$=this.state.select();constructor(t,n,r,o){super(t),this.structureId=n,this.formationCommandDispatcher=r,this.formationWarehouse=o,this.state.setValue({modeMulti:!1}),this.state.connect("modeMulti",this.selectModeMulti()),this.state.connect("isAllChecked",this.selectAllChecked()),this.state.connect("isAllIndeterminate",this.selectAllIndeterminate())}toggleSelectAll(t,n){t?this.formationCommandDispatcher.unselectAll(this.structureId):n?this.formationCommandDispatcher.unselectAll(this.structureId):this.formationCommandDispatcher.selectAll(this.structureId)}getSelectorName(){return"gui-select-all"}selectModeMulti(){return this.formationWarehouse.onMode(this.structureId).pipe(ee(t=>t===Kn.MULTIPLE))}selectAllChecked(){return this.formationWarehouse.onRowSelectedReadModel(this.structureId).pipe(ee(t=>t.isAllSelected()))}selectAllIndeterminate(){return this.formationWarehouse.onRowSelectedReadModel(this.structureId).pipe(ee(t=>t.isIndeterminate()))}static \u0275fac=function(n){return new(n||i)(f(F),f(Ae),f(Ai),f(sn))};static \u0275cmp=z({type:i,selectors:[["div","gui-select-all",""]],features:[pt([si]),H],attrs:Nq,decls:1,vars:1,consts:[[4,"guiLet"],[3,"checked","gui-tooltip","indeterminate","changed",4,"ngIf"],[3,"checked","gui-tooltip","indeterminate","changed"]],template:function(n,r){n&1&&Q(0,jq,2,1,"ng-container",0),n&2&&_("guiLet",r.state$)},dependencies:[Ft,Zi,ps,ov],encapsulation:2,changeDetection:0})}return i})(),IY=(()=>{class i extends su{constructor(t,n){super(t,n)}getSelectorName(){return"gui-structure-column-menu-icon"}static \u0275fac=function(n){return new(n||i)(f(F),f(oe))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-menu-icon",""]],features:[H],attrs:Vq,decls:4,vars:0,consts:[["data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 10.32 7.46"],["x1","9.57","y1","3.73","x2","0.75","y2","3.73",1,"cls-1"],["x1","9.57","y1","0.75","x2","0.75","y2","0.75",1,"cls-1"],["x1","9.57","y1","6.71","x2","0.75","y2","6.71",1,"cls-1"]],template:function(n,r){n&1&&(Ui(),C(0,"svg",0),R(1,"line",1)(2,"line",2)(3,"line",3),x())},encapsulation:2,changeDetection:0})}return i})(),EY=(()=>{class i extends Wt{structureColumnConfigService;headerDialogContainer;column;structureColumnMenuConfigArchive=B(wh);isEnabled$=this.selectIsEnabled();constructor(t,n,r){super(n,t),this.structureColumnConfigService=r}openConfigDialog(){this.structureColumnConfigService.open(this.headerDialogContainer,this.column)}getSelectorName(){return"gui-structure-column-config-trigger"}selectIsEnabled(){return this.structureColumnMenuConfigArchive.on().pipe(ee(t=>t.isEnabled()))}static \u0275fac=function(n){return new(n||i)(f(F),f(oe),f(iy))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-column-config-trigger",""]],viewQuery:function(n,r){if(n&1&&ke(Bq,5,F),n&2){let o;xe(o=Ie())&&(r.headerDialogContainer=o.first)}},inputs:{column:"column"},features:[H],attrs:Hq,decls:1,vars:1,consts:[["class","gui-header-menu-icon-wrapper",3,"click",4,"guiIf"],[1,"gui-header-menu-icon-wrapper",3,"click"],["headerDialogContainer",""],["gui-structure-menu-icon","",3,"ngClass"]],template:function(n,r){n&1&&Q(0,zq,3,1,"div",0),n&2&&_("guiIf",r.isEnabled$)},dependencies:[fo,iT,IY],encapsulation:2,changeDetection:0})}return i})(),DY=(()=>{class i extends Wt{elementRef;injector;changeDetectorRef;compositionId;structureId;structureSelectCustomService;formationCommandDispatcher;sortingCommandDispatcher;selectCustomContainer;columns;showSelection=!1;showCustom=!0;constructor(t,n,r,o,a,l,d,p){super(r,t),this.elementRef=t,this.injector=n,this.changeDetectorRef=r,this.compositionId=o,this.structureId=a,this.structureSelectCustomService=l,this.formationCommandDispatcher=d,this.sortingCommandDispatcher=p}toggleSort(t){t.isSortEnabled()&&this.sortingCommandDispatcher.toggleSort(t.getFieldId(),this.compositionId,this.structureId)}openConfigDialog(){this.structureSelectCustomService.open(this.selectCustomContainer)}getSelectorName(){return"gui-structure-header-columns"}static \u0275fac=function(n){return new(n||i)(f(F),f(Pe),f(oe),f(oi),f(Ae),f(gN),f(Ai),f(In))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-header-columns","","columns",""]],viewQuery:function(n,r){if(n&1&&ke($q,5,F),n&2){let o;xe(o=Ie())&&(r.selectCustomContainer=o.first)}},inputs:{columns:"columns",showSelection:"showSelection"},features:[pt([iy,gN]),H],attrs:Uq,decls:2,vars:2,consts:[["class",`gui-header-cell gui-row-checkbox
	 gui-flex gui-justify-between
	 gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border
	 gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis`,4,"ngIf"],["class",`gui-header-cell gui-flex gui-justify-between
	 gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border
	 gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis`,3,"class","ngClass","width","style","click",4,"ngFor","ngForOf"],[1,"gui-header-cell","gui-row-checkbox","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],["gui-select-all",""],[1,"gui-header-cell","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis",3,"ngClass","click"],[1,"gui-header-title"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","gui-ml-6","gui-structure-arrow-icon","",3,"position","sort",4,"ngIf"],[1,"gui-header-menu"],["gui-structure-column-config-trigger","",3,"column"],["gui-structure-arrow-icon","",1,"gui-ml-6",3,"position","sort"]],template:function(n,r){n&1&&Q(0,Wq,2,0,"div",0)(1,Kq,6,13,"div",1),n&2&&(_("ngIf",r.showSelection),y(1),_("ngForOf",r.columns))},dependencies:[fo,di,Ft,dd,HN,EY,cT],encapsulation:2,changeDetection:0})}return i})(),SY=(()=>{class i extends Ei{elementRef;injector;changeDetectorRef;compositionId;structureId;formationCommandDispatcher;sortingCommandDispatcher;groups;showGroups;checkboxSelection=!1;globalSearching=!1;constructor(t,n,r,o,a,l,d){super(t),this.elementRef=t,this.injector=n,this.changeDetectorRef=r,this.compositionId=o,this.structureId=a,this.formationCommandDispatcher=l,this.sortingCommandDispatcher=d}toggleSort(t){t.isSortEnabled()&&this.sortingCommandDispatcher.toggleSort(t.getFieldId(),this.compositionId,this.structureId)}isSortAsc(t){return t.getSortStatus()===gi.ASC}isSortDesc(t){return t.getSortStatus()===gi.DESC}isGlobalSortEnabled(){return this.globalSearching}getSelectorName(){return"gui-structure-header-groups"}static \u0275fac=function(n){return new(n||i)(f(F),f(Pe),f(oe),f(oi),f(Ae),f(Ai),f(In))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-header-groups","","groups","","checkboxSelection",""]],inputs:{groups:"groups",showGroups:"showGroups",checkboxSelection:"checkboxSelection"},features:[pt([iy]),H],attrs:Yq,decls:2,vars:2,consts:[["class",`gui-header-cell gui-row-checkbox gui-flex gui-justify-between
	 gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border
	 gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis`,4,"ngIf"],["class",`gui-header-cell gui-flex gui-justify-between
	 gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border
	 gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis`,3,"width",4,"ngFor","ngForOf"],[1,"gui-header-cell","gui-row-checkbox","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],["gui-select-all",""],[1,"gui-header-cell","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],[1,"gui-header-title"]],template:function(n,r){n&1&&Q(0,Qq,2,0,"div",0)(1,Xq,3,3,"div",1),n&2&&(_("ngIf",r.checkboxSelection),y(1),_("ngForOf",r.groups))},dependencies:[di,Ft,HN],encapsulation:2,changeDetection:0})}return i})(),TY=(()=>{class i extends Ei{structureFilterCommandService;formBuilder;cd;effects;structureId;columns;closed=new J;filterFieldName="phrase";filterForm;filterMode=!1;constructor(t,n,r,o,a,l){super(a),this.structureFilterCommandService=t,this.formBuilder=n,this.cd=r,this.effects=o,this.structureId=l,this.filterForm=this.formBuilder.group({[this.filterFieldName]:[""]})}ngOnInit(){this.effects.register(this.selectFilterFormChanges(),t=>{this.filter(t[this.filterFieldName])})}filter(t){t==null&&(t="")}clearFilters(){this.filterForm.reset()}turnOnFilterMode(){this.filterMode=!0,this.cd.detectChanges()}turnOffFilterMode(){this.filterMode=!1,this.cd.detectChanges()}getSelectorName(){return""}selectFilterFormChanges(){return ss(this.filterForm.valueChanges)}static \u0275fac=function(n){return new(n||i)(f(br),f(Co),f(oe),f(rb),f(F),f(Ae))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-header-filters","","columns",""]],inputs:{columns:"columns"},outputs:{closed:"closed"},features:[pt([rb]),H],attrs:Jq,decls:2,vars:2,consts:[[4,"ngIf"],["class",`gui-header-cell gui-flex gui-justify-between
	 gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border
	 gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis`,3,"width",4,"ngFor","ngForOf"],[1,"gui-header-cell","gui-flex","gui-justify-between","gui-overflow-hidden","gui-relative","gui-py-0","gui-px-6","gui-box-border","gui-leading-4","gui-whitespace-nowrap","gui-overflow-ellipsis"],[3,"click"],[3,"options","selected"],[3,"formGroup"],["type","text","gui-input","",3,"formControlName"],["gui-button","",3,"click"]],template:function(n,r){n&1&&Q(0,tZ,2,1,"ng-container",0)(1,nZ,8,5,"ng-container",0),n&2&&(_("ngIf",!r.filterMode),y(1),_("ngIf",r.filterMode))},dependencies:[di,Ft,ls,$r,as,cs,yo,_o,Do,sv,nv],encapsulation:2,changeDetection:0})}return i})(),zN=(()=>{class i extends tc{filterWarehouse;formationWarehouse;compositionTemplateWarehouse;state=B(si);compositionWarehouse=B(an);structureId=B(Ae);compositionId=B(oi);verticalFormationWarehouse=B(Ro);state$=this.state.select();width$=this.compositionWarehouse.onContainerWidth(this.compositionId).pipe(ee(t=>({width:t})));filterHeaderHeight$=this.verticalFormationWarehouse.onRowHeight(this.structureId).pipe(ee(t=>({height:+t+2})));constructor(t,n,r,o){super(t),this.filterWarehouse=n,this.formationWarehouse=r,this.compositionTemplateWarehouse=o,this.state.setValue({headerColumns:[],filterRowEnabled:!1,showGroups:!1}),this.state.connect("showSelection",this.selectShowSelection()),this.state.connect("headerColumns",this.compositionTemplateWarehouse.onHeaderCols(this.compositionId)),this.state.connect("filterRowEnabled",this.filterWarehouse.onFilteringEnabled(this.structureId)),this.state.connect("showGroups",this.selectShowGroups()),this.state.connect("groups",this.selectGroups())}getSelectorName(){return"gui-structure-header"}selectGroups(){return this.compositionWarehouse.onGroups(this.compositionId).pipe(ee(t=>t.getGroups()))}selectShowGroups(){return this.compositionWarehouse.onGroups(this.compositionId).pipe(ee(t=>t.isVisible()))}selectShowSelection(){return this.formationWarehouse.onType(this.structureId).pipe(ee(t=>t===ki.CHECKBOX||t===ki.RADIO))}static \u0275fac=function(n){return new(n||i)(f(F),f(Gr),f(sn),f(mp))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-header",""]],features:[pt([si]),H],attrs:rZ,decls:3,vars:3,consts:[[4,"guiLet"],["class","gui-header","gui-structure-header-columns","",3,"columns","guiStyle","showSelection",4,"guiLet"],["class","gui-header","gui-structure-header-groups","",3,"checkboxSelection","groups",4,"ngIf"],["gui-structure-header-groups","",1,"gui-header",3,"checkboxSelection","groups"],["gui-structure-header-columns","",1,"gui-header",3,"columns","guiStyle","showSelection"],["class","gui-header","gui-structure-header-filters","",3,"columns","guiStyle",4,"ngIf"],["gui-structure-header-filters","",1,"gui-header",3,"columns","guiStyle"]],template:function(n,r){n&1&&Q(0,sZ,2,1,"ng-container",0)(1,aZ,1,3,"div",1)(2,lZ,2,1,"ng-container",0),n&2&&(_("guiLet",r.state$),y(1),_("guiLet",r.state$),y(1),_("guiLet",r.state$))},dependencies:[Ft,Zi,_K,DY,SY,TY],encapsulation:2,changeDetection:0})}return i})(),$N=(()=>{class i{platformId;constructor(t){this.platformId=t}on(t){return en(this.platformId)?ss(new De(n=>{let r=new ResizeObserver(o=>{o&&o.length>0&&n.next(o[0].contentRect)});return r.observe(t),()=>r.disconnect()}).pipe(E_(25))):mI()}destroy(t){}static \u0275fac=function(n){return new(n||i)(M(Bt))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),Cn=function(i){return i[i.NONE=0]="NONE",i[i.ADD=1]="ADD",i[i.RANGE=2]="RANGE",i}(Cn||{}),Xl=class{subject$=new nn(1);constructor(){}emit(e){this.subject$.next(e)}on(){return this.subject$.toObservable()}},Bh=class{itemId;columnFieldId;value;constructor(e,t,n){this.itemId=e,this.columnFieldId=t,this.value=n}getItemId(){return this.itemId}getColumnFieldId(){return this.columnFieldId}getValue(){return this.value}},MY=(()=>{class i extends Wt{changeDetectorRef;structureId;sourceCommandService;cellContainerRef;entity;cell;editContext;valueChanges$;status$;actualValue;constructor(t,n,r,o){super(t,n),this.changeDetectorRef=t,this.structureId=r,this.sourceCommandService=o}ngOnChanges(t){Et(t.entity,()=>{this.initEditContext()}),Et(t.cell,()=>{this.initEditContext()})}ngOnInit(){this.initEditContext()}getSelectorName(){return"gui-structure-cell-edit-boolean"}submitChanges(){let t=this.entity.getId(),n=this.actualValue,r=this.cell.columnFieldId;this.sourceCommandService.editItem(new Bh(t,r,n),this.structureId)}initEditContext(){this.valueChanges$=new Xl,this.status$=new Xl,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity).value,focus:!1,parent:this.cellContainerRef},this.observeValueChanges(),this.status$.on().pipe(this.takeUntil()).subscribe(t=>{switch(t){case Ql.SUBMIT:this.submitChanges();break;default:break}})}observeValueChanges(){this.valueChanges$.on().pipe(this.takeUntil()).subscribe(t=>{this.actualValue=t})}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Ae),f(wn))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-cell-edit-boolean","","entity","","cell",""]],viewQuery:function(n,r){if(n&1&&ke(uZ,7),n&2){let o;xe(o=Ie())&&(r.cellContainerRef=o.first)}},inputs:{entity:"entity",cell:"cell"},features:[H,le],attrs:dZ,decls:3,vars:2,consts:[["cellContainer",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&(C(0,"span",null,0),Q(2,hZ,1,0,"ng-container",1),x()),n&2&&(y(2),_("ngTemplateOutlet",r.cell.editTemplate)("ngTemplateOutletContext",r.editContext))},dependencies:[dd],encapsulation:2,changeDetection:0})}return i})(),kY=(()=>{class i extends Wt{changeDetectorRef;elementRef;structureId;compositionId;structureCellEditStore;cellEditCloseAllService;sourceCommandService;compositionWarehouse;entity;cell;editMode;cellEditorManager;searchPhrase;rowIndex;columnIndex;inEditMode=!1;editContext;valueChanges$;status$;actualValue;isHighlighted;constructor(t,n,r,o,a,l,d,p){super(t,n),this.changeDetectorRef=t,this.elementRef=n,this.structureId=r,this.compositionId=o,this.structureCellEditStore=a,this.cellEditCloseAllService=l,this.sourceCommandService=d,this.compositionWarehouse=p}ngOnInit(){this.subscribe(this.compositionWarehouse.onHighlightedColumn(new Zl(this.cell.columnDefinitionId.toString()),this.compositionId),t=>{this.isHighlighted=t})}ngAfterViewInit(){super.ngAfterViewInit(),this.subscribeWithoutRender(this.cellEditCloseAllService.onCloseAll(),()=>{this.exitEditMode()})}isCellEditingEnabled(){return this.cellEditorManager.isEnabled(this.cell.getValue(this.entity),this.entity.getSourceItem(),this.rowIndex)&&this.cell.isCellEditingEnabled()}enterEditMode(t=!0){this.isCellEditingEnabled()&&(this.cellEditCloseAllService.closeAll(),bI(0).pipe(this.takeUntil()).subscribe(()=>{this.inEditMode=!0,this.valueChanges$=new Xl,this.status$=new Xl,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity).value,focus:t,parent:this.elementRef},this.observeFieldStatus(),this.observeValueChanges(),this.publishEditEnter(),t?this.changeDetectorRef.detectChanges():this.changeDetectorRef.markForCheck()}))}exitEditMode(){this.inEditMode=!1,this.changeDetectorRef.detectChanges()}submitChangesAndExit(){let t=this.entity.getId(),n=this.actualValue,r=this.cell.columnFieldId;this.sourceCommandService.editItem(new Bh(t,r,n),this.structureId),this.exitEditMode()}getSelectorName(){return"gui-structure-cell"}observeFieldStatus(){this.status$.on().pipe(this.takeUntil()).subscribe(t=>{switch(t){case Ql.SUBMIT:this.submitChangesAndExit(),this.publishEditSubmit();break;case Ql.CANCEL:this.exitEditMode(),this.publishEditCancel();break;default:break}})}observeValueChanges(){this.valueChanges$.on().pipe(this.takeUntil()).subscribe(t=>{this.actualValue=t})}publishEditState(t){this.structureCellEditStore.next(t)}publishEditEnter(){this.publishEditState(Aa.ENTER)}publishEditCancel(){this.publishEditState(Aa.CANCEL)}publishEditSubmit(){this.publishEditState(Aa.SUBMIT)}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Ae),f(oi),f(fv),f(xN),f(wn),f(an))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-cell","","entity","","cell",""]],inputs:{entity:"entity",cell:"cell",editMode:"editMode",cellEditorManager:"cellEditorManager",searchPhrase:"searchPhrase",rowIndex:"rowIndex",columnIndex:"columnIndex"},features:[H],attrs:pZ,decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["class","gui-cell-edit-mode",4,"ngIf"],[3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"gui-cell-edit-mode"],["gui-structure-cell-edit-boolean","",3,"cell","entity"]],template:function(n,r){n&1&&Q(0,_Z,3,2,"ng-container",0)(1,CZ,2,2,"ng-container",0),n&2&&(_("ngIf",!r.cell.isBooleanDataType()||r.cell.isBooleanDataType()&&!r.isCellEditingEnabled()),y(1),_("ngIf",r.cell.isBooleanDataType()&&r.isCellEditingEnabled()))},dependencies:[fo,Ft,dd,MY],encapsulation:2,changeDetection:0})}return i})(),UN=(()=>{class i extends Wt{changeDetectorRef;elRef;structureId;formationWarehouse;formationCommandDispatcher;cssClassModifier;entity;columns;editMode;cellEditing;searchPhrase;index;rowStyle;rowClass;checkboxSelection=!1;radioSelection=!1;selectedItem=!1;row;styleModifier;classModifier;constructor(t,n,r,o,a,l){super(t,n),this.changeDetectorRef=t,this.elRef=n,this.structureId=r,this.formationWarehouse=o,this.formationCommandDispatcher=a,this.cssClassModifier=l,this.styleModifier=new ty(this.elRef.nativeElement),this.classModifier=new gp(this.elRef.nativeElement)}ngOnChanges(t){Et(t.entity,()=>{this.checkSelectedItem(),this.updateRowClass(t.entity.previousValue),this.updateRowStyle(t.entity.previousValue)}),Et(t.rowClass,()=>{this.updateRowClass()}),Et(t.rowStyle,()=>{this.updateRowStyle()})}ngOnInit(){this.subscribeWithoutRender(this.formationWarehouse.onRowSelectedReadModel(this.structureId),t=>{this.row=t;let n=this.selectedItem;this.checkSelectedItem(),n!==this.selectedItem&&(n?this.cssClassModifier.unselect(this.elRef.nativeElement):this.cssClassModifier.select(this.elRef.nativeElement),this.changeDetectorRef.detectChanges())})}ngAfterViewInit(){super.ngAfterViewInit(),this.updateRowClass(),this.updateRowStyle()}trackByFn(){return 0}selectCheckbox(){event.stopPropagation(),this.formationCommandDispatcher.toggleSelectedRow(this.entity.getId(),Cn.ADD,this.structureId)}selectRadio(){event.stopPropagation(),this.formationCommandDispatcher.toggleSelectedRow(this.entity.getId(),Cn.NONE,this.structureId)}checkSelectedItem(){if(this.row){let t=this.selectedItem;this.selectedItem=this.row.isSelected(this.entity.getId()),t!==this.selectedItem&&(t?this.cssClassModifier.unselect(this.elRef.nativeElement):this.cssClassModifier.select(this.elRef.nativeElement))}}getSelectorName(){return"gui-structure-row"}calculateRowStyle(t){return this.rowStyle?typeof this.rowStyle.style=="string"?this.rowStyle.style||"":typeof this.rowStyle.styleFunction=="function"?this.rowStyle.styleFunction(t.getSourceItem(),t.getPosition()):"":""}updateRowStyle(t){if(t){let r=this.calculateRowStyle(t);this.removeRowStyles(r)}let n=this.calculateRowStyle(this.entity);this.renderRowStyles(n)}removeRowStyles(t){if(!t)return;let n=t.split(";");for(let r=0;r<n.length;r+=1){let o=n[r].split(":");o[0]&&o[1]&&this.styleModifier.getHost().removeStyleByName(o[0].trim())}}renderRowStyles(t){if(!t)return;let n=t.split(";");for(let r=0;r<n.length;r+=1){let o=n[r].split(":");o[0]&&o[1]&&this.styleModifier.getHost().setStyleByName(o[0].trim(),o[1].trim())}}updateRowClass(t){if(t){let r=this.calculateRowClass(t);r&&this.classModifier.getHost().remove(r)}let n=this.calculateRowClass(this.entity);n&&this.classModifier.getHost().add(n)}calculateRowClass(t){if(!this.rowClass)return"";let n;return typeof this.rowClass.class=="string"&&(n=this.rowClass.class||""),typeof this.rowClass.classFunction=="function"&&t&&(n=this.rowClass.classFunction(t.getSourceItem(),t.getPosition())||""),n}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Ae),f(sn),f(Ai),f(Na))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-row",""]],inputs:{entity:"entity",columns:"columns",editMode:"editMode",cellEditing:"cellEditing",searchPhrase:"searchPhrase",index:"index",rowStyle:"rowStyle",rowClass:"rowClass",checkboxSelection:"checkboxSelection",radioSelection:"radioSelection"},features:[H,le],attrs:wZ,decls:3,vars:4,consts:[["class","gui-cell gui-row-checkbox",4,"ngIf"],["class","gui-cell gui-row-radio",4,"ngIf"],["class","gui-cell","gui-structure-cell","",3,"cellEditorManager","cell","columnIndex","editMode","entity","rowIndex","searchPhrase","width",4,"ngFor","ngForOf","ngForTrackBy"],[1,"gui-cell","gui-row-checkbox"],[3,"checked","changed"],[1,"gui-cell","gui-row-radio"],["gui-structure-cell","",1,"gui-cell",3,"cellEditorManager","cell","columnIndex","editMode","entity","rowIndex","searchPhrase"]],template:function(n,r){n&1&&Q(0,xZ,2,1,"div",0)(1,IZ,2,1,"div",1)(2,EZ,1,9,"div",2),n&2&&(_("ngIf",r.checkboxSelection),y(1),_("ngIf",r.radioSelection),y(1),_("ngForOf",r.columns)("ngForTrackBy",r.trackByFn))},dependencies:[di,Ft,ps,oN,kY],encapsulation:2,changeDetection:0})}return i})(),WN=(()=>{class i extends Wt{formationPublisher;structureEditModeArchive;formationWarehouse;structureWarehouse;verticalFormationWarehouse;structureId;schemaReadModelRootId;searchWarehouse;schemaWarehouse;source;columns;state=B(si);state$=this.state.select();constructor(t,n,r,o,a,l,d,p,m,b,w){super(n,t),this.formationPublisher=r,this.structureEditModeArchive=o,this.formationWarehouse=a,this.structureWarehouse=l,this.verticalFormationWarehouse=d,this.structureId=p,this.schemaReadModelRootId=m,this.searchWarehouse=b,this.schemaWarehouse=w,this.state.setValue({checkboxSelection:!1,radioSelection:!1,searchPhrase:""}),this.state.connect("editMode",this.structureEditModeArchive.on()),this.state.connect("selectionEnabled",this.formationWarehouse.onSelectionEnabled(this.structureId)),this.state.connect("rowHeight",this.verticalFormationWarehouse.onRowHeight(this.structureId)),this.state.connect("cellEditing",this.structureWarehouse.onEditManager(this.structureId)),this.state.connect("schemaRowClass",this.schemaWarehouse.onRowClass(this.schemaReadModelRootId)),this.state.connect("schemaRowStyle",this.schemaWarehouse.onRowStyle(this.schemaReadModelRootId)),this.state.connect("checkboxSelection",this.selectCheckboxSelection()),this.state.connect("radioSelection",this.selectRadioSelection()),this.state.connect("searchPhrase",this.selectSearchPhrase())}trackByFn(){return 0}translateY(t,n){return`translateY(${t*n}px)`}toggleSelectedRow(t,n,r,o){n&&!r&&!o&&this.formationPublisher.toggleSelectedRow(t.getId(),Cn.NONE,this.structureId)}getSelectorName(){return"gui-structure-content"}selectCheckboxSelection(){return this.formationWarehouse.onType(this.structureId).pipe(ee(t=>t===ki.CHECKBOX))}selectRadioSelection(){return this.formationWarehouse.onType(this.structureId).pipe(ee(t=>t===ki.RADIO))}selectSearchPhrase(){return ss(Mr(bo(this.searchWarehouse.onPhrase(this.structureId)),bo(this.searchWarehouse.onHighlight(this.structureId)))).pipe(ee(([t,n])=>n?t:""))}static \u0275fac=function(n){return new(n||i)(f(F),f(oe),f(Ai),f(gv),f(sn),f(ic),f(Ro),f(Ae),f(mi),f(Yr),f(En))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-content",""]],inputs:{source:"source",columns:"columns"},features:[pt([si]),H],attrs:DZ,decls:1,vars:1,consts:[["class","gui-content",4,"guiLet"],[1,"gui-content"],["class","gui-row","gui-structure-row","",3,"cellEditing","checkboxSelection","columns","editMode","entity","id","index","ngClass","ngStyle","radioSelection","rowClass","rowStyle","searchPhrase","height","click",4,"ngFor","ngForOf","ngForTrackBy"],["gui-structure-row","",1,"gui-row",3,"cellEditing","checkboxSelection","columns","editMode","entity","id","index","ngClass","ngStyle","radioSelection","rowClass","rowStyle","searchPhrase","click"]],template:function(n,r){n&1&&Q(0,kZ,2,2,"div",0),n&2&&_("guiLet",r.state$)},dependencies:[fo,di,ZP,Zi,UN],encapsulation:2,changeDetection:0})}return i})(),GN=(()=>{class i extends Wt{elRef;ngZone;structureId;compositionId;structureCommandService;structureWarehouse;verticalFormationWarehouse;sourceWarehouse;compositionCommandInvoker;compositionWarehouse;compositionTemplateWarehouse;formationWarehouse;resizeDetector;structureInitialValuesReadyArchive;structureParent;sourceCollectionRef;columns=[];source=[];height;rowColoring;autoResizeWidthEnabled=!1;scrollObservation$=new Yt;styleModifier;constructor(t,n,r,o,a,l,d,p,m,b,w,E,T,V,A,$){super(t,n),this.elRef=n,this.ngZone=r,this.structureId=o,this.compositionId=a,this.structureCommandService=l,this.structureWarehouse=d,this.verticalFormationWarehouse=p,this.sourceWarehouse=m,this.compositionCommandInvoker=b,this.compositionWarehouse=w,this.compositionTemplateWarehouse=E,this.formationWarehouse=T,this.resizeDetector=V,this.structureInitialValuesReadyArchive=A,this.structureParent=$,this.styleModifier=new ty(this.elRef.nativeElement)}ngOnInit(){this.subscribeWithoutRender(this.verticalFormationWarehouse.onContainerHeight(this.structureId),t=>{this.setContainerHeight(t)}),this.subscribe(ss(bo(this.structureInitialValuesReadyArchive.once(this.structureId)).pipe(C_(()=>Mr(bo(this.sourceWarehouse.onItems(this.structureId)),bo(this.compositionTemplateWarehouse.onTemplateCols(this.compositionId)))))),t=>{this.source=t[0],this.columns=t[1]}),this.subscribeWithoutRender(this.compositionWarehouse.onResizeWidth(this.compositionId),t=>{this.autoResizeWidthEnabled=t})}ngAfterViewInit(){super.ngAfterViewInit(),this.structureParent&&this.subscribeWithoutRender(this.resizeDetector.on(this.structureParent.getElementRef().nativeElement).pipe(nt(()=>this.autoResizeWidthEnabled),ee(t=>t.width),Un()),t=>{this.recalculateContainer(t)}),this.subscribeWithoutRender(this.compositionWarehouse.onContainerWidth(this.compositionId),t=>{this.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setWidth(t)}),this.subscribeWithoutRender(this.verticalFormationWarehouse.onEnabled(this.structureId),t=>{t?this.enableScrollObservation():this.disableScrollObservation()}),this.subscribeWithoutRender(this.structureWarehouse.on(this.structureId).pipe(nt(t=>t.isVerticalScrollEnabled())),t=>{let n=t.getTopMargin(),r=t.getSourceHeight();this.setSourceHeight(n,r)}),this.subscribeWithoutRender(this.verticalFormationWarehouse.onScrollBarPosition(this.structureId),t=>{this.elRef.nativeElement.scrollTop=t})}ngOnDestroy(){super.ngOnDestroy(),this.resizeDetector.destroy(this.elRef.nativeElement)}getSelectorName(){return"gui-structure-container"}setContainerHeight(t){this.height=t,this.styleModifier.getHost().setHeight(t)}setSourceHeight(t,n){this.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setPaddingTop(t),this.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setHeight(n)}recalculateContainer(t){this.autoResizeWidthEnabled&&this.compositionCommandInvoker.setContainerWidth(t,this.compositionId)}enableScrollObservation(){this.ngZone.runOutsideAngular(()=>{Qd(this.elRef.nativeElement,"scroll").pipe(rn(this.scrollObservation$)).subscribe(t=>{let n=t.target.scrollTop;this.structureCommandService.setScrollPosition(n,this.structureId)})})}disableScrollObservation(){this.scrollObservation$.next(),this.scrollObservation$.complete()}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(Ge),f(Ae),f(oi),f(ln),f(ic),f(Ro),f(Dn),f(Yn),f(an),f(mp),f(sn),f($N),f(ou),f(CN,8))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-container",""]],viewQuery:function(n,r){if(n&1&&ke(AZ,5,F),n&2){let o;xe(o=Ie())&&(r.sourceCollectionRef=o.first)}},features:[H],attrs:RZ,decls:3,vars:2,consts:[[1,"gui-h-full","gui-w-full","gui-absolute","gui-structure-container-element"],["sourceCollection",""],["gui-structure-content","",3,"columns","source"]],template:function(n,r){n&1&&(C(0,"div",0,1),R(2,"div",2),x()),n&2&&(y(2),_("columns",r.columns)("source",r.source))},dependencies:[WN],encapsulation:2,changeDetection:0})}return i})(),qN=(()=>{class i extends Wt{bannerPanel$;constructor(t,n){super(t,n)}initObservables(){this.bannerPanel$=this.selectBannerPanelTemplate()}selectBannerPanelTemplate(){return this.onBannerPanelConfig().pipe(ee(t=>typeof t.template=="function"?t.template():t.template))}static \u0275fac=function(n){return new(n||i)(f(oe),f(F))};static \u0275dir=ne({type:i,features:[H]})}return i})(),AY=(()=>{class i extends qN{structureTitlePanelConfigArchive;constructor(t,n,r){super(n,r),this.structureTitlePanelConfigArchive=t,this.initObservables()}onBannerPanelConfig(){return this.structureTitlePanelConfigArchive.on()}getSelectorName(){return"gui-structure-title-panel"}static \u0275fac=function(n){return new(n||i)(f(Dh),f(oe),f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-title-panel",""]],features:[H],attrs:FZ,decls:3,vars:6,consts:[[1,"gui-title-panel","gui-p-6","gui-border-b","gui-border-b-solid",3,"innerHTML"]],template:function(n,r){n&1&&(R(0,"div",0),be(1,"guiSafe"),be(2,"guiPush")),n&2&&_("innerHTML",ra(1,1,Se(2,4,r.bannerPanel$),"html"),ta)},dependencies:[au,rT],encapsulation:2,changeDetection:0})}return i})(),RY=(()=>{class i extends qN{structureFooterPanelConfigArchive;constructor(t,n,r){super(n,r),this.structureFooterPanelConfigArchive=t,this.initObservables()}onBannerPanelConfig(){return this.structureFooterPanelConfigArchive.on()}getSelectorName(){return"gui-structure-footer-panel"}static \u0275fac=function(n){return new(n||i)(f(Sh),f(oe),f(F))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-footer-panel",""]],features:[H],attrs:PZ,decls:3,vars:6,consts:[[1,"gui-footer-panel","gui-p-6","gui-border-t","gui-border-t-solid",3,"innerHTML"]],template:function(n,r){n&1&&(R(0,"div",0),be(1,"guiSafe"),be(2,"guiPush")),n&2&&_("innerHTML",ra(1,1,Se(2,4,r.bannerPanel$),"html"),ta)},dependencies:[au,rT],encapsulation:2,changeDetection:0})}return i})(),FY=(()=>{class i extends Wt{structureDefinition;className;structureId=B(Ae);summariesWarehouse=B(Va);structureHeaderTopEnabledArchive=B(tT);structureHeaderBottomEnabledArchive=B(Ch);searchWarehouse=B(Yr);pagingWarehouse=B(ko);structureWarehouse=B(ic);structureInfoPanelArchive=B(Cs);structureTitlePanelConfigArchive=B(Dh);structureFooterPanelConfigArchive=B(Sh);bottomSummariesPanelEnabled$=this.summariesWarehouse.onBottomEnabled(this.structureId);contentCssClass;headerCssClass;headerTopClasses;headerBottomClasses;topHeaderEnabled$=this.structureHeaderTopEnabledArchive.on();bottomHeaderEnabled$=this.structureHeaderBottomEnabledArchive.on();footerPanelEnabled$=this.selectFooterPanelEnabled();items$=this.selectItems();topSummariesPanelEnabled$=this.summariesWarehouse.onTopEnabled(this.structureId);searchEnabled$=this.searchWarehouse.onSearchEnabled(this.structureId);titlePanelEnabled$=this.selectTitlePanelEnabled();infoPanelEnabled$=this.selectInfoPanelEnabled();pagingModel$=this.pagingWarehouse.onPaging(this.structureId);constructor(t,n,r,o){super(t,n),this.structureDefinition=r,this.className=o,this.headerCssClass=`gui-${this.className}-header`,this.contentCssClass=`gui-${this.className}-content`,this.headerTopClasses=this.headerCssClass+" gui-header-top",this.headerBottomClasses=this.headerCssClass+" gui-header-bottom"}isColumnHeaderTopEnabled(t){return this.structureDefinition.isHeaderEnabled()&&t}isColumnHeaderBottomEnabled(t){return this.structureDefinition.isHeaderEnabled()&&t}isPagingTopEnabled(t){return this.structureDefinition.getTopPaging().isEnabled()&&t.isPagerTop()}isPagingBottomEnabled(t){return this.structureDefinition.getBottomPaging().isEnabled()&&t.isPagerBottom()}getSelectorName(){return"gui-structure-blueprint"}selectTitlePanelEnabled(){return this.structureTitlePanelConfigArchive.on().pipe(ee(t=>t.enabled))}selectInfoPanelEnabled(){return this.structureInfoPanelArchive.on().pipe(ee(t=>t.isEnabled()))}selectFooterPanelEnabled(){return this.structureFooterPanelConfigArchive.on().pipe(ee(t=>t.enabled))}selectItems(){return this.structureWarehouse.on(this.structureId).pipe(ee(t=>t.getEntities()))}static \u0275fac=function(n){return new(n||i)(f(oe),f(F),f(ec),f(RE))};static \u0275cmp=z({type:i,selectors:[["div","gui-structure-blueprint",""]],features:[H],attrs:OZ,decls:15,vars:18,consts:[["gui-structure-title-panel","",4,"guiIf"],["gui-structure-top-panel","",4,"guiIf"],[4,"guiLet"],["gui-structure-summaries-panel","",1,"gui-structure-summaries-panel-top",3,"enabled"],["gui-structure-container","",3,"ngClass"],["gui-empty-source","",3,"items"],["gui-structure-summaries-panel","",1,"gui-structure-summaries-panel-bottom",3,"enabled"],["gui-structure-info-panel","",4,"guiIf"],["gui-structure-title-panel",""],["gui-structure-top-panel",""],["gui-paging","",3,"position",4,"ngIf"],["gui-paging","",3,"position"],["gui-structure-header","",3,"ngClass",4,"ngIf"],["gui-structure-header","",3,"ngClass"],["gui-structure-footer-panel","",4,"ngIf"],["gui-structure-footer-panel",""],["gui-structure-info-panel",""]],template:function(n,r){n&1&&(Q(0,NZ,1,0,"div",0)(1,LZ,1,0,"div",1)(2,VZ,2,1,"ng-container",2),R(3,"div",3),be(4,"guiPush"),Q(5,HZ,2,1,"ng-container",2),R(6,"div",4)(7,"div",5),be(8,"guiPush"),Q(9,$Z,2,1,"ng-container",2),R(10,"div",6),be(11,"guiPush"),Q(12,WZ,2,1,"ng-container",2)(13,qZ,2,1,"ng-container",2)(14,ZZ,1,0,"div",7)),n&2&&(_("guiIf",r.titlePanelEnabled$),y(1),_("guiIf",r.searchEnabled$),y(1),_("guiLet",r.pagingModel$),y(1),_("enabled",Se(4,12,r.topSummariesPanelEnabled$)),y(2),_("guiLet",r.topHeaderEnabled$),y(1),_("ngClass",r.contentCssClass),y(1),_("items",Se(8,14,r.items$)),y(2),_("guiLet",r.bottomHeaderEnabled$),y(1),_("enabled",Se(11,16,r.bottomSummariesPanelEnabled$)),y(2),_("guiLet",r.footerPanelEnabled$),y(1),_("guiLet",r.pagingModel$),y(1),_("guiIf",r.infoPanelEnabled$))},dependencies:[fo,Ft,Zi,iT,fK,JK,hY,gY,mY,zN,GN,AY,RY,au],encapsulation:2,changeDetection:0})}return i})();function PY(i){return new Ae("gui-grid-"+i.generateId())}function OY(i){return new oi("gui-grid-"+i.generateId())}function NY(i){return new mi("gui-grid-"+i.generateId())}var ZN=(()=>{class i extends aK{elementRef;detectorRef;injector;structureDefinition;structureWarehouse;compositionWarehouse;schemaStylesManager;schemaReadModelRootId;structureDetailViewService;loaderEnabled=!1;circleLoaderEnabled=!0;initialLoaderAnimation=!1;styleModifier;constructor(t,n,r,o,a,l,d,p,m,b,w,E,T,V,A,$,ce,Te,we,Ot,mt,ct,Xt,vt,wt,ks,bi,An,yi,wr,U,me,K,de,tt,Dt,Je,Ke,he,ji,Rn){super(de,K,me,t,n,ji,V,r,o,d,p,a,l,b,w,E,T,A,$,Te,we,Ot,Xt,vt,wt,yi,wr,U),this.elementRef=K,this.detectorRef=de,this.injector=tt,this.structureDefinition=Dt,this.structureWarehouse=Je,this.compositionWarehouse=Ke,this.schemaStylesManager=he,this.schemaReadModelRootId=ji,this.structureDetailViewService=Rn,this.styleModifier=new ty(this.elementRef.nativeElement),V.create(this.structureId),w.create(this.compositionId),b.create(this.schemaId)}ngOnInit(){super.ngOnInit(),this.subscribe(this.structureWarehouse.on(this.structureId),t=>{this.loaderEnabled=t.getSource().isLoading(),this.circleLoaderEnabled=t.isLoaderVisible(),this.loaderEnabled&&!this.initialLoaderAnimation&&(this.initialLoaderAnimation=!0),this.detectorRef.detectChanges()}),this.structureDetailViewService.init(this.elementRef)}ngAfterViewInit(){this.structureInitialValuesReadyArchive.next(this.structureId,!0);let t=this.elementRef.nativeElement.offsetWidth;t>0?this.compositionCommandDispatcher.setContainerWidth(t,this.compositionId):bI(0).pipe(this.takeUntil()).subscribe(()=>{t=this.elementRef.nativeElement.offsetWidth,t>0&&this.compositionCommandDispatcher.setContainerWidth(t,this.compositionId)}),this.schemaStylesManager.init(this.elementRef,this.schemaReadModelRootId),this.subscribeWithoutRender(this.compositionWarehouse.onWidth(this.compositionId),n=>{this.styleModifier.getHost().setWidth(n)})}isBorderEnabled(){return this.structureDefinition.isBorderEnabled()}getStructureId(){return this.structureId}getElementRef(){return this.elementRef}getSelectorName(){return"gui-structure"}static \u0275fac=function(n){return new(n||i)(f(Ae),f(oi),f(un),f(qr),f(wn),f(Pa),f(In),f(xn),f(ja),f(cn),f(Yn),f(xs),f(Ss),f(ln),f(gv),f(Mo),f(Cs),f(bv),f(fv),f(Oa),f(wh),f(J0),f(Ai),f(Zr),f(Ch),f(_v),f(Dh),f(Sh),f(Kr),f(yr),f(ou),f(ws),f(F),f(oe),f(Pe),f(ec),f(ic),f(an),f(dN),f(mi),f(hN))};static \u0275cmp=z({type:i,selectors:[["gui-structure"]],hostVars:3,hostBindings:function(n,r){n&2&&(kg("id",r.structureId.toString()),Me("gui-structure-border",r.isBorderEnabled()))},features:[pt([{provide:Ae,useFactory:PY,deps:[Ma]},{provide:oi,useFactory:OY,deps:[Ma]},{provide:mi,useFactory:NY,deps:[Ma]},dN,xN,fv,gv,Cs,bv,wh,ey.forComponent(),Fo.forComponent(),tT,Ch,_v,hN,Dh,Sh,{provide:sK,useExisting:i},{provide:IK,useExisting:i}]),H],decls:3,vars:5,consts:[["gui-structure-blueprint",""],[1,"gui-loading",3,"ngClass"],[3,"diameter","primary",4,"ngIf"],[3,"diameter","primary"]],template:function(n,r){n&1&&(R(0,"div",0),C(1,"div",1),Q(2,KZ,1,2,"gui-spinner",2),x()),n&2&&(y(1),_("ngClass",Iw(2,YZ,r.loaderEnabled,!r.loaderEnabled&&r.initialLoaderAnimation)),y(1),_("ngIf",r.circleLoaderEnabled))},dependencies:[fo,Ft,uN,FY],styles:[`.gui-box-border{box-sizing:border-box}.gui-bg-transparent{background-color:transparent}.gui-border{border-width:1px}.gui-border-0{border-width:0}.gui-border-b{border-bottom-width:1px}.gui-border-t{border-top-width:1px}.gui-border-solid{border-style:solid}.gui-border-b-solid{border-bottom-style:solid}.gui-border-t-solid{border-top-style:solid}.gui-border-none{border-style:none}.gui-rounded{border-radius:4px}.gui-cursor-pointer{cursor:pointer}.gui-block{display:block}.gui-inline-block{display:inline-block}.gui-inline{display:inline}.gui-flex{display:-ms-flexbox;display:flex}.gui-hidden{display:none}.gui-display-grid{display:grid}.gui-flex-row{-ms-flex-direction:row;flex-direction:row}.gui-flex-row-reverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.gui-flex-col{-ms-flex-direction:column;flex-direction:column}.gui-flex-col-reverse{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.gui-justify-start{-ms-flex-pack:start;justify-content:flex-start}.gui-justify-end{-ms-flex-pack:end;justify-content:flex-end}.gui-justify-center{-ms-flex-pack:center;justify-content:center}.gui-justify-between{-ms-flex-pack:justify;justify-content:space-between}.gui-justify-around{-ms-flex-pack:distribute;justify-content:space-around}.gui-justify-evenly{-ms-flex-pack:space-evenly;justify-content:space-evenly}.gui-items-start{-ms-flex-align:start;align-items:flex-start}.gui-items-end{-ms-flex-align:end;align-items:flex-end}.gui-items-center{-ms-flex-align:center;align-items:center}.gui-items-between{-ms-flex-align:space-between;align-items:space-between}.gui-items-around{-ms-flex-align:space-around;align-items:space-around}.gui-items-evenly{-ms-flex-align:space-evenly;align-items:space-evenly}.gui-flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.gui-flex-wrap-reverse{-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse}.gui-flex-nowrap{-ms-flex-wrap:nowrap;flex-wrap:nowrap}.gui-grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.gui-grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.gui-grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.gui-grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.gui-grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.gui-grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}.gui-grid-cols-7{grid-template-columns:repeat(7,minmax(0,1fr))}.gui-grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}.gui-grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}.gui-grid-rows-1{grid-template-rows:repeat(1,minmax(0,1fr))}.gui-grid-rows-2{grid-template-rows:repeat(2,minmax(0,1fr))}.gui-grid-rows-3{grid-template-rows:repeat(3,minmax(0,1fr))}.gui-grid-rows-4{grid-template-rows:repeat(4,minmax(0,1fr))}.gui-grid-rows-5{grid-template-rows:repeat(5,minmax(0,1fr))}.gui-grid-rows-6{grid-template-rows:repeat(6,minmax(0,1fr))}.gui-grid-rows-7{grid-template-rows:repeat(7,minmax(0,1fr))}.gui-grid-rows-8{grid-template-rows:repeat(8,minmax(0,1fr))}.gui-grid-rows-9{grid-template-rows:repeat(9,minmax(0,1fr))}.gui-grid-rows-gap-0{grid-row-gap:0}.gui-grid-rows-gap-1{grid-row-gap:1px}.gui-grid-rows-gap-2{grid-row-gap:2px}.gui-grid-rows-gap-3{grid-row-gap:3px}.gui-grid-rows-gap-4{grid-row-gap:4px}.gui-grid-rows-gap-5{grid-row-gap:6px}.gui-grid-rows-gap-6{grid-row-gap:8px}.gui-grid-rows-gap-7{grid-row-gap:10px}.gui-grid-rows-gap-8{grid-row-gap:12px}.gui-grid-rows-gap-10{grid-row-gap:16px}.gui-grid-rows-gap-13{grid-row-gap:22px}.gui-grid-rows-gap-23{grid-row-gap:42px}.gui-grid-cols-gap-0{grid-column-gap:0}.gui-grid-cols-gap-1{grid-column-gap:1px}.gui-grid-cols-gap-2{grid-column-gap:2px}.gui-grid-cols-gap-3{grid-column-gap:3px}.gui-grid-cols-gap-4{grid-column-gap:4px}.gui-grid-cols-gap-5{grid-column-gap:6px}.gui-grid-cols-gap-6{grid-column-gap:8px}.gui-grid-cols-gap-7{grid-column-gap:10px}.gui-grid-cols-gap-8{grid-column-gap:12px}.gui-grid-cols-gap-10{grid-column-gap:16px}.gui-grid-cols-gap-13{grid-column-gap:22px}.gui-grid-cols-gap-23{grid-column-gap:42px}.gui-h-full{height:100%}.gui-list-none{list-style-type:none}.gui-m-0{margin:0}.gui-mx-0{margin-left:0;margin-right:0}.gui-my-0{margin-bottom:0;margin-top:0}.-gui-m-0{margin:0}.-gui-mx-0{margin-left:0;margin-right:0}.-gui-my-0{margin-bottom:0;margin-top:0}.gui-m-1{margin:1px}.gui-mx-1{margin-left:1px;margin-right:1px}.gui-my-1{margin-bottom:1px;margin-top:1px}.-gui-m-1{margin:-1px}.-gui-mx-1{margin-left:-1px;margin-right:-1px}.-gui-my-1{margin-bottom:-1px;margin-top:-1px}.gui-m-2{margin:2px}.gui-mx-2{margin-left:2px;margin-right:2px}.gui-my-2{margin-bottom:2px;margin-top:2px}.-gui-m-2{margin:-2px}.-gui-mx-2{margin-left:-2px;margin-right:-2px}.-gui-my-2{margin-bottom:-2px;margin-top:-2px}.gui-m-3{margin:3px}.gui-mx-3{margin-left:3px;margin-right:3px}.gui-my-3{margin-bottom:3px;margin-top:3px}.-gui-m-3{margin:-3px}.-gui-mx-3{margin-left:-3px;margin-right:-3px}.-gui-my-3{margin-bottom:-3px;margin-top:-3px}.gui-m-4{margin:4px}.gui-mx-4{margin-left:4px;margin-right:4px}.gui-my-4{margin-bottom:4px;margin-top:4px}.-gui-m-4{margin:-4px}.-gui-mx-4{margin-left:-4px;margin-right:-4px}.-gui-my-4{margin-bottom:-4px;margin-top:-4px}.gui-m-5{margin:6px}.gui-mx-5{margin-left:6px;margin-right:6px}.gui-my-5{margin-bottom:6px;margin-top:6px}.-gui-m-5{margin:-6px}.-gui-mx-5{margin-left:-6px;margin-right:-6px}.-gui-my-5{margin-bottom:-6px;margin-top:-6px}.gui-m-6{margin:8px}.gui-mx-6{margin-left:8px;margin-right:8px}.gui-my-6{margin-bottom:8px;margin-top:8px}.-gui-m-6{margin:-8px}.-gui-mx-6{margin-left:-8px;margin-right:-8px}.-gui-my-6{margin-bottom:-8px;margin-top:-8px}.gui-m-7{margin:10px}.gui-mx-7{margin-left:10px;margin-right:10px}.gui-my-7{margin-bottom:10px;margin-top:10px}.-gui-m-7{margin:-10px}.-gui-mx-7{margin-left:-10px;margin-right:-10px}.-gui-my-7{margin-bottom:-10px;margin-top:-10px}.gui-m-8{margin:12px}.gui-mx-8{margin-left:12px;margin-right:12px}.gui-my-8{margin-bottom:12px;margin-top:12px}.-gui-m-8{margin:-12px}.-gui-mx-8{margin-left:-12px;margin-right:-12px}.-gui-my-8{margin-bottom:-12px;margin-top:-12px}.gui-m-10{margin:16px}.gui-mx-10{margin-left:16px;margin-right:16px}.gui-my-10{margin-bottom:16px;margin-top:16px}.-gui-m-10{margin:-16px}.-gui-mx-10{margin-left:-16px;margin-right:-16px}.-gui-my-10{margin-bottom:-16px;margin-top:-16px}.gui-m-13{margin:22px}.gui-mx-13{margin-left:22px;margin-right:22px}.gui-my-13{margin-bottom:22px;margin-top:22px}.-gui-m-13{margin:-22px}.-gui-mx-13{margin-left:-22px;margin-right:-22px}.-gui-my-13{margin-bottom:-22px;margin-top:-22px}.gui-m-23{margin:42px}.gui-mx-23{margin-left:42px;margin-right:42px}.gui-my-23{margin-bottom:42px;margin-top:42px}.-gui-m-23{margin:-42px}.-gui-mx-23{margin-left:-42px;margin-right:-42px}.-gui-my-23{margin-bottom:-42px;margin-top:-42px}.gui-mb-4{margin-bottom:4px}.gui-mb-6{margin-bottom:8px}.gui-mb-8{margin-bottom:12px}.gui-mb-10{margin-bottom:16px}.gui-mb-18{margin-bottom:32px}.gui-mr-0{margin-right:0}.gui-mr-5{margin-right:6px}.gui-mr-auto{margin-right:auto}.gui-ml-auto{margin-left:auto}.gui-ml-6{margin-left:8px}.gui-mt-0{margin-top:0}.gui-mt-4{margin-top:4px}.gui-mt-6{margin-top:8px}.gui-mt-10{margin-top:16px}.gui-mt-14{margin-top:24px}.gui-overflow-hidden{overflow:hidden}.gui-overflow-y-scroll{overflow-y:scroll}.gui-overflow-x-hidden{overflow-x:hidden}.gui-overflow-auto{overflow:auto}.gui-p-0{padding:0}.gui-px-0{padding-left:0;padding-right:0}.gui-py-0{padding-bottom:0;padding-top:0}.gui-p-1{padding:1px}.gui-px-1{padding-left:1px;padding-right:1px}.gui-py-1{padding-bottom:1px;padding-top:1px}.gui-p-2{padding:2px}.gui-px-2{padding-left:2px;padding-right:2px}.gui-py-2{padding-bottom:2px;padding-top:2px}.gui-p-3{padding:3px}.gui-px-3{padding-left:3px;padding-right:3px}.gui-py-3{padding-bottom:3px;padding-top:3px}.gui-p-4{padding:4px}.gui-px-4{padding-left:4px;padding-right:4px}.gui-py-4{padding-bottom:4px;padding-top:4px}.gui-p-5{padding:6px}.gui-px-5{padding-left:6px;padding-right:6px}.gui-py-5{padding-bottom:6px;padding-top:6px}.gui-p-6{padding:8px}.gui-px-6{padding-left:8px;padding-right:8px}.gui-py-6{padding-bottom:8px;padding-top:8px}.gui-p-7{padding:10px}.gui-px-7{padding-left:10px;padding-right:10px}.gui-py-7{padding-bottom:10px;padding-top:10px}.gui-p-8{padding:12px}.gui-px-8{padding-left:12px;padding-right:12px}.gui-py-8{padding-bottom:12px;padding-top:12px}.gui-p-10{padding:16px}.gui-px-10{padding-left:16px;padding-right:16px}.gui-py-10{padding-bottom:16px;padding-top:16px}.gui-p-13{padding:22px}.gui-px-13{padding-left:22px;padding-right:22px}.gui-py-13{padding-bottom:22px;padding-top:22px}.gui-p-23{padding:42px}.gui-px-23{padding-left:42px;padding-right:42px}.gui-py-23{padding-bottom:42px;padding-top:42px}.gui-pr-10{padding-right:16px}.gui-pl-9{padding-right:10px}.gui-pb-6{padding-bottom:8px}.gui-pb-12{padding-bottom:20px}.gui-pl-21{padding-left:38px}.gui-pt-4{padding-top:4px}.gui-pt-6{padding-top:8px}.gui-pt-10{padding-top:16px}.gui-pt-12{padding-top:20px}.gui-pt-14{padding-top:24px}.gui-static{position:static}.gui-fixed{position:fixed}.gui-relative{position:relative}.gui-absolute{position:absolute}.gui-text-xxs{font-size:11px}.gui-text-xs{font-size:12px}.gui-text-sm{font-size:13px}.gui-text-base{font-size:14px}.gui-text-lg{font-size:16px}.gui-text-xl{font-size:18px}.gui-text-2xl{font-size:20px}.gui-text-3xl{font-size:22px}.gui-leading-4{line-height:16px}.gui-leading-6{line-height:24px}.gui-font-thin{font-weight:100}.gui-font-extralight{font-weight:200}.gui-font-light{font-weight:300}.gui-font-normal{font-weight:400}.gui-font-medium{font-weight:500}.gui-font-semibold{font-weight:600}.gui-font-bold{font-weight:700}.gui-font-extrabold{font-weight:800}.gui-font-black{font-weight:900}.gui-not-italic{font-style:normal}.gui-whitespace-nowrap{white-space:nowrap}.gui-overflow-ellipsis{text-overflow:ellipsis}.gui-no-underline{text-decoration:none}.gui-text-center{text-align:center}.gui-w-full{width:100%}.gui-w-96{width:384px}.gui-w-3\\/5{width:60%}.gui-structure *,.gui-structure *:after,.gui-structure *:before{box-sizing:border-box}.gui-structure input{font-size:13px;outline:0}.gui-bold{font-weight:700}.gui-italic{font-style:italic}.gui-bar-view{width:100%}.gui-align-right{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;text-align:right;width:100%}.gui-align-left{text-align:left;width:100%}.gui-align-center{-ms-flex-pack:center;justify-content:center;text-align:center;width:100%}.gui-icon{cursor:pointer}.gui-icon svg{fill:#aaa;stroke:#aaa;transition:stroke .3s ease-in-out}.gui-icon svg:hover{fill:#464646!important;stroke:#464646!important}.gui-view-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gui-percentage-bar{background:#deebff;border-radius:4px;box-shadow:inset 1px 1px 2px #ccc;color:#0747a6;height:22px;padding:4px;position:relative;text-align:center;width:100%}.gui-percentage-bar .gui-percentage{background:#8abcfc;border-radius:4px;height:22px;left:0;position:absolute;top:0}.gui-percentage-bar .gui-percentage-view{color:#031d44;position:relative;width:100%}.gui-clear-search-icon{cursor:pointer;height:16px;position:absolute;right:8px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);width:16px}.gui-clear-search-icon:before,.gui-clear-search-icon:after{background-color:#aaa;border-radius:8px;content:" ";height:16px;left:7px;position:absolute;width:2px}.gui-clear-search-icon:before{-ms-transform:rotate(45deg);transform:rotate(45deg)}.gui-clear-search-icon:after{-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.gui-clear-search-icon:hover:before,.gui-clear-search-icon:hover:after{background-color:#464646}
`,`.gui-structure,.gui-structure *{border-color:#d6d6d6;font-size:14px}.gui-structure input{color:#333;font-family:Arial}.gui-header{background:#f2f3f4;border-bottom:1px solid;border-color:inherit;height:36px}.gui-header .gui-header-cell.gui-header-sortable{cursor:pointer}.gui-header .gui-header-cell.gui-header-sortable:hover{background:#e6e7e8}.gui-header .gui-header-cell .gui-header-menu-icon{display:none}.gui-header .gui-header-cell:hover .gui-header-menu{cursor:pointer}.gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:block}.gui-header .gui-header-cell:last-of-type{border-right:0}.gui-header .gui-header-cell .gui-header-title{display:-ms-flexbox;display:flex;line-height:1.4em}.gui-header .gui-header-cell .gui-header-menu{display:-ms-flexbox;display:flex}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:16px;padding:16px;position:relative;right:0;width:16px}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:none;height:16px;width:16px}.gui-header-bottom .gui-header{border-bottom:0;border-color:inherit;border-top:1px solid}.gui-structure{background:#fff;border-color:#d6d6d6;box-sizing:border-box;color:#333;display:block;font-family:Arial;font-size:14px;position:relative}.gui-structure *{box-sizing:border-box}.gui-structure .gui-structure-header{display:block;height:100%;width:100%}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header{height:32px}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header .gui-header-cell{padding:4px}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header .gui-header-cell input{box-sizing:border-box;height:100%;padding:2px;position:relative;width:100%;border-color:#d6d6d6;border-style:solid;border-width:1px;font-size:13px}.gui-structure-container{display:block;height:100%;overflow:auto;overflow-x:hidden;position:relative;width:100%}.gui-structure-container .gui-structure-container-element{height:100%;position:absolute;width:100%}.gui-structure-container .gui-structure-container-element .gui-content{height:100%;position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row{border-bottom:1px solid transparent;position:absolute;width:100%}.gui-structure-container .gui-structure-container-element .gui-content .gui-row:last-child{border-bottom:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#ecedee}.gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#d0e8fb}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell{border-right:1px solid transparent;box-sizing:border-box;line-height:1em;overflow:hidden;padding:0;white-space:nowrap}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-cell-view span{line-height:1.4em}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-button{padding:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-cell-boolean{-ms-flex-pack:center;justify-content:center}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-checkbox{line-height:24px;position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-checkbox input{position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-chip{line-height:1em;margin:0;padding:4px 8px}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-badge{padding:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-input{background:transparent;font-size:14px;padding:0;border-radius:0;border-style:none}.gui-structure-container .gui-cell{display:inline-block}.gui-structure-container .gui-cell:last-child .gui-cell-view{padding-right:20px}.gui-structure-container .gui-cell>span{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:100%;padding:0 8px;width:100%}.gui-structure-container .gui-cell .gui-cell-edit-mode{border:2px solid #2185d0;height:100%;padding:6px}.gui-structure-container .gui-cell .gui-cell-edit-mode .gui-boolean-edit{margin-left:calc(50% - 11px)}.gui-structure-container .gui-cell .gui-cell-edit-mode input:focus{box-shadow:none;outline:none}.gui-vertical-grid .gui-structure-summaries-cell,.gui-vertical-grid .gui-structure-container-element .gui-content .gui-row .gui-cell,.gui-vertical-grid .gui-structure-header .gui-header .gui-header-cell{border-right:1px solid;border-right-color:inherit}.gui-vertical-grid .gui-structure-container-element .gui-content .gui-row .gui-cell:last-of-type,.gui-vertical-grid .gui-structure-header .gui-header .gui-header-cell:last-of-type{border-right:0}.gui-vertical-grid .gui-row-checkbox{border-right:1px solid!important;border-right-color:inherit!important}.gui-horizontal-grid .gui-structure-container-element .gui-content .gui-row{border-bottom:1px solid;border-bottom-color:inherit}.gui-horizontal-grid .gui-structure-container-element .gui-content .gui-row:last-of-type{border-bottom:0}.gui-rows-even .gui-row.even,.gui-rows-odd .gui-row.odd{background:#f7f8f9}.gui-structure-info-panel{-ms-flex-align:center;align-items:center;background:#f2f3f4;box-sizing:border-box;display:-ms-flexbox;display:flex;height:36px;-ms-flex-pack:justify;justify-content:space-between;padding:0 6px;width:100%;border-top-color:inherit;border-top-style:solid;border-top-width:1px}.gui-structure-info-panel p{margin:0}.gui-structure-info-panel p b{font-weight:700}.gui-structure-info-panel div button{background:#ccc;color:#fff;cursor:pointer;font-family:Arial;font-weight:700;height:16px;line-height:14px;padding:0;width:16px;border-color:transparent;border-radius:50%;border-style:solid;border-width:1px}.gui-structure-info-panel div button:focus{box-shadow:0 0 4px #ccc;outline:none}.gui-structure-border{border:1px solid;border-color:#d6d6d6}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.gui-loading{-ms-flex-line-pack:center;align-content:center;animation-duration:.2s;background:rgba(255,255,255,.8);border:1px solid;border-color:inherit;display:-ms-flexbox;display:flex;height:100%;-ms-flex-pack:center;justify-content:center;left:0;opacity:0;position:absolute;top:0;visibility:hidden;width:100%}.gui-loading .gui-spinner{-ms-flex-item-align:center;align-self:center}.gui-loading.gui-loader-hidden{animation-name:fadeOut;opacity:0;visibility:visible;z-index:-1}.gui-loading.gui-loader-visible{animation-name:fadeIn;opacity:1;visibility:visible;z-index:1}.gui-text-highlight{background:#fff799;padding:0!important}.gui-title-panel{border-bottom-color:#d6d6d6}.gui-footer-panel{border-top-color:#d6d6d6}.gui-structure-schema-manager-icon{margin-right:16px}.gui-structure-schema-manager-icon svg{height:18px;margin-bottom:-1px;width:18px}.gui-row-radio{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center;justify-content:center;padding:0 12px!important;width:48px!important}.gui-row-radio .gui-radio-button{height:24px;margin:0;padding:0;width:24px}.gui-row-checkbox{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center;justify-content:center;padding:0 12px!important;width:48px!important}.gui-row-checkbox .gui-checkbox{height:24px;margin:0;padding:0;width:24px}.gui-select-all .gui-checkbox .gui-checkmark{top:0}.gui-structure-cell-edit-boolean{height:100%}.gui-column-highlighted{background:#fffddd}.gui-structure-column-manager>div:hover{background:#ecedee}.gui-structure-column-manager label{margin-bottom:0}.gui-structure-ordered-list li:hover{background:#ecedee}
`,`.gui-structure-column-menu-icon svg{height:16px;width:16px}.gui-structure-column-menu-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}.gui-structure-column-menu-arrow-icon{display:inline-block}.gui-structure-column-menu-arrow-icon svg{height:10px;width:12px}.gui-structure-column-menu-arrow-icon .gui-structure-column-menu-sort-icon svg{height:16px}.gui-structure-column-menu-arrow-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}
`,`.gui-summaries-value{font-weight:700}.gui-structure-summaries-panel{background:#f2f3f4}.gui-structure-summaries-panel.gui-structure-summaries-panel-bottom .gui-structure-summaries-cell{border-top:1px solid #d6d6d6}.gui-structure-summaries-panel.gui-structure-summaries-panel-top .gui-structure-summaries-cell{border-bottom:1px solid #d6d6d6}.gui-structure-summaries-panel .gui-structure-summaries-cell{font-size:14px;padding-left:16px;padding-right:16px}.gui-structure-summaries-panel .gui-structure-summaries-cell:last-child{padding-right:20px}.gui-structure-summaries-panel .gui-structure-summaries-value{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;line-height:1em;overflow:hidden;padding:8px 0}.gui-structure-summaries-panel .gui-structure-summaries-value div .gui-math-symbol{position:relative;top:-1px}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-mean,.gui-structure-summaries-panel .gui-structure-summaries-value .gui-median{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:relative}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-mean span:nth-child(1){left:1px;position:absolute;top:-15px}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-median span:nth-child(1){left:1px;position:absolute;top:-8px}
`,`.gui-structure-column-manager-icon svg{height:16px;width:16px}.gui-structure-column-manager-icon .cls-1,.gui-structure-column-manager-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}.gui-structure-column-manager-icon .cls-2{stroke-width:1.5px}.gui-structure-info-icon svg{height:16px;width:16px}.gui-structure-info-icon .cls-1{stroke-width:0}.gui-structure-info-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}.gui-structure-info-panel div,.gui-structure-info-panel div button{display:inline-block}.gui-structure-info-panel .gui-right-section .gui-structure-column-manager-icon{margin-right:16px;position:relative}.gui-structure-info-panel .gui-right-section .gui-structure-info-icon{margin-right:4px;position:relative}.gui-structure-info-modal .gui-quote{color:#575757}.gui-structure-info-modal p{color:#333}.gui-structure-info-modal a{color:#2185d0}.gui-structure-info-modal a:hover{color:#59a9e5;text-decoration:underline}
`,`@media (max-width: 500px){.gui-paging>*{padding-left:4px}.gui-paging .gui-paging-stats{padding-left:4px}}
`,`.gui-header{display:-ms-flexbox;display:flex}.gui-header .gui-header-cell{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.gui-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.gui-content .gui-structure-cell-container,.gui-content .gui-row{display:-ms-flexbox;display:flex}.gui-content .gui-structure-cell-container .gui-cell,.gui-content .gui-row .gui-cell{display:inline-block}.gui-content .gui-structure-row-details{background:#80cbc4;display:block;height:200px;position:absolute;-ms-transform:translateY(0);transform:translateY(0);width:100%}
`,`.gui-inline-dialog-header-menu.gui-inline-dialog-wrapper .gui-inline-dialog-content{background:transparent;box-shadow:none}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-item-active{font-weight:700}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-list{background:#fff}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#333}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item.gui-active{color:#2185d0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-content{box-shadow:0 3px 7px #ccc;box-sizing:content-box;padding:0;width:225px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move{color:#333;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item svg line{stroke:#aaa}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item.left{padding:12px 16px 12px 12px;width:48%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item.right{padding:12px 10px;width:52%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover svg line{stroke:#464646}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container{border:none;border-radius:0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover .gui-dropdown-arrow{opacity:1}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu{width:125px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item{background:#fff;color:#333;display:-ms-flexbox;display:flex;padding:8px 8px 8px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover .gui-sort-title svg line{stroke:#464646}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:100%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title svg{margin-top:3px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title svg line{stroke:#aaa}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item{color:#333;cursor:pointer;display:block;padding:8px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox{color:#333;margin-left:12px;padding:8px 12px 8px 32px;width:169px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox label{display:inline-block;width:inherit}
`,`.gui-schema-manager-dialog .gui-schema-manager{min-width:180px}.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select,.gui-schema-manager-dialog .gui-schema-manager .gui-checkbox{color:#333}.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select:nth-last-child(1),.gui-schema-manager-dialog .gui-schema-manager .gui-checkbox:nth-last-child(1){margin-bottom:0}.gui-dialog-title{border-bottom:solid 1px #d6d6d6;font-size:18px;font-weight:700;margin-left:-16px;margin-right:-16px;padding-bottom:16px;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-structure-schema-manager-select{padding:8px 0 24px}.gui-structure-dialog-column-manager ol{max-height:400px;min-width:250px}
`,`.gui-cell .gui-checkbox{display:block}.gui-cell .gui-chip{margin:0;padding:2px 8px}.gui-cell .gui-input{display:block;font-size:11px;padding:2px 4px;width:100%}.gui-cell .gui-button{padding:2px 8px}.gui-cell .gui-cell-number{display:block;width:100%}.gui-cell .gui-cell-boolean{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:100%;text-align:center;width:100%}.gui-cell .gui-string-edit{width:100%}
`,`.gui-fabric{border-color:#d6d6d6;font-family:Arial;font-size:14px}.gui-fabric .gui-header-cell,.gui-fabric .gui-structure-header-columns,.gui-fabric .gui-structure-top-panel,.gui-fabric .gui-structure-info-panel,.gui-fabric .gui-paging{height:42px}
`,`.gui-material{border-color:#0000001f;font-family:Arial;font-size:14px}.gui-material *{border-color:#0000001f}.gui-material.gui-structure{border:0;border-radius:0;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001f,0 1px 5px #0003}.gui-material.gui-structure,.gui-material .gui-header{font-family:Arial}.gui-material .gui-header-cell,.gui-material .gui-structure-header-columns{height:56px}.gui-material .gui-header .gui-header-cell.gui-header-sortable:hover{background:transparent}.gui-material .gui-header-cell{padding-left:16px;padding-right:16px}.gui-material .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-material .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-material .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#e6f7ff}.gui-material .gui-structure-header .gui-header{background:transparent;color:#464646;font-weight:700}.gui-material .gui-structure-header .gui-header .gui-header-cell{border-color:inherit}.gui-material .gui-cell .gui-button,.gui-material .gui-cell .gui-badge{padding:0}.gui-material .gui-paging-alternative-navigator .gui-button{background:transparent;color:#333;margin:0 4px;padding:0}.gui-material .gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-material .gui-paging-alternative-navigator .gui-button:disabled{background:transparent;color:#ccc;opacity:.4}.gui-material .gui-structure-summaries-panel{background:#fff}.gui-material gui-structure-top-panel,.gui-material .gui-structure-info-panel,.gui-material .gui-paging{height:52px;padding-left:16px;padding-right:16px}.gui-material .gui-structure-info-panel{background:#fff;border-radius:0}.gui-material gui-structure-top-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding-right:0}.gui-material gui-structure-top-panel .gui-search-bar form input{border:0;outline:0}.gui-material .gui-search-bar form input{border:0;outline:none}
`,`.gui-dark{border-color:#575757;border-radius:2px;color:#f0f0f0;font-family:Arial;font-size:14px}.gui-dark *{border-color:#575757;color:#f0f0f0}.gui-dark.gui-structure{border-radius:2px}.gui-dark .gui-header-cell,.gui-dark .gui-structure-header-columns{background:#333;height:46px}.gui-dark .gui-structure-border{border:none;box-shadow:5px 5px 10px 2px #1f1f1f}.gui-dark .gui-header-cell{border-bottom:1px solid;border-color:inherit;padding-left:16px;padding-right:16px}.gui-dark .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-dark .gui-structure-header .gui-header{border-bottom-color:#666;color:#bdbdbd}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover{background:#525252}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-list{background:#383838}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item.gui-active{color:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-content{box-shadow:0 1px 2px #525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-structure-column-manager ol li:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover svg line{stroke:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu{border-color:#666}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover svg line{stroke:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item{background:#383838;color:#f0f0f0;display:-ms-flexbox;display:flex}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox{color:#f0f0f0}.gui-dark .gui-structure-column-manager>div:hover{background:#525252}.gui-dark .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#525252}.gui-dark .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:rgba(124,185,246,.3215686275)}.gui-dark.gui-rows-odd .gui-row.odd,.gui-dark.gui-rows-even .gui-row.even{background:#4f4f4f}.gui-dark .gui-horizontal-grid .gui-structure-container-element .gui-row .gui-cell{border-bottom-color:#666}.gui-dark .gui-paging.gui-paging-bottom{border-top-color:#666}.gui-dark .gui-paging.gui-paging-top{border-bottom-color:#666}.gui-dark ::-webkit-scrollbar{width:15px}.gui-dark ::-webkit-scrollbar-track{background:#616161}.gui-dark ::-webkit-scrollbar-thumb{background:#424242}.gui-dark ::-webkit-scrollbar-thumb:hover{background:#212121}.gui-dark .gui-structure-top-panel,.gui-dark .gui-structure-info-panel,.gui-dark .gui-paging,.gui-dark .gui-structure-container-element,.gui-dark .gui-row{background:#444}.gui-dark .gui-structure-top-panel,.gui-dark .gui-structure-info-panel,.gui-dark .gui-paging{height:42px;padding-left:16px;padding-right:16px}.gui-dark .gui-structure-summaries-cell{background:#383838;color:#f0f0f0}.gui-dark .gui-structure-summaries-panel-bottom .gui-structure-summaries-cell{border-top-color:#666}.gui-dark .gui-structure-summaries-panel-top .gui-structure-summaries-cell{border-bottom-color:#666}.gui-dark .gui-structure-info-panel{background:#383838;border-top-color:#666}.gui-dark .gui-structure-info-panel div{color:#f0f0f0}.gui-dark .gui-structure-info-panel div button{background:#616161}.gui-dark .gui-structure-info-panel p,.gui-dark .gui-structure-info-modal p{color:#f0f0f0}.gui-dark gui-paging-alternative-navigator .gui-button{background:transparent;color:#f0f0f0;margin:0 4px;padding:0}.gui-dark gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-dark gui-paging-alternative-navigator .gui-button:disabled{background:transparent;color:#f0f0f0;opacity:.4}.gui-dark gui-paging-alternative-navigator gui-paging-alternative-pages .gui-paging-active-page{box-shadow:0 1px #f0f0f0;color:#f0f0f0}.gui-dark .gui-search-bar form{background:#444}.gui-dark .gui-search-bar input{background:#444;border:0;color:#f0f0f0;cursor:pointer}.gui-dark .gui-search-bar:hover .gui-search-icon-svg line,.gui-dark .gui-search-bar:hover .gui-search-icon-svg circle{stroke:#878787}.gui-dark .gui-icon{cursor:pointer}.gui-dark .gui-icon svg{stroke:#aaa;transition:stroke .3s ease-in-out}.gui-dark .gui-icon svg:hover{stroke:#e6e6e6!important}.gui-dark .gui-empty-source div{background:#383838}.gui-dark .gui-dialog-wrapper .gui-dialog-content .gui-schema-manager-dialog .gui-dialog-title{color:#f0f0f0}.gui-dark .gui-title-panel,.gui-dark .gui-footer-panel{background:#383838}.gui-dark .gui-structure-ordered-list li:hover{background:#525252}
`,`.gui-light{border-color:#f0f0f0;font-family:Arial;font-size:14px}.gui-light *{border-color:#f0f0f0}.gui-light.gui-structure-border{border:0}.gui-light.gui-structure,.gui-light .gui-header{background:#fff;color:#333;font-family:Arial}.gui-light .gui-header-cell,.gui-light .gui-structure-header-columns{height:56px}.gui-light.gui-structure-border{border-color:#f0f0f0 transparent}.gui-light .gui-header-cell,.gui-light .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-light .gui-structure-header .gui-header{color:#333;font-weight:700}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover{background:#f3f9ff}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#f3f9ff}.gui-light .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#f3f9ff}.gui-light .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:rgba(124,185,246,.3215686275)}.gui-light.gui-rows-odd .gui-row.odd,.gui-light.gui-rows-even .gui-row.even{background:#f7f7f7}.gui-light gui-paging-alternative-navigator .gui-button{background:transparent;color:#333;margin:0 4px;padding:0}.gui-light gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-light gui-paging-alternative-navigator .gui-button:disabled{background:transparent;color:#333;opacity:.4}.gui-light .gui-structure-top-panel,.gui-light .gui-structure-info-panel,.gui-light .gui-paging{height:56px;padding-left:16px;padding-right:16px}.gui-light .gui-structure-top-panel,.gui-light .gui-structure-info-panel,.gui-light .gui-paging,.gui-light .gui-structure-summaries-panel{background:#fff}.gui-light .gui-search-bar form input{border:0;outline:none}
`,`.gui-structure.gui-generic{border-color:#2224261a;font-family:Arial;font-size:14px}.gui-structure.gui-generic *{border-color:#2224261a}.gui-structure.gui-generic .gui-header-cell,.gui-structure.gui-generic .gui-structure-header-columns{height:46px}.gui-structure.gui-generic .gui-header .gui-header-cell.gui-header-sortable:hover{background:rgba(0,0,0,.04);transition:.15s all}.gui-structure.gui-generic .gui-header-cell,.gui-structure.gui-generic .gui-structure-container-element .gui-structure-cell>span{padding-left:12px;padding-right:12px}.gui-structure.gui-generic .gui-structure-container-element .gui-structure-cell:last-child>span{padding-right:20px}.gui-structure.gui-generic .gui-structure-header.gui-header-bottom .gui-header{border-color:inherit;border-style:solid;border-width:2px 0 0}.gui-structure.gui-generic .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-structure.gui-generic .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#e6f7ff}.gui-structure.gui-generic .gui-structure-header .gui-header{background:#f9fafb;border-width:0 0 2px;color:#464646;font-weight:700}.gui-structure.gui-generic .gui-rows-odd .gui-row.odd,.gui-structure.gui-generic .gui-rows-even .gui-row.even{background:#f9fafb}.gui-structure.gui-generic .gui-cell .gui-button,.gui-structure.gui-generic .gui-cell .gui-badge{padding:0}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button{background:transparent;color:#333;margin:0 4px;padding:0}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button:hover{background:transparent}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button:disabled{background:transparent;color:#ccc;opacity:.4}.gui-structure.gui-generic .gui-structure-summaries-panel{background:#f9fafb}.gui-structure.gui-generic .gui-structure-top-panel,.gui-structure.gui-generic .gui-structure-info-panel,.gui-structure.gui-generic .gui-paging{height:46px;padding-left:12px;padding-right:12px}.gui-structure.gui-generic .gui-structure-info-panel{background:#f9fafb;border-radius:0}.gui-structure.gui-generic .gui-structure-top-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding-right:0}.gui-structure.gui-generic .gui-structure-top-panel .gui-search-bar form input{border:0;outline:0}.gui-structure.gui-generic .gui-rows-odd gui-row.odd,.gui-structure.gui-generic .gui-rows-even .gui-row.even{background:#f9fafb}.gui-structure.gui-generic .gui-row:hover{background:#f9fafb;transition:.15s all}
`],encapsulation:2,changeDetection:0})}return i})(),KN=(()=>{class i extends vi{structureHeaderTopEnabledArchive;structureHeaderBottomEnabledArchive;columnHeaderTop;columnHeaderBottom;constructor(t,n){super(),this.structureHeaderTopEnabledArchive=t,this.structureHeaderBottomEnabledArchive=n}ngOnChanges(t){this.isDefined("columnHeaderTop",t)&&this.structureHeaderTopEnabledArchive.next(this.columnHeaderTop),this.isDefined("columnHeaderBottom",t)&&this.structureHeaderBottomEnabledArchive.next(this.columnHeaderBottom)}static \u0275fac=function(n){return new(n||i)(f(tT),f(Ch))};static \u0275dir=ne({type:i,selectors:[["gui-structure","columnHeaderTop","","columnHeaderBottom",""],["gui-structure","columnHeaderTop",""],["gui-structure","columnHeaderBottom",""]],inputs:{columnHeaderTop:"columnHeaderTop",columnHeaderBottom:"columnHeaderBottom"},features:[H,le]})}return i})(),LY=(()=>{class i extends vi{structureId;compositionId;pagingCommandInvoker;pagingEventRepository;paging;pageChanged=new J;pageSizeChanged=new J;constructor(t,n,r,o){super(),this.structureId=t,this.compositionId=n,this.pagingCommandInvoker=r,this.pagingEventRepository=o}ngOnChanges(t){if(this.isDefined("paging",t)){let n;typeof this.paging=="boolean"?n={enabled:this.paging}:n=this.paging,this.pagingCommandInvoker.setPaging(n,this.compositionId)}}ngOnInit(){this.subscribeAndEmit(this.pagingEventRepository.onPageChange(this.structureId.toReadModelRootId()),this.pageChanged),this.subscribeAndEmit(this.pagingEventRepository.onPageSizeChange(this.structureId.toReadModelRootId()),this.pageSizeChanged)}onPageChange(t){this.pageChanged.emit(t)}static \u0275fac=function(n){return new(n||i)(f(Ae),f(oi),f(un),f(qr))};static \u0275dir=ne({type:i,inputs:{paging:"paging"},outputs:{pageChanged:"pageChanged",pageSizeChanged:"pageSizeChanged"},features:[H,le]})}return i})(),YN=(()=>{class i extends LY{pagingDisplayModeArchive;constructor(t,n,r,o,a){super(t,n,r,o),this.pagingDisplayModeArchive=a}ngOnChanges(t){if(this.isDefined("paging",t)){let n;typeof this.paging=="boolean"?n={enabled:this.paging}:(n=this.paging,this.paging.displayMode!==void 0&&this.pagingDisplayModeArchive.next(this.paging.displayMode)),this.pagingCommandInvoker.setPaging(n,this.structureId)}}static \u0275fac=function(n){return new(n||i)(f(Ae),f(oi),f(un),f(qr),f(J0))};static \u0275dir=ne({type:i,selectors:[["gui-structure","paging",""]],features:[H,le]})}return i})(),jY=(()=>{class i extends vi{structureId;searchEventRepository;searchCommandInvoker;searching;searchPhraseChanged=new J;constructor(t,n,r){super(),this.structureId=t,this.searchEventRepository=n,this.searchCommandInvoker=r}ngOnChanges(t){if(this.isDefined("searching",t)){let n;typeof this.searching=="boolean"?n={enabled:this.searching}:n=this.searching,this.searchCommandInvoker.setSearchingConfig(n,this.structureId)}}ngOnInit(){this.subscribeAndEmit(this.searchEventRepository.onSearchPhrase(this.structureId.toReadModelRootId()),this.searchPhraseChanged)}static \u0275fac=function(n){return new(n||i)(f(Ae),f(Zr),f(xn))};static \u0275dir=ne({type:i,inputs:{searching:"searching"},outputs:{searchPhraseChanged:"searchPhraseChanged"},features:[H,le]})}return i})(),QN=(()=>{class i extends jY{constructor(t,n,r){super(t,n,r)}static \u0275fac=function(n){return new(n||i)(f(Ae),f(Zr),f(xn))};static \u0275dir=ne({type:i,selectors:[["gui-structure","searching",""]],features:[H]})}return i})(),VY=(()=>{class i extends vi{structureId;formationEventRepository;formationPublisher;rowSelection;itemsSelected=new J;selectedRows=new J;constructor(t,n,r){super(),this.structureId=t,this.formationEventRepository=n,this.formationPublisher=r}ngOnChanges(t){this.isDefined("rowSelection",t)&&(this.rowSelection.isEnabledDefined()&&this.formationPublisher.setSelection(this.rowSelection.isEnabled(),this.structureId),this.rowSelection.isTypeDefined()&&this.formationPublisher.changeType(this.rowSelection.getType(),this.structureId),this.rowSelection.isModeDefined()&&this.formationPublisher.changeMode(this.rowSelection.getMode(),this.structureId),this.rowSelection.isMatcherDefined()&&this.formationPublisher.setMatcher(this.rowSelection.getMatcher(),this.structureId),this.rowSelection.isSelectedRowIndexesDefined()&&this.formationPublisher.selectByIndex(this.rowSelection.getSelectedRowIndexes(),this.structureId),this.rowSelection.isSelectedRowIdsDefined()&&this.formationPublisher.selectByIds(this.rowSelection.getSelectedRowIds(),this.structureId),this.rowSelection.isCustomSelectConfig()&&this.formationPublisher.setCustomSelection(this.rowSelection.getCustomSelectConfig(),this.structureId))}ngOnInit(){this.subscribeAndEmit(this.formationEventRepository.onItemSelected(this.structureId),this.selectedRows),this.subscribeAndEmit(this.selectItemsSelected(),this.itemsSelected)}selectItemsSelected(){return this.formationEventRepository.onItemSelected(this.structureId).pipe(ee(t=>t.map(n=>n.getItem())))}static \u0275fac=function(n){return new(n||i)(f(Ae),f(Ss),f(Ai))};static \u0275dir=ne({type:i,inputs:{rowSelection:"rowSelection"},outputs:{itemsSelected:"itemsSelected",selectedRows:"selectedRows"},features:[H,le]})}return i})(),XN=(()=>{class i extends VY{selectionGate;constructor(t,n,r){super(t,n,r)}static \u0275fac=function(n){return new(n||i)(f(Ae),f(Ss),f(Ai))};static \u0275dir=ne({type:i,selectors:[["gui-structure","rowSelection",""],["gui-structure","selectionGate",""]],inputs:{selectionGate:"selectionGate"},features:[H]})}return i})(),JN=(()=>{class i extends vi{translationService;localization;constructor(t){super(),this.translationService=t}ngOnChanges(t){this.isDefined("localization",t)&&(this.localization.translationResolver&&this.translationService.setResolver(this.localization.translationResolver),this.localization.translation&&this.translationService.changeTranslation(this.localization.translation))}static \u0275fac=function(n){return new(n||i)(f(yr))};static \u0275dir=ne({type:i,selectors:[["gui-structure","localization",""]],inputs:{localization:"localization"},features:[H,le]})}return i})(),eL=(()=>{class i extends vi{structureTitlePanelConfigArchive;structureFooterPanelConfigArchive;titlePanel;footerPanel;constructor(t,n){super(),this.structureTitlePanelConfigArchive=t,this.structureFooterPanelConfigArchive=n}ngOnChanges(t){this.isDefined("titlePanel",t)&&this.structureTitlePanelConfigArchive.next(this.titlePanel),this.isDefined("footerPanel",t)&&this.structureFooterPanelConfigArchive.next(this.footerPanel)}static \u0275fac=function(n){return new(n||i)(f(Dh),f(Sh))};static \u0275dir=ne({type:i,selectors:[["gui-structure","titlePanel","","footerPanel",""]],inputs:{titlePanel:"titlePanel",footerPanel:"footerPanel"},features:[H,le]})}return i})(),tL=(()=>{class i extends vi{structureDetailViewConfigArchive;rowDetail;constructor(t){super(),this.structureDetailViewConfigArchive=t}ngOnChanges(t){this.isDefined("rowDetail",t)&&this.structureDetailViewConfigArchive.next(this.rowDetail)}static \u0275fac=function(n){return new(n||i)(f(_v))};static \u0275dir=ne({type:i,selectors:[["gui-structure","rowDetail",""]],inputs:{rowDetail:"rowDetail"},features:[H,le]})}return i})(),iL=(()=>{class i extends vi{structureColumnMenuConfigArchive;columnMenu;constructor(t){super(),this.structureColumnMenuConfigArchive=t}ngOnChanges(t){this.isDefined("columnMenu",t)&&this.structureColumnMenuConfigArchive.nextConfig(this.columnMenu)}static \u0275fac=function(n){return new(n||i)(f(wh))};static \u0275dir=ne({type:i,selectors:[["gui-structure","columnMenu",""]],inputs:{columnMenu:"columnMenu"},features:[H,le]})}return i})(),nL=(()=>{class i extends vi{structureId;summariesCommandInvoker;summaries;constructor(t,n){super(),this.structureId=t,this.summariesCommandInvoker=n}ngOnChanges(t){Et(t.summaries,()=>{this.summariesCommandInvoker.setConfig(this.summaries,this.structureId)})}static \u0275fac=function(n){return new(n||i)(f(Ae),f(_s))};static \u0275dir=ne({type:i,selectors:[["gui-structure","summaries",""]],inputs:{summaries:"summaries"},features:[H,le]})}return i})(),rL=(()=>{class i extends vi{structureInfoPanelConfigService;infoPanel;constructor(t){super(),this.structureInfoPanelConfigService=t}ngOnChanges(t){this.isDefined("infoPanel",t)&&(typeof this.infoPanel=="boolean"&&(this.infoPanel={enabled:this.infoPanel}),this.structureInfoPanelConfigService.set(this.infoPanel))}static \u0275fac=function(n){return new(n||i)(f(bv))};static \u0275dir=ne({type:i,selectors:[["gui-structure","infoPanel",""]],inputs:{infoPanel:"infoPanel"},features:[H,le]})}return i})(),oL=(()=>{class i extends vi{schemaReadModelRootId;schemaPublisher;rowClass;constructor(t,n){super(),this.schemaReadModelRootId=t,this.schemaPublisher=n}ngOnChanges(t){this.isDefined("rowClass",t)&&this.schemaPublisher.setRowClass(this.rowClass,this.schemaReadModelRootId)}static \u0275fac=function(n){return new(n||i)(f(mi),f(cn))};static \u0275dir=ne({type:i,selectors:[["gui-structure","rowClass",""]],inputs:{rowClass:"rowClass"},features:[H,le]})}return i})(),sL=(()=>{class i extends vi{schemaReadModelRootId;schemaPublisher;rowStyle;constructor(t,n){super(),this.schemaReadModelRootId=t,this.schemaPublisher=n}ngOnChanges(t){this.isDefined("rowStyle",t)&&this.schemaPublisher.setRowStyle(this.rowStyle,this.schemaReadModelRootId)}static \u0275fac=function(n){return new(n||i)(f(mi),f(cn))};static \u0275dir=ne({type:i,selectors:[["gui-structure","rowStyle",""]],inputs:{rowStyle:"rowStyle"},features:[H,le]})}return i})(),aL=(()=>{class i extends vi{schemaId;schemaCommandInvoker;schemaEventRepository;rowColoring;rowColoringChanged=new J;constructor(t,n,r){super(),this.schemaId=t,this.schemaCommandInvoker=n,this.schemaEventRepository=r}ngOnChanges(t){this.isDefined("rowColoring",t)&&this.schemaCommandInvoker.setRowColoring(this.rowColoring,this.schemaId)}ngOnInit(){this.subscribeAndEmit(this.schemaEventRepository.onRowColoring(this.schemaId),this.rowColoringChanged)}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(n){return new(n||i)(f(mi),f(cn),f(Kr))};static \u0275dir=ne({type:i,selectors:[["gui-structure","rowColoring",""]],inputs:{rowColoring:"rowColoring"},outputs:{rowColoringChanged:"rowColoringChanged"},features:[H,le]})}return i})(),cL=(()=>{class i extends vi{schemaId;schemaCommandInvoker;schemaEventRepository;verticalGrid;horizontalGrid;horizontalGridChanged=new J;verticalGridChanged=new J;constructor(t,n,r){super(),this.schemaId=t,this.schemaCommandInvoker=n,this.schemaEventRepository=r,this.subscribeAndEmit(this.schemaEventRepository.onHorizontalGridChanged(this.schemaId),this.horizontalGridChanged),this.subscribeAndEmit(this.schemaEventRepository.onVerticalGridChanged(this.schemaId),this.verticalGridChanged)}ngOnChanges(t){this.isDefined("verticalGrid",t)&&this.schemaCommandInvoker.setVerticalGrid(this.verticalGrid,this.schemaId),this.isDefined("horizontalGrid",t)&&this.schemaCommandInvoker.setHorizontalGrid(this.horizontalGrid,this.schemaId)}static \u0275fac=function(n){return new(n||i)(f(mi),f(cn),f(Kr))};static \u0275dir=ne({type:i,selectors:[["gui-structure","verticalGrid","","horizontalGrid",""]],inputs:{verticalGrid:"verticalGrid",horizontalGrid:"horizontalGrid"},outputs:{horizontalGridChanged:"horizontalGridChanged",verticalGridChanged:"verticalGridChanged"},features:[H,le]})}return i})(),lL=(()=>{class i extends vi{structureId;sortingCommandInvoker;sorting;constructor(t,n){super(),this.structureId=t,this.sortingCommandInvoker=n}ngOnChanges(t){Et(t.sorting,()=>{let n;typeof this.sorting=="boolean"?n={enabled:this.sorting}:n=this.sorting,this.sortingCommandInvoker.setSortingConfig(n,this.structureId)})}static \u0275fac=function(n){return new(n||i)(f(Ae),f(In))};static \u0275dir=ne({type:i,selectors:[["gui-structure","sorting",""]],inputs:{sorting:"sorting"},features:[H,le]})}return i})(),uL=(()=>{class i extends vi{structureId;sourceCommandInvoker;loading;constructor(t,n){super(),this.structureId=t,this.sourceCommandInvoker=n}ngOnChanges(t){this.isDefined("loading",t)&&this.sourceCommandInvoker.setLoading(this.loading,this.structureId)}ngOnInit(){}static \u0275fac=function(n){return new(n||i)(f(Ae),f(wn))};static \u0275dir=ne({type:i,selectors:[["gui-structure","loading",""]],inputs:{loading:"loading"},features:[H,le]})}return i})(),dL=(()=>{class i extends vi{structureId;structureCommandInvoker;filtering;constructor(t,n){super(),this.structureId=t,this.structureCommandInvoker=n}ngOnChanges(t){Et(t.filtering,()=>{let n;typeof this.filtering=="boolean"?n={enabled:this.filtering}:n=this.filtering,this.structureCommandInvoker.setFilterConfig(n,this.structureId)})}static \u0275fac=function(n){return new(n||i)(f(Ae),f(ln))};static \u0275dir=ne({type:i,selectors:[["gui-structure","filtering",""]],inputs:{filtering:"filtering"},features:[H,le]})}return i})(),hL=(()=>{class i extends vi{structureId;structureCommandInvoker;quickFilters;constructor(t,n){super(),this.structureId=t,this.structureCommandInvoker=n}ngOnChanges(t){Et(t.quickFilters,()=>{let n;typeof this.quickFilters=="boolean"?n={enabled:this.quickFilters}:n=this.quickFilters,this.structureCommandInvoker.setQuickFiltersConfig(n,this.structureId)})}static \u0275fac=function(n){return new(n||i)(f(Ae),f(ln))};static \u0275dir=ne({type:i,selectors:[["gui-structure","quickFilters",""]],inputs:{quickFilters:"quickFilters"},features:[H,le]})}return i})(),pL=(()=>{class i extends vi{structureId;structureCommandInvoker;virtualScroll;constructor(t,n){super(),this.structureId=t,this.structureCommandInvoker=n}ngOnChanges(t){this.isDefined("virtualScroll",t)&&(this.virtualScroll?this.structureCommandInvoker.enableVirtualScroll(this.structureId):this.structureCommandInvoker.disableVirtualScroll(this.structureId))}static \u0275fac=function(n){return new(n||i)(f(Ae),f(ln))};static \u0275dir=ne({type:i,selectors:[["gui-structure","virtualScroll",""]],inputs:{virtualScroll:"virtualScroll"},features:[H,le]})}return i})(),dn=(()=>{class i extends iK{platformId;elementRef;changeDetectorRef;gridRegister;structureIdGenerator;formationCommandDispatcher;formationWarehouse;compositionCommandInvoker;compositionWarehouse;filterIntegration;sourceCommandDispatcher;searchCommandInvoker;schemaCommandInvoker;structureCommandDispatcher;summariesCommandInvoker;sortingCommandInvoker;pagingCommandInvoker;static GUI_GRID_ID="gui-grid-id";structureRef;gridId;api;localGridId;gridThemeCommandInvoker;classModifier;attributeModifier;constructor(t,n,r,o,a,l,d,p,m,b,w,E,T,V,A,$,ce){super(),this.platformId=t,this.elementRef=n,this.changeDetectorRef=r,this.gridRegister=o,this.structureIdGenerator=a,this.formationCommandDispatcher=l,this.formationWarehouse=d,this.compositionCommandInvoker=p,this.compositionWarehouse=m,this.filterIntegration=b,this.sourceCommandDispatcher=w,this.searchCommandInvoker=E,this.schemaCommandInvoker=T,this.structureCommandDispatcher=V,this.summariesCommandInvoker=A,this.sortingCommandInvoker=$,this.pagingCommandInvoker=ce,this.gridThemeCommandInvoker=new uE(this.schemaCommandInvoker,this.gridThemeConverter,this.gridRowColoringConverter),this.classModifier=new gp(this.elementRef.nativeElement),this.attributeModifier=new nK(this.elementRef.nativeElement)}ngOnInit(){this.classModifier.getHost().add("gui-grid"),this.initApi();let t=this.gridId;t===void 0&&(t="gui-grid-"+this.structureIdGenerator.generateId()),this.localGridId=t,this.exposeGridId(),this.gridRegister.register(t,this,this.structureRef.getStructureId()),en(this.platformId)&&(window.getGuiGrid=n=>{if(this.gridRegister.getValues(n))return this.api})}ngOnDestroy(){this.gridRegister.unregister(this.localGridId)}getElementRef(){return this.elementRef}detectChanges(){this.changeDetectorRef.detectChanges()}exposeGridId(){this.attributeModifier.getHost().setAttribute(i.GUI_GRID_ID,this.localGridId)}initApi(){this.api=new lE(this.structureRef.structureId,this.structureRef.compositionId,this.structureRef.schemaReadModelRootId,this.formationCommandDispatcher,this.formationWarehouse,this.compositionCommandInvoker,this.compositionWarehouse,this.filterIntegration,this.sourceCommandDispatcher,this.searchCommandInvoker,this.gridThemeCommandInvoker,this.structureCommandDispatcher,this.summariesCommandInvoker,this.sortingCommandInvoker,this.pagingCommandInvoker).provide()}static \u0275fac=function(n){return new(n||i)(f(Bt),f(F),f(oe),f(wN),f(Ma),f(Ai),f(sn),f(Yn),f(an),f(X0),f(wn),f(xn),f(cn),f(ln),f(_s),f(In),f(un))};static \u0275cmp=z({type:i,selectors:[["gui-grid"]],viewQuery:function(n,r){if(n&1&&ke(QZ,7),n&2){let o;xe(o=Ie())&&(r.structureRef=o.first)}},inputs:{gridId:"gridId"},features:[pt([{provide:ec,useValue:oK},{provide:CN,useExisting:i}]),H],decls:2,vars:31,consts:[[3,"autoResizeWidth","cellEditing","columnHeaderBottom","columnHeaderTop","columnMenu","columns","editMode","filtering","footerPanel","horizontalGrid","infoPanel","loading","localization","maxHeight","paging","quickFilters","rowClass","rowColoring","rowDetail","rowHeight","rowSelection","rowStyle","searching","sorting","source","summaries","theme","titlePanel","verticalGrid","virtualScroll","width","cellEditCanceled","cellEditEntered","cellEditSubmitted","columnsChanged","containerWidthChanged","horizontalGridChanged","itemsSelected","pageChanged","pageSizeChanged","rowColoringChanged","searchPhraseChanged","selectedRows","sourceEdited","themeChanged","verticalGridChanged"],["structure",""]],template:function(n,r){n&1&&(C(0,"gui-structure",0,1),Y("cellEditCanceled",function(){return r.onCellEditCancel()})("cellEditEntered",function(){return r.onCellEditEnter()})("cellEditSubmitted",function(){return r.onCellEditSubmit()})("columnsChanged",function(){return r.onColumnsChange()})("containerWidthChanged",function(a){return r.onContainerWidthChange(a)})("horizontalGridChanged",function(a){return r.onHorizontalGrid(a)})("itemsSelected",function(a){return r.onItemSelect(a)})("pageChanged",function(a){return r.onPageChange(a)})("pageSizeChanged",function(a){return r.onPageSizeChange(a)})("rowColoringChanged",function(a){return r.onRowColoring(a)})("searchPhraseChanged",function(a){return r.onSearchPhrase(a)})("selectedRows",function(a){return r.onRowsSelect(a)})("sourceEdited",function(a){return r.onSourceEdit(a)})("themeChanged",function(a){return r.onTheme(a)})("verticalGridChanged",function(a){return r.onVerticalGrid(a)}),x()),n&2&&_("autoResizeWidth",r.autoResizeWidth)("cellEditing",r.cellEditingConfig)("columnHeaderBottom",r.columnHeaderBottom)("columnHeaderTop",r.columnHeaderTop)("columnMenu",r.columnMenuConfig)("columns",r.columnsConfig)("editMode",r.editMode)("filtering",r.filtering)("footerPanel",r.footerPanel)("horizontalGrid",r.horizontalGrid)("infoPanel",r.infoPanel)("loading",r.loading)("localization",r.localization)("maxHeight",r.maxHeight)("paging",r.paging)("quickFilters",r.quickFilters)("rowClass",r.rowClass)("rowColoring",r.rowColoringConfig)("rowDetail",r.rowDetail)("rowHeight",r.rowHeight)("rowSelection",r.rowSelectionConfig)("rowStyle",r.rowStyle)("searching",r.searching)("sorting",r.sorting)("source",r.source)("summaries",r.summaries)("theme",r.themeConfig)("titlePanel",r.titlePanel)("verticalGrid",r.verticalGrid)("virtualScroll",r.virtualScroll)("width",r.width)},dependencies:[ZN,KN,YN,QN,XN,JN,eL,tL,iL,nL,rL,oL,sL,aL,cL,lL,uL,dL,hL,pL],styles:[`.gui-grid{display:block;width:100%}
`],encapsulation:2})}return i})(),nc=[El,Wn,Dl,xo,ds,Sl,Tl,Rl,Fl,kl,Al,Pl,Ol,hs,xa,Nl,Io,Ml,wa,hs],BY=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({})}return i})();var lT=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[jN],imports:[ue,nc,er,Fo]})}return i})(),fL=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[VN],imports:[ue,nc,Fo,er]})}return i})();var $a=class{constructor(){}};var aD=class extends Re{fieldId;externalFilterId;filterValue;constructor(e,t,n,r){super(e,"ToggleFilterCommand"),this.fieldId=t,this.externalFilterId=n,this.filterValue=r}getFieldId(){return this.fieldId}getExternalFilterId(){return this.externalFilterId}getFilterValue(){return this.filterValue}},Hh=class extends Be{constructor(e){super(e,null,"FilterToggledEvent")}},cD=class{domainEventPublisher=P.resolve(et);forCommand(){return aD}handle(e,t){let n=t.getFieldId(),r=t.getExternalFilterId(),o=t.getFilterValue();e.toggleFilter(n,r,o)}publish(e,t){this.domainEventPublisher.publish(new Hh(t.getAggregateId()))}},ob=class extends Re{fieldId;filterTypeId;value;constructor(e,t,n,r){super(e,"AddFilterCommand"),this.fieldId=t,this.filterTypeId=n,this.value=r}getFieldId(){return this.fieldId}getFilterTypeId(){return this.filterTypeId}getValue(){return this.value}},lD=class{forCommand(){return ob}handle(e,t){let n=t.getFieldId(),r=t.getFilterTypeId(),o=t.getValue();e.addFilter(n,r,o)}},sb=class extends Re{constructor(e){super(e,"RemoveAllFiltersCommand")}},uD=class{forCommand(){return sb}handle(e,t){e.removeAllFilters()}},ab=class extends Re{filterId;constructor(e,t){super(e,"RemoveFilterCommand"),this.filterId=t}getFilterId(){return this.filterId}},dD=class{forCommand(){return ab}handle(e,t){let n=t.getFilterId();e.removeFilter(n)}},cb=class extends Re{filterConfig;constructor(e,t){super(e,"SetConfigFilterCommand"),this.filterConfig=t}getConfig(){return this.filterConfig}},lb=class extends Be{enabled;constructor(e,t){super(e,t,"ConfigFilterSetEvent"),this.enabled=t}getEnabled(){return this.enabled}},hD=class{domainEventPublisher=P.resolve(et);forCommand(){return cb}handle(e,t){let n=t.getConfig();e.setFilterConfig(n)}publish(e,t){let n=t.getConfig();this.domainEventPublisher.publish(new lb(t.getAggregateId(),n.enabled))}},ub=class extends Re{quickFiltersConfig;constructor(e,t){super(e,"SetConfigQuickFilterCommand"),this.quickFiltersConfig=t}getConfig(){return this.quickFiltersConfig}},db=class extends Be{enabled;constructor(e,t){super(e,t,"ConfigQuickFilterSetEvent"),this.enabled=t}getEnabled(){return this.enabled}},pD=class{domainEventPublisher=P.resolve(et);forCommand(){return ub}handle(e,t){let n=t.getConfig();e.setQuickFiltersConfig(n)}publish(e,t){let n=t.getAggregateId(),r=t.getConfig();this.domainEventPublisher.publish(new db(n,r.enabled))}},fD=class extends ma{filterId;fieldId;filterTypeId;filterValue;constructor(e,t,n,r){super(e),this.filterId=e,this.fieldId=t,this.filterTypeId=n,this.filterValue=r}getFilterId(){return this.filterId}getFilterTypeId(){return this.filterTypeId}getFieldId(){return this.fieldId}getFilterValue(){return this.filterValue}},gD=class{filteringEnabled=!1;searchEnabled=!1;quickFiltersEnabled=!1;constructor(e=!1,t=!1,n=!1){this.filteringEnabled=e,this.searchEnabled=t,this.quickFiltersEnabled=n}isFilteringEnabled(){return this.filteringEnabled}isQuickFilteringEnabled(){return this.quickFiltersEnabled}isSearchingEnabled(){return this.searchEnabled}setFilterConfig(e){e&&e.enabled!==void 0&&e.enabled!==null&&(this.filteringEnabled=e.enabled)}setSearchingConfig(e){e&&e.enabled!==void 0&&e.enabled!==null&&(this.searchEnabled=e.enabled)}setQuickFiltersConfig(e){e&&e.enabled!==void 0&&e.enabled!==null&&(this.quickFiltersEnabled=e.enabled)}},mD=class extends vo{constructor(e){super(e)}toString(){return this.getId().toString()}filterMany(e,t,n){return e.length===0?e:e.filter(r=>this.filterEntity(r,t,n))}filterOne(e,t,n){return this.filterEntity(e,t,n)}},vD=class extends mD{constructor(e){super(e)}getName(){return"Contains"}filterEntity(e,t,n){return!!t.getValue(e).includes(n)}},bD=class extends vo{id;constructor(e){super(e),this.id=e}toString(){return this.id}},HY=(()=>{class i{static index=0;generate(){return i.index+=1,new bD(`${i.index}`)}}return i})(),yD=class{filterTypeId;name;constructor(e,t){this.filterTypeId=e,this.name=t}getId(){return this.filterTypeId}getName(){return this.name}},_D=class{fieldIds=[];map=new WeakMap;filterTypeMap=new WeakMap;dataTypeToFilterType=new Map;filterTypeIdGenerator=new HY;constructor(e){this.assignFilterTypes(),this.addFields(e)}getFilterType(e){return this.filterTypeMap.get(e)}getFieldIdsToFilterTypes(){let e=new Map;for(let t of this.fieldIds){let n=this.map.get(t),r=n.map(o=>new yD(o.getId(),o.getName()));e.set(t.toString(),r)}return e}addFields(e){for(let t of e)this.addField(t)}addField(e){let t=e.getId(),n=e.getDataType(),r=this.dataTypeToFilterType.get(n);this.fieldIds.push(t),this.map.set(t,Array.from(r))}assignFilterTypes(){this.assignFilterTypesForDataTypeUnknown(),this.assignFilterTypesForDataTypeNumber(),this.assignFilterTypesForDataTypeString(),this.assignFilterTypesForDataTypeBoolean(),this.assignFilterTypesForDataTypeDate(),this.assignFilterTypesForDataTypeCustom()}assignFilterTypesForDataTypeUnknown(){this.dataTypeToFilterType.set(ae.UNKNOWN,[])}assignFilterTypesForDataTypeNumber(){this.dataTypeToFilterType.set(ae.NUMBER,[])}assignFilterTypesForDataTypeString(){let e=[new vD(this.generateId())];this.dataTypeToFilterType.set(ae.STRING,e),this.addFilterTypes(e)}assignFilterTypesForDataTypeBoolean(){this.dataTypeToFilterType.set(ae.BOOLEAN,[])}assignFilterTypesForDataTypeDate(){this.dataTypeToFilterType.set(ae.DATE,[])}assignFilterTypesForDataTypeCustom(){this.dataTypeToFilterType.set(ae.CUSTOM,[])}generateId(){return this.filterTypeIdGenerator.generate()}addFilterTypes(e){for(let t of e)this.filterTypeMap.set(t.getId(),t)}},CD=class extends vo{constructor(e){super(e)}toString(){return this.getId()}},zY=(()=>{class i{static index=0;static generateId(){return new CD(`${i.index}`)}}return i})(),wD=class{filterId;fieldName;filterTypeName;value;constructor(e,t,n,r){this.filterId=e,this.fieldName=t,this.filterTypeName=n,this.value=r}getText(){return`${this.fieldName}: ${this.filterTypeName}: ${this.value}`}getFilterId(){return this.filterId}getFieldName(){return this.fieldName}getFilterTypeName(){return this.filterTypeName}getValue(){return this.value}},xD=class{filterSettings=new gD;filters=new Map;activeFilters=[];filterTypeManager;constructor(){}getSettings(){return this.filterSettings}getAll(){return Array.from(this.filters).map(e=>e[1])}getAllActiveFilters(e){return this.activeFilters.map(t=>new wD(t.getFilterId(),e.get(t.getFieldId().toString()).getName(),this.filterTypeManager.getFilterType(t.getFilterTypeId()).getName(),t.getFilterValue()))}getFilterTypes(){return this.filterTypeManager.getFieldIdsToFilterTypes()}assignFilterTypes(e){this.filterTypeManager=new _D(e)}add(e,t,n){let r=new fD(zY.generateId(),e,t,n);this.activeFilters.push(r)}filter(e,t){let n=Array.from(e);for(let r of this.activeFilters){let o=r.getFilterTypeId(),a=this.getFilterType(o),l=r.getFilterValue();n=a.filterMany(n,t.get(r.getFieldId().toString()),l)}return n}removeAll(){this.activeFilters.length=0}remove(e){this.activeFilters=this.activeFilters.filter(t=>t.getFilterId()!==e)}getFilterType(e){return this.filterTypeManager.getFilterType(e)}},hb=class{create(e=!1){return new xD}},uT=(()=>{class i extends Ct{static default=!1;constructor(){super(i.default)}}return i})(),$Y=(()=>{class i{quickFilterEnabledArchive;constructor(t){this.quickFilterEnabledArchive=t}static services=[uT];forEvent(){return db}handle(t){t.ofMessageType("ConfigQuickFilterSetEvent")&&this.quickFilterEnabledArchive.next(t.getAggregateId(),t.getEnabled())}}return i})(),dT=(()=>{class i extends Ct{static default=!1;constructor(){super(i.default)}}return i})(),UY=(()=>{class i{filterEnabledArchive;constructor(t){this.filterEnabledArchive=t}static services=[dT];forEvent(){return lb}handle(t){t.ofMessageType("ConfigFilterSetEvent")&&this.filterEnabledArchive.next(t.getAggregateId(),t.getEnabled())}}return i})(),pb=class{map;constructor(e){this.map=e}getFilterTypes(e){let t=this.map.get(e.toString());return t===void 0?[]:t}},zh=class i extends Ct{static default=new pb(new Map);constructor(){super(i.default)}},fb=class extends Be{map;constructor(e,t){super(e,t,"FilterTypesInitedEvent"),this.map=t}getMap(){return this.map}},hT=(()=>{class i extends Ct{static default=[];constructor(){super(i.default)}}return i})(),pT=gI();pT.provide(hT);pT.provide(zh);var gb=pT,ID=class{filterTypeArchive=gb.resolve(zh);forEvent(){return fb}handle(e){if(e.ofMessageType("FilterTypesInitedEvent")){let t=e.getMap();this.filterTypeArchive.next(e.getAggregateId(),new pb(t))}}},Ds=class extends Be{filters;constructor(e,t){super(e,t,"ActiveFiltersSetEvent"),this.filters=t}getFilters(){return this.filters}},ED=class{activeFilterRepository=gb.resolve(hT);forEvent(){return Ds}handle(e){if(e.ofMessageType("ActiveFiltersSetEvent")){let t=e.getFilters();this.activeFilterRepository.next(e.getAggregateId(),t)}}},mb=class extends Be{map;constructor(e,t){super(e,t,"UniqueFilterCalculatedEvent"),this.map=t}getUniqueValues(){return this.map}},vb=class{map=new Map;allSelected=new Map;allDisabled=new Map;constructor(e){this.map=e,this.calculateSelection()}getValues(e){return this.map.get(e.toString())}areAllSelected(e){return this.allSelected.get(e.toString())}areAllDisabled(e){return this.allDisabled.get(e.toString())}isSelectAllChecked(e){return this.areAllSelected(e)}isIndeterminate(e){return!(this.areAllSelected(e)||this.areAllDisabled(e))}calculateSelection(){for(let e of Array.from(this.map.keys())){let t=this.map.get(e);this.allSelected.set(e,!t.some(n=>!n.isEnabled())),this.allDisabled.set(e,!t.some(n=>n.isEnabled()))}}},$h=class i extends Ct{static default=new vb(new Map);constructor(){super(i.default)}},DD=class{id;value;displayValue;enabled;constructor(e,t,n){this.id=e,this.value=t,this.enabled=n}getId(){return this.id}getValue(){return this.value}geDisplayValue(){return this.displayValue}isEnabled(){return this.enabled}},WY=(()=>{class i{uniqueValuesRepository;constructor(t){this.uniqueValuesRepository=t}static services=[$h];forEvent(){return mb}handle(t){if(t.ofMessageType("UniqueFilterCalculatedEvent")){let n=new Map;t.getUniqueValues().forEach((o,a)=>{let l=o.map(d=>new DD(d.getId(),d.getDisplayValue(),d.isEnabled()));n.set(a,l)});let r=new vb(n);this.uniqueValuesRepository.next(t.getAggregateId(),r)}}}return i})(),SD=class{forEvent(){return zl}handle(e){}},bb=class extends Re{fieldId;constructor(e,t){super(e,"UnselectAllUniqueFilterCommand"),this.fieldId=t}getFieldId(){return this.fieldId}},TD=class{forCommand(){return bb}handle(e,t){let n=t.getFieldId();e.unselectAllUniqueFilter(n)}},yb=class extends Re{fieldId;uniqueValueId;constructor(e,t,n){super(e,"UnselectUniqueFilterCommand"),this.fieldId=t,this.uniqueValueId=n}getFieldId(){return this.fieldId}getUniqueValueId(){return this.uniqueValueId}},MD=class{forCommand(){return yb}handle(e,t){let n=t.getFieldId(),r=t.getUniqueValueId();e.unselectUniqueFilter(n,r)}},_b=class extends Re{fieldId;constructor(e,t){super(e,"SelectAllUniqueFilterCommand"),this.fieldId=t}getFieldId(){return this.fieldId}},kD=class{forCommand(){return _b}handle(e,t){let n=t.getFieldId();e.selectAllUniqueFilter(n)}},Cb=class extends Re{fieldId;uniqueValueId;constructor(e,t,n){super(e,"SelectUniqueFilterCommand"),this.fieldId=t,this.uniqueValueId=n}getFieldId(){return this.fieldId}getUniqueValueId(){return this.uniqueValueId}},AD=class{forCommand(){return Cb}handle(e,t){let n=t.getFieldId(),r=t.getUniqueValueId();e.selectUniqueFilter(n,r)}},RD=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(hb)}registerCommandHandlers(){return[hD,pD,cD,lD,uD,dD,AD,kD,MD,TD]}registerDomainEventHandler(){return[$Y,UY,ID,ED,WY,SD]}registerMultiDomainEventHandler(){return[]}},GY=(()=>{class i extends Gr{filterEnabledArchive;structureQuickFilterRepository;uniqueValuesArchive;activeFilterArchive=gb.resolve(hT);filterTypeArchive=gb.resolve(zh);constructor(t,n,r){super(),this.filterEnabledArchive=t,this.structureQuickFilterRepository=n,this.uniqueValuesArchive=r}static services=[dT,uT,$h];onFilteringEnabled(t){return this.filterEnabledArchive.on(t)}onQuickFiltersEnabled(t){return this.structureQuickFilterRepository.on(t)}onFilterTypes(t){return this.filterTypeArchive.on(t)}findFilterTypes(t){return this.filterTypeArchive.find(t)}onFilterTypesForFieldId(t,n){return this.onFilterTypes(n).pipe(ee(r=>r.getFilterTypes(t)))}onActiveFilters(t){return this.activeFilterArchive.on(t)}findFilters(t){return this.activeFilterArchive.find(t)}onUniqueValues(t){return this.uniqueValuesArchive.on(t)}onceFilterTypeId(t,n,r){return _a(this.onFilterTypes(r).pipe(ee(o=>{let l=o.getFilterTypes(t).find(d=>d.getName()===n);return l===void 0?Qt.empty():Qt.of(l.getId())})))}}return i})(),qY=(()=>{class i extends br{commandDispatcher;constructor(t){super(),this.commandDispatcher=t}static services=[wi];setConfig(t,n){this.commandDispatcher.dispatch(new cb(n,t))}add(t,n,r,o){this.commandDispatcher.dispatch(new ob(o,t,n,r))}removeAll(t){this.commandDispatcher.dispatch(new sb(t))}remove(t,n){this.commandDispatcher.dispatch(new ab(n,t))}selectAllUniqueFilter(t,n){this.commandDispatcher.dispatch(new _b(n,t))}unselectAllUniqueFilter(t,n){this.commandDispatcher.dispatch(new bb(n,t))}selectUniqueFilter(t,n,r){this.commandDispatcher.dispatch(new Cb(r,t,n))}unselectUniqueFilter(t,n,r){this.commandDispatcher.dispatch(new yb(r,t,n))}}return i})(),FD=class{registerProviders(e){e.provide(br,qY),e.provide(Gr,GY),e.provide($h),e.provide(dT),e.provide(uT),e.provide(X0)}};function ZY(){new Li(new FD,new RD).init()}ZY();function KY(){return P.resolve(br)}function YY(){return P.resolve(Gr)}function QY(){return P.resolve(X0)}var fT=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:br,useFactory:KY},{provide:Gr,useFactory:YY},{provide:X0,useFactory:QY}]})}return i})(),gL=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,nc,er,fT]})}return i})(),gT=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,fs,us,er,fT,gL]})}return i})(),XY=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[BN],imports:[ue,gT,gL,Wn]})}return i})(),JY=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[_h],imports:[ue,BY,fs,lT,fL,XY,Fo,er]})}return i})();var PD=class extends Es{warn(e){console.warn(e)}error(e){console.error(e)}};function eQ(){P.provide(Es,PD)}eQ();function tQ(){return P.resolve(Es)}var iQ=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:Es,useFactory:tQ}]})}return i})(),Uh=class{id;source;position;version=0;constructor(e,t,n,r=0){this.source=e,this.position=t,this.version=r,n?this.id=n:this.id=os.generate()}getSourceItem(){return this.source}getUiId(){return"gui"+this.id.replace(/-/g,"")}getId(){return this.id}getVersion(){return this.version}getPosition(){return this.position}isSelected(){return!1}isEven(){return this.position%2===0}isOdd(){return this.position%2===1}equals(e){return this.id===e.id&&this.getVersion()===e.getVersion()}equalsById(e){return this.id===e}},wb=class i extends ma{sourceItem;version;position;constructor(e,t,n,r=0){super(e),this.sourceItem=t,this.position=n,this.version=r}getSourceItem(){return this.sourceItem}getVersion(){return this.version}getPosition(){return this.position}bumpVersion(){this.version+=1}setPosition(e){this.position=e}clone(){let e=X({},this.sourceItem);return new i(this.getId(),e,this.version)}},OD=class{create(e){return Array.isArray(e)?this.createItems(e):this.createItem(e)}createItems(e){return e.map(t=>this.createItem(t))}createItem(e){return e instanceof wb?new Uh(e.sourceItem,e.getPosition(),e.getId().toString(),e.getVersion()):new Uh(e,0)}},xb=class extends Re{searchConfig;constructor(e,t){super(e,"SetConfigSearchingCommand"),this.searchConfig=t}getConfig(){return this.searchConfig}},Ib=class extends Be{enabled;constructor(e,t){super(e,t,"ConfigSearchingSetEvent"),this.enabled=t}isEnabled(){return this.enabled}},ND=class{domainEventPublisher=P.resolve(et);forCommand(){return xb}handle(e,t){let n=t.getConfig();e.setSearchingConfig(n)}publish(e,t){let n=t.getConfig();this.domainEventPublisher.publish(new Ib(t.getAggregateId(),n.enabled))}},Wh=class extends Re{phrase;initial;constructor(e,t,n){super(e,"SetSearchPhraseCommand"),this.phrase=t,this.initial=n}getPhrase(){return this.phrase}isInitial(){return this.initial}},Ua=class extends Be{phrase;initial;constructor(e,t,n){super(e,{phrase:t,initial:n},"SearchPhraseSetDomainEvent"),this.phrase=t,this.initial=n}getPhrase(){return this.phrase}isInitial(){return this.initial}},Wa=class extends Be{origin;constructor(e,t){super(e,t,"OriginSetEvent"),this.origin=t}getOrigin(){return this.origin}},Gh=class extends Be{values;constructor(e,t){super(e,t,"StructureSummariesChangedEvent"),this.values=t}getSummaries(){return this.values}},qh=class extends Be{preparedItems;constructor(e,t){super(e,t,"StructurePreparedEntitiesSetEvent"),this.preparedItems=t}getPreparedItems(){return this.preparedItems}},Ga=class{domainEventPublisher=P.resolve(et);publish(e){e.forEach(t=>{this.publishEvent(t)})}publishEvent(e){if(e.getType()==="StructureOriginChangedAggregateEvent"){let t=e,n=new Wa(t.getAggregateId(),t.getOrigin());this.domainEventPublisher.publish(n)}if(e.getType()==="StructureSourceItemEditedAggregateEvent"){let t=e,n=new bh(t.getAggregateId(),t.getBeforeItem(),t.getAfterItem());this.domainEventPublisher.publish(n)}if(e.getType()==="StructureSummariesChangedAggregateEvent"){let t=e,n=new Gh(t.getAggregateId(),t.getSummaries());this.domainEventPublisher.publish(n)}if(e.getType()==="StructurePreparedEntitiesSetAggregateEvent"){let t=e,n=new qh(t.getAggregateId(),t.getPreparedItems());this.domainEventPublisher.publish(n)}if(e.getType()==="UniqueFilterCalculatedAggregateEvent"){let n=e.toDomainEvent();this.domainEventPublisher.publish(n)}}},nQ=(()=>{class i{structureSourceDomainEventPublisher;domainEventPublisher=P.resolve(et);constructor(t){this.structureSourceDomainEventPublisher=t}static services=[Ga];forCommand(){return Wh}handle(t,n){let r=n.getPhrase();t.addSearchPhrase(r)}publish(t,n){let r=n.getPhrase(),o=n.isInitial();this.domainEventPublisher.publish(new Ua(n.getAggregateId(),r,o)),this.structureSourceDomainEventPublisher.publish(t.getEvents())}}return i})(),LD=class{searchFields=[];searchPhrase;enabledDataTypes=[ae.STRING];addSearchPhrase(e,t){if(!t){this.searchFields=[];return}let n=e.filter(r=>this.enabledDataTypes.some(o=>o===r.getDataType()));n.length!==0&&(this.searchFields=n,this.searchPhrase=t)}removeSearchFilters(){this.searchFields=[]}search(e){if(e.length===0||this.searchFields.length===0)return e;let t=new Set;for(let n=0;n<e.length;n+=1)this.searchFields.filter(r=>r.search(e[n],this.searchPhrase)).forEach(()=>{t.add(e[n])});return Array.from(t)}},Eb=class{create(){return new LD}},mT=(()=>{class i extends Ct{static HIGHLIGHTING=!0;constructor(){super(i.HIGHLIGHTING)}}return i})(),vT=(()=>{class i extends Ct{static PLACEHOLDER="Search...";constructor(){super(i.PLACEHOLDER)}}return i})(),mL=(()=>{class i{commandDispatcher;searchHighlightArchive;searchPlaceholderArchive;constructor(t,n,r){this.commandDispatcher=t,this.searchHighlightArchive=n,this.searchPlaceholderArchive=r}static services=[wi,mT,vT];setSearchingConfig(t,n){t.highlighting!==void 0&&t.highlighting!==null&&this.searchHighlightArchive.next(n,t.highlighting),t.placeholder!==void 0&&t.placeholder!==null&&this.searchPlaceholderArchive.next(n,t.placeholder),t.phrase!==void 0&&t.phrase!==null&&this.searchOnInit(t.phrase,n),this.commandDispatcher.dispatch(new xb(n,t))}search(t,n){this.commandDispatcher.dispatch(new Wh(n,t,!1))}searchOnInit(t,n){this.commandDispatcher.dispatch(new Wh(n,t,!0))}}return i})(),bT=(()=>{class i extends Ct{static SEARCH_PHRASE="";constructor(){super(i.SEARCH_PHRASE)}}return i})(),rQ=(()=>{class i{searchPhraseRepository;constructor(t){this.searchPhraseRepository=t}static services=[bT];forEvent(){return Ua}handle(t){t.ofMessageType("SearchPhraseSetDomainEvent")&&this.searchPhraseRepository.next(t.getAggregateId(),t.getPhrase())}}return i})(),yT=(()=>{class i extends Ct{static ENABLED=!1;constructor(){super(i.ENABLED)}}return i})(),oQ=(()=>{class i{searchingEnabledArchive;constructor(t){this.searchingEnabledArchive=t}static services=[yT];forEvent(){return Ib}handle(t){t.ofMessageType("ConfigSearchingSetEvent")&&this.searchingEnabledArchive.next(t.getAggregateId(),t.isEnabled())}}return i})(),jD=class extends Re{constructor(e){super(e,"RemoveSearchPhraseCommand")}},VD=class{domainEventPublisher=P.resolve(et);forCommand(){return jD}handle(e,t){e.removeSearchPhrase()}publish(e,t){this.domainEventPublisher.publish(new Hh(t.getAggregateId()))}},BD=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(Eb),e.provide(mL)}registerCommandHandlers(){return[ND,nQ,VD]}registerDomainEventHandler(){return[rQ,oQ]}registerMultiDomainEventHandler(){return[]}},sQ=(()=>{class i extends Yr{searchingEnabledArchive;searchPhraseArchive;searchHighlightArchive;searchPlaceholderArchive;constructor(t,n,r,o){super(),this.searchingEnabledArchive=t,this.searchPhraseArchive=n,this.searchHighlightArchive=r,this.searchPlaceholderArchive=o}static services=[yT,bT,mT,vT];onSearchEnabled(t){return this.searchingEnabledArchive.on(t)}onPhrase(t){return this.searchPhraseArchive.on(t)}onHighlight(t){return this.searchHighlightArchive.on(t)}onPlaceholder(t){return this.searchPlaceholderArchive.on(t)}}return i})(),HD=class extends Zr{constructor(){super()}onSearchPhrase(e){return this.onEvent(e,Ua).pipe(nt(t=>t.isInitial()===!1),ee(t=>t.getPhrase()),nt(t=>t!==null))}},aQ=(()=>{class i extends xn{searchDispatcher;constructor(t){super(),this.searchDispatcher=t}static services=[mL];setSearchingConfig(t,n){this.searchDispatcher.setSearchingConfig(t,n)}search(t,n){this.searchDispatcher.search(t,n)}}return i})(),zD=class{registerProviders(e){e.provide(xn,aQ),e.provide(Yr,sQ),e.provide(Zr,HD),e.provide(bT),e.provide(mT),e.provide(vT),e.provide(yT)}};function cQ(){new Li(new zD,new BD).init()}cQ();function lQ(){return P.resolve(xn)}function uQ(){return P.resolve(Yr)}function dQ(){return P.resolve(Zr)}var vL=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:xn,useFactory:lQ},{provide:Yr,useFactory:uQ},{provide:Zr,useFactory:dQ}],imports:[ue,fs,us,er]})}return i})(),hQ=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,us,gT,vL]})}return i})(),pQ=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,nc,er,fT]})}return i})();var bL=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({})}return i})();var yL=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({})}return i})();var fQ=[bL,yL],gQ=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,nc,er,lT,pQ,Fo,fQ]})}return i})();var mQ=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue,Fo]})}return i})(),Db=class extends Re{compositionId;fieldId;constructor(e,t,n){super(e,"ToggleSortCommand"),this.compositionId=t,this.fieldId=n}getCompositionId(){return this.compositionId}getFieldId(){return this.fieldId}},$D=class{domainEventPublisher=P.resolve(et);forCommand(){return Db}handle(e,t){let n=t.getAggregateId(),r=t.getCompositionId(),o=t.getFieldId(),a=e.toggleSort(o);this.publishSortEvent(n,r,o,a)}publish(e,t){}publishSortEvent(e,t,n,r){let o=r.map(a=>({direction:a.hasDirection(),fieldId:a.getField().getId()}));this.domainEventPublisher.publish(new Rh(e,t,o))}},Sb=class extends Re{sortingConfig;constructor(e,t){super(e,"SetSortingCommand"),this.sortingConfig=t}getSortingConfig(){return this.sortingConfig}},UD=class extends Be{constructor(e){super(e,null,"SortingSetEvent")}},WD=class{domainEventPublisher=P.resolve(et);forCommand(){return Sb}handle(e,t){let n=t.getSortingConfig();e.setSortingConfig(n)}publish(e,t){this.domainEventPublisher.publish(new UD(t.getAggregateId()))}},Tb=class extends Re{compositionId;fieldId;sortOrder;constructor(e,t,n,r){super(e,"SetSortOrderCommand"),this.compositionId=t,this.fieldId=n,this.sortOrder=r}getCompositionId(){return this.compositionId}getFieldId(){return this.fieldId}getSortOrder(){return this.sortOrder}},GD=class{domainEventPublisher=P.resolve(et);forCommand(){return Tb}handle(e,t){let n=t.getAggregateId(),r=t.getCompositionId(),o=t.getFieldId(),a=t.getSortOrder(),l=e.setSortOrder(o,a);this.publishSortEvent(n,r,o,l)}publish(e,t){}publishSortEvent(e,t,n,r){let o=r.map(a=>({direction:a.hasDirection(),fieldId:a.getField().getId()}));this.domainEventPublisher.publish(new Ph(e,t,o))}},Mb=class{commandDispatcher=P.resolve(wi);setSortingConfig(e,t){this.commandDispatcher.dispatch(new Sb(t,e))}toggleSort(e,t,n){this.commandDispatcher.dispatch(new Db(n,t,e))}setSortOrder(e,t,n,r){this.commandDispatcher.dispatch(new Tb(r,n,e,t))}},qD=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(Mb)}registerCommandHandlers(){return[$D,WD,GD]}registerDomainEventHandler(){return[]}registerMultiDomainEventHandler(){return[]}},vQ=(()=>{class i extends In{sortingDispatcher;constructor(t){super(),this.sortingDispatcher=t}static services=[Mb];setSortingConfig(t,n){this.sortingDispatcher.setSortingConfig(t,n)}toggleSort(t,n,r){this.sortingDispatcher.toggleSort(t,n,r)}setSortOrder(t,n,r,o){this.sortingDispatcher.setSortOrder(t,n,r,o)}}return i})(),ZD=class{registerProviders(e){e.provide(In,vQ)}};function bQ(){new Li(new ZD,new qD).init()}bQ();function yQ(){return P.resolve(In)}var _Q=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:In,useFactory:yQ}],imports:[ue]})}return i})(),_T=(()=>{class i extends Ct{static default=[];constructor(){super(i.default)}}return i})(),KD=class{id;dataType;name;constructor(e,t,n){this.id=e,this.dataType=t,this.name=n}getFieldId(){return this.id}getId(){return this.id.getId()}getDataType(){return this.dataType}getName(){return this.name}},kb=class{convert(e){return e.map(t=>this.convertOne(t))}convertOne(e){return new KD(e.getId(),e.getDataType(),e.getName())}},YD=class{fieldFactory;fields=new Map;constructor(e){this.fieldFactory=e}getField(e){return e===null?this.getAllFields()[0]:this.fields.get(e.getId())}getAllFieldIds(){return Array.from(this.fields.keys())}getAllFields(){return Array.from(this.fields.values())}getFieldsAsMap(){return this.fields}initFields(e){let t=this.fieldFactory.create(e);this.clear(),this.addFields(t)}addFields(e){for(let t of e)this.addField(t)}addField(e){this.fields.set(e.getId().toString(),e)}clear(){this.fields.clear()}},QD=class i extends ma{id;field;name;constructor(e,t,n){super(e),this.id=e,this.field=t,this.name=n}static of(e,t,n){return new i(e,t,n)}getId(){return this.id}getKey(){return this.getId().toString()}getDataType(){return this.field.getDataType()}getName(){return this.name}getField(){return this.field}getAccessor(){return this.field.getAccessor()}getAccessorMethod(){return this.field.getAccessorMethod()}getSearchAccessorMethod(){return this.field.getSearchAccessorMethod()}getValue(e){return this.field.getValue(e)}getDisplayValue(e){return this.field.getDisplayValue(e)}isSummaries(e){return this.field.isSummaries(e)}isSummariesEnabled(){return this.field.isSummariesEnabled()}search(e,t){return this.field.search(e,t)}filter(e,t){let n=this.field.getValue(e);return this.field.getDataType()===ae.NUMBER?this.field.filter(n,t):this.field.getDataType()===ae.BOOLEAN?this.field.filter(n,t):this.field.getDataType()===ae.STRING?this.field.filter(n,t):this.field.getDataType()===ae.DATE?this.field.filter(n,t):!0}sort(e,t,n){let r=n?this.field.getSortValue(e):this.field.getSortValue(t),o=n?this.field.getSortValue(t):this.field.getSortValue(e);return this.field.getDataType()===ae.NUMBER?this.field.sort(r,o):this.field.getDataType()===ae.BOOLEAN?this.field.sort(r,o):this.field.getDataType()===ae.STRING?this.field.sort(r,o):this.field.getDataType()===ae.DATE?this.field.sort(r,o):0}},XD=class{accessor;dataType;accessorMethod;matchers;constructor(e,t,n){this.accessor=e,this.dataType=t,this.matchers=n,typeof e=="string"?this.accessorMethod=r=>r.getSourceItem()[e]:typeof e=="function"?this.accessorMethod=r=>e(r.getSourceItem()):this.accessorMethod=r=>r}getDataType(){return this.dataType}getAccessor(){return this.accessor}getAccessorMethod(){return this.accessorMethod}getMatchers(){return this.matchers}getSearchAccessorMethod(){let e;return this.matchers.getSearchMatcher().ifPresent(t=>{e=t}),e?t=>{let n=this.accessorMethod(t);return e(n)}:t=>this.accessorMethod(t)}getValue(e){return this.accessorMethod(e)}getSortValue(e){let t=this.accessorMethod(e);return this.matchers.getSortMatcher().ifPresent(n=>{t=n(t)}),t}getSearchValue(e){let t=this.accessorMethod(e);return this.matchers.getSearchMatcher().ifPresent(n=>{t=n(t)}),t}},qa=class extends XD{summariesEnabled=!0;summariesTypes;possibleSummaries;constructor(e,t,n,r){super(e,t,n),this.possibleSummaries=this.assignPossibleSummaries(),this.assignSummaries(r)}isSummaries(e){return this.isSummariesEnabled()?!!(this.summariesTypes&e):!1}isSummariesEnabled(){return this.summariesEnabled}setSummariesEnabled(e){this.summariesEnabled=e}assignSummaries(e){e&&Object.keys(e).length!==0?(e.enabled&&(this.summariesEnabled=!!e.enabled),e.summariesTypes?(this.summariesTypes=ye.DISTINCT,e.summariesTypes.forEach(t=>{this.summariesTypes|=t})):this.summariesTypes=this.assignDefaultSummaries()):this.summariesTypes=this.assignDefaultSummaries()}},Ab=class extends qa{constructor(e,t,n){super(e,ae.UNKNOWN,t,n)}assignDefaultSummaries(){return ye.DISTINCT}assignPossibleSummaries(){return ye.COUNT|ye.DISTINCT}search(e,t){return!1}sort(e,t){return 0}filter(e,t){return!1}equals(e,t){return!1}getDisplayValue(e){return e}},JD=class extends qa{constructor(e,t,n){super(e,ae.NUMBER,t,n)}getField(){return this}assignDefaultSummaries(){return ye.DISTINCT}assignPossibleSummaries(){return ye.COUNT|ye.DISTINCT|ye.SUM|ye.MIN|ye.MAX|ye.AVERAGE|ye.MEDIAN}search(e,t){return!1}sort(e,t){let n=+e,r=+t;return n-r}filter(e,t){return e>t}equals(e,t){return this.getValue(e)===t}getDisplayValue(e){return`${e}`}},eS=class extends qa{constructor(e,t,n){super(e,ae.STRING,t,n)}assignDefaultSummaries(){return ye.DISTINCT}assignPossibleSummaries(){return ye.COUNT|ye.DISTINCT}search(e,t){let n=this.getSearchValue(e);return typeof n=="string"?n.toLowerCase().indexOf(t.toLowerCase())>-1:!1}sort(e,t){let n=""+e,r=""+t;return n.localeCompare(r)}filter(e,t){return e.toLowerCase().indexOf(t.toLowerCase())>-1}equals(e,t){return this.getValue(e)===t}getDisplayValue(e){return e}},tS=class extends qa{constructor(e,t,n){super(e,ae.BOOLEAN,t,n)}assignDefaultSummaries(){return ye.DISTINCT}assignPossibleSummaries(){return ye.COUNT|ye.DISTINCT|ye.TRUTHY|ye.FALSY}search(e,t){return!1}sort(e,t){let n=!!e,r=!!t;return n===r?0:r?-1:1}filter(e,t){return e===t}equals(e,t){return this.getValue(e)===t}getDisplayValue(e){return e?"True":"False"}},iS=class extends qa{constructor(e,t,n){super(e,ae.DATE,t,n)}assignDefaultSummaries(){return ye.DISTINCT}assignPossibleSummaries(){return ye.COUNT|ye.DISTINCT}search(e,t){return!1}sort(e,t){return e-t}filter(e,t){return!1}equals(e,t){return this.getValue(e).getTime()===t.getTime()}getDisplayValue(e){return e.toDateString()}},nS=class{matcher;sortMatcher;searchMatcher;constructor(e,t,n){this.matcher=e,this.sortMatcher=t,this.searchMatcher=n}getMatcher(){return Qt.of(this.matcher)}getSortMatcher(){let e;return this.sortMatcher&&(e=this.sortMatcher),this.matcher&&(e=this.matcher),Qt.of(e)}getSearchMatcher(){let e;return this.searchMatcher&&(e=this.searchMatcher),this.matcher&&(e=this.matcher),Qt.of(e)}},Rb=class{create(e){let t=this.createMatchers(e),n=e.type;return n===void 0&&(n=ae.STRING),n===ae.UNKNOWN?new Ab(e.field,t,e.summaries):n===ae.NUMBER?new JD(e.field,t,e.summaries):n===ae.STRING?new eS(e.field,t):n===ae.BOOLEAN?new tS(e.field,t):n===ae.DATE?new iS(e.field,t):new Ab(e.field,t,e.summaries)}createMatchers(e){let t=e.matcher,n;return e.sorting&&(n=e.sorting.matcher),new nS(t,n)}},Fb=class{generateId(){let e=os.generate();return new ka(e)}},_L=(()=>{class i{fieldIdGenerator;dataFieldFactory;constructor(t,n){this.fieldIdGenerator=t,this.dataFieldFactory=n}static services=[Fb,Rb];create(t){return t?t.map((n,r)=>{let o=this.fieldIdGenerator.generateId(),a=this.dataFieldFactory.create(n);return new QD(o,a,this.getFieldName(n,r))}):[]}getFieldName(t,n){return typeof t.field=="string"?t.field.toLowerCase():"Field #"+n}}return i})(),CL=(()=>{class i{fieldFactory;constructor(t){this.fieldFactory=t}static services=[_L];create(){return new YD(this.fieldFactory)}}return i})(),rS=class{forCommand(){return mh}handle(e,t){let n=t.getFieldConfigs();e.createFields(n)}},CQ=(()=>{class i{fieldArchive;fieldConverter;constructor(t,n){this.fieldArchive=t,this.fieldConverter=n}static services=[_T,kb];forEvent(){return zl}handle(t){if(t.ofMessageType("FieldsInitedEvent")){let n=this.fieldConverter.convert(t.getFields());this.fieldArchive.next(t.getAggregateId(),n)}}}return i})(),oS=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(CL),e.provide(_L),e.provide(Fb),e.provide(Rb)}registerCommandHandlers(){return[rS]}registerDomainEventHandler(){return[CQ]}registerMultiDomainEventHandler(){return[]}},wQ=(()=>{class i extends $a{fieldReadModelArchive;constructor(t){super(),this.fieldReadModelArchive=t}static services=[_T];onFields(t){return this.fieldReadModelArchive.on(t)}findFields(t){return this.fieldReadModelArchive.find(t)}}return i})(),xQ=(()=>{class i extends ja{commandDispatcher;constructor(t){super(),this.commandDispatcher=t}static services=[wi];initFields(t,n){this.commandDispatcher.dispatch(new mh(n,t))}}return i})(),sS=class{registerProviders(e){e.provide(ja,xQ),e.provide(_T),e.provide(kb),e.provide($a,wQ)}};function IQ(){new Li(new sS,new oS).init()}IQ();function EQ(){return P.resolve(ja)}function DQ(){return P.resolve($a)}var SQ=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:ja,useFactory:EQ},{provide:$a,useFactory:DQ}],imports:[ue]})}return i})(),Pb=class extends Re{enabled;constructor(e,t){super(e,"StructureSetSummariesEnabledCommand"),this.enabled=t}isEnabled(){return this.enabled}},TQ="StructureSummariesEnabledSetEvent",Ob=class extends Be{enabled;constructor(e,t){super(e,t,TQ),this.enabled=t}isEnabled(){return this.enabled}},MQ=(()=>{class i{structureSourceDomainEventPublisher;domainEventPublisher=P.resolve(et);constructor(t){this.structureSourceDomainEventPublisher=t}static services=[Ga];forCommand(){return Pb}handle(t,n){let r=n.isEnabled();t.setSummariesEnabled(r)}publish(t,n){let r=n.isEnabled(),o=t.getEvents();this.domainEventPublisher.publish(new Ob(n.getAggregateId(),r)),this.structureSourceDomainEventPublisher.publish(o)}}return i})(),aS=class extends Pt{summarizedValues;constructor(e,t){super(e,"StructureSummariesChangedAggregateEvent"),this.summarizedValues=t}toDomainEvent(){return new Gh(this.getAggregateId(),this.summarizedValues)}getSummaries(){return this.summarizedValues}},cS=(()=>{class i{calculators;static DEFAULT_ENABLED=!1;structureId;enabled;values=new Map;constructor(t,n){this.calculators=n,this.structureId=t,this.enabled=i.DEFAULT_ENABLED}calculate(t,n){if(!this.enabled)return[];let r=new Map;return this.calculators.forEach(o=>{let a=o.calculate(t,n);a&&Array.from(a.keys()).forEach(l=>{r.set(l,a.get(l))})}),r.size>0?[new aS(this.structureId,r)]:[]}setEnabled(t){this.enabled=t}add(){}remove(){}update(){}}return i})(),Jl=class extends Ct{constructor(){super(cS.DEFAULT_ENABLED)}init(e){this.next(e,cS.DEFAULT_ENABLED)}},kQ=(()=>{class i{summariesEnabledArchive;constructor(t){this.summariesEnabledArchive=t}static services=[Jl];forEvent(){return Ob}handle(t){t.ofMessageType("StructureSummariesEnabledSetEvent")&&this.summariesEnabledArchive.next(t.getAggregateId(),t.isEnabled())}}return i})(),Za=class{calculate(e,t){let n=e.filter(l=>this.forDataType(l.getDataType()));if(!n||n.length===0||t.length===0)return null;let r=new Map,o=new Map;n.forEach(l=>{let d=l.getKey();r.set(d,0),o.set(d,new Set),this.prepare(l)}),t.forEach(l=>{n.forEach(d=>{let p=d.getKey(),m=d.getValue(l);if(m!==null||m!==void 0||m!==""){if(d.isSummaries(ye.COUNT)){let b=r.get(p);r.set(p,b+1)}d.isSummaries(ye.DISTINCT)&&o.get(p).add(m)}this.aggregate(d,m)})}),n.forEach(l=>{this.postCalculate(l,t)});let a=new Map;return n.forEach(l=>{let d=l.getKey(),p=this.generateAggregatedValues(l);l.isSummaries(ye.COUNT)&&p.setCount(r.get(d)),l.isSummaries(ye.DISTINCT)&&p.setDistinct(o.get(d).size),a.set(d,p)}),a}},Ka=class{count;distinct;setCount(e){this.count=e}setDistinct(e){this.distinct=e}},lS=class extends Ka{truthy;falsy;constructor(e,t){super(),this.truthy=e,this.falsy=t}},Nb=class extends Za{truthy=new Map;falsy=new Map;constructor(){super()}forDataType(e){return e===ae.BOOLEAN}prepare(e){let t=e.getKey();e.isSummaries(ye.TRUTHY)&&this.truthy.set(t,0),e.isSummaries(ye.FALSY)&&this.falsy.set(t,0)}postCalculate(e,t){}aggregate(e,t){let n=t,r=e.getKey(),o=this.truthy.get(r),a=this.falsy.get(r);n?e.isSummaries(ye.TRUTHY)&&this.truthy.set(r,o+1):e.isSummaries(ye.FALSY)&&this.falsy.set(r,a+1)}generateAggregatedValues(e){let t=e.getKey();return new lS(this.truthy.get(t),this.falsy.get(t))}},uS=class extends Ka{constructor(){super()}},Lb=class extends Za{constructor(){super()}forDataType(e){return e===ae.DATE}prepare(e){}postCalculate(e,t){}aggregate(e,t){}generateAggregatedValues(e){return new uS}},dS=class extends Ka{sum;min;max;average;median;constructor(e,t,n,r,o){super(),this.sum=this.setValueWithPrecision(e),this.min=this.setValueWithPrecision(t),this.max=this.setValueWithPrecision(n),this.average=this.setValueWithPrecision(r),this.median=this.setValueWithPrecision(o)}setValueWithPrecision(e){return!e&&e!==0?null:e===0?0:+e.toFixed(2)}},jb=class extends Za{sum=new Map;min=new Map;max=new Map;average=new Map;median=new Map;constructor(){super()}forDataType(e){return e===ae.NUMBER}prepare(e){let t=e.getKey();this.sum.set(t,0),this.min.set(t,Number.MAX_SAFE_INTEGER),this.max.set(t,0)}postCalculate(e,t){let n=e.getKey();e.isSummaries(ye.AVERAGE)&&this.average.set(n,this.sum.get(n)/t.length),e.isSummaries(ye.MEDIAN)&&this.median.set(n,e.getValue(t[Math.floor(t.length/2)]))}aggregate(e,t){let n=+t,r=e.getKey(),o=this.sum.get(r),a=this.min.get(r),l=this.max.get(r);(e.isSummaries(ye.SUM)||e.isSummaries(ye.AVERAGE))&&this.sum.set(r,o+n),e.isSummaries(ye.MIN)&&a>n&&this.min.set(r,n),e.isSummaries(ye.MAX)&&l<n&&this.max.set(r,n)}generateAggregatedValues(e){let t=e.getKey(),n=e.isSummaries(ye.SUM)?this.sum.get(t):void 0,r=e.isSummaries(ye.MIN)?this.min.get(t):void 0,o=e.isSummaries(ye.MAX)?this.max.get(t):void 0,a=e.isSummaries(ye.AVERAGE)?this.average.get(t):void 0,l=e.isSummaries(ye.MEDIAN)?this.median.get(t):void 0;return new dS(n,r,o,a,l)}},hS=class extends Ka{constructor(){super()}},Vb=class extends Za{constructor(){super()}forDataType(e){return e===ae.STRING}prepare(e){}postCalculate(e,t){}aggregate(e,t){}generateAggregatedValues(e){return new hS}},pS=class extends Ka{constructor(){super()}},Bb=class extends Za{constructor(){super()}forDataType(e){return e===ae.UNKNOWN}prepare(e){}postCalculate(e,t){}aggregate(e,t){}generateAggregatedValues(e){return new pS}},Da="GUI - Summaries Calculators",wL=(()=>{class i{calculators;constructor(t){this.calculators=t}static services=[{inject:Da,collection:!0}];create(t){return new cS(t,this.calculators)}}return i})(),Hb=class{commandDispatcher=P.resolve(wi);setSummariesEnabled(e,t){this.commandDispatcher.dispatch(new Pb(t,e))}},xL=(()=>{class i{static defaultTop=!1;static defaultBottom=!0;top=i.defaultTop;bottom=i.defaultBottom;setTop(t){this.top=t}setBottom(t){this.bottom=t}isTopEnabled(){return this.top}isBottomEnabled(){return this.bottom}}return i})(),Zh=class i extends Ct{static default=new xL;constructor(){super(i.default)}},zb=class{convert(e){let t=new xL;return e.top!==void 0&&e.top!==null&&t.setTop(e.top),e.bottom!==void 0&&e.bottom!==null&&t.setBottom(e.bottom),t}},fS=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(wL),e.provide(Hb),e.provide(Zh),e.provide(zb),e.provideCollection(Da,Nb),e.provideCollection(Da,Lb),e.provideCollection(Da,jb),e.provideCollection(Da,Vb),e.provideCollection(Da,Bb)}registerCommandHandlers(){return[MQ]}registerDomainEventHandler(){return[kQ]}registerMultiDomainEventHandler(){return[]}},AQ=(()=>{class i extends Va{summariesEnabledArchive;structureSummariesArchive;constructor(t,n){super(),this.summariesEnabledArchive=t,this.structureSummariesArchive=n}static services=[Jl,Zh];onEnabled(t){return this.summariesEnabledArchive.on(t)}onTopEnabled(t){return this.onEnabled(t).pipe(_n(n=>this.structureSummariesArchive.on(t).pipe(ee(r=>n&&r.isTopEnabled()))))}onBottomEnabled(t){return this.onEnabled(t).pipe(_n(n=>this.structureSummariesArchive.on(t).pipe(ee(r=>n&&r.isBottomEnabled()))))}}return i})(),RQ=(()=>{class i extends _s{summariesDispatcher;configConverter;structureSummariesConfigArchive;constructor(t,n,r){super(),this.summariesDispatcher=t,this.configConverter=n,this.structureSummariesConfigArchive=r}static services=[Hb,zb,Zh];setSummariesEnabled(t,n){this.summariesDispatcher.setSummariesEnabled(t,n)}setConfig(t,n){let r=this.configConverter.convert(t);this.setSummariesEnabled(t.enabled,n),this.structureSummariesConfigArchive.next(n,r)}}return i})(),gS=class extends za{constructor(){super()}onSummariesChanged(e){return this.onEvent(e,Gh)}},mS=class{registerProviders(e){e.provide(_s,RQ),e.provide(za,gS),e.provide(Va,AQ),e.provide(Jl)}};function FQ(){new Li(new mS,new fS).init()}function lh(i){return{provide:Da,useClass:i,multi:!0}}FQ();function PQ(){return P.resolve(_s)}function OQ(){return P.resolve(Va)}function NQ(){return P.resolve(za)}var LQ=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:_s,useFactory:PQ},{provide:Va,useFactory:OQ},{provide:za,useFactory:NQ},lh(Nb),lh(Lb),lh(jb),lh(Vb),lh(Bb)],imports:[ue,fs,Fo,er]})}return i})(),$b=class{start;end;margin;constructor(e,t,n){this.start=e,this.end=t,this.margin=n}getStart(){return this.start}getEnd(){return this.end}getMargin(){return this.margin}},jQ=(()=>{let i=class{containerHeight=Qt.empty();sourceHeight;isContainerHeightProperForVirtualScroll(){return this.containerHeight.isPresent()?this.containerHeight.getValueOrNullOrThrowError()>0:!1}getVisibleContainerHeight(){return this.getHeight()}getHeight(){return this.containerHeight.isPresent()?this.getContainerHeight():this.sourceHeight}getSourceHeight(){return this.sourceHeight}setContainerHeight(t){t>=0&&(this.containerHeight=Qt.of(t))}setSourceSize(t){this.sourceHeight=t}getContainerHeight(){return this.containerHeight.getValueOrNullOrThrowError()>this.sourceHeight?this.sourceHeight:this.containerHeight.getValueOrNullOrThrowError()}};return i=Sc([vI],i),i})(),Ub=class extends Be{position;constructor(e,t){super(e,t,"ScrollBarPositionSetEvent"),this.position=t}getPosition(){return this.position}},vS=class extends Pt{position;constructor(e,t){super(e,"ScrollBarPositionSetAggregateEvent"),this.position=t}toDomainEvent(){return new Ub(this.getAggregateId(),this.position)}},uh,bs,bS=(bs=class{structureId;enabled;rowHeight=uh.ROW_HEIGHT;hiddenItemsTop=uh.HIDDEN_ITEMS_TOP;hiddenItemsBottom=uh.HIDDEN_ITEMS_BOTTOM;container=new jQ;scrollPosition;range;sourceSize;logger;constructor(e,t=!1,n=0,r=0,o=0,a,l,d){this.structureId=e,this.enabled=t,this.sourceSize=r,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.container.setContainerHeight(n),this.scrollPosition=o,Number.isInteger(a)&&(this.rowHeight=a),Number.isInteger(l)&&(this.hiddenItemsTop=l),Number.isInteger(d)&&(this.hiddenItemsBottom=d),this.calculateRange()}isEnabled(){return this.enabled&&this.container.getHeight()>0&&this.sourceSize>0}getViewPortHeight(){return this.container.getVisibleContainerHeight()}getSourceHeight(){return this.container.getSourceHeight()}getRowHeight(){return this.rowHeight}getRange(){return this.range}getTopMargin(){return this.range.getStart()*this.rowHeight}calculateRange(){if(this.calcFullHeight()<=this.container.getHeight()){this.range=new $b(0,this.sourceSize,0);return}let e=Math.ceil(this.container.getHeight()/this.rowHeight),t=Math.floor(this.scrollPosition/this.rowHeight),n=t+e+this.hiddenItemsBottom,r=t;r+e>=this.sourceSize&&(r=this.sourceSize-e);let o=Math.max(t-this.hiddenItemsTop,0);return n>this.sourceSize&&(n=this.sourceSize,o=n-e),this.range=new $b(o,n,r),{start:o,end:n,topMargin:r}}setEnabled(e){this.enabled=e,this.enabled&&!this.container.isContainerHeightProperForVirtualScroll()&&this.logger.warn("Height needs to be specified in order for virtual scroll to work."),this.calculateRange()}setSourceSize(e=0){this.sourceSize=e,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.calculateRange()}setTopHiddenItemsCount(e){this.hiddenItemsTop=e,this.calculateRange()}setBottomHiddenItemsCount(e){this.hiddenItemsBottom=e,this.calculateRange()}setScrollPosition(e){this.scrollPosition=e,this.calculateRange()}scrollToIndex(e){e>=this.sourceSize&&(e=this.sourceSize),e<-1&&(e=0);let t=e*this.rowHeight;return new vS(this.structureId,t)}setViewportHeight(e){this.container.setContainerHeight(e),this.calculateRange()}setRowHeight(e){this.rowHeight=e,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.calculateRange()}setLogger(e){this.logger=e}calcFullHeight(){return this.sourceSize*this.rowHeight}},uh=bs,Kp(bs,"ROW_HEIGHT",42),Kp(bs,"HIDDEN_ITEMS_TOP",5),Kp(bs,"HIDDEN_ITEMS_BOTTOM",2),bs);bS=uh=Sc([vI],bS);var IL=(()=>{class i{logger;constructor(t){this.logger=t}static services=[Es];create(t,n=!1,r=-1,o=0,a=0,l,d,p){let m=new bS(t,n,r,o,a,l,d,p);return m.setLogger(this.logger),m}}return i})(),Wb=class extends Re{position;constructor(e,t){super(e,"SetScrollPositionCommand"),this.position=t}getPosition(){return this.position}},Kh=class extends Be{constructor(e){super(e,null,"ScrollPositionSetEvent")}},yS=class{domainEventPublisher=P.resolve(et);forCommand(){return Wb}handle(e,t){let n=t.getPosition();e.setScrollPosition(n)}publish(e,t){this.domainEventPublisher.publish(new Kh(t.getAggregateId()))}},Gb=class extends Re{enabled;constructor(e,t){super(e,"SetVerticalScrollEnabledCommand"),this.enabled=t}isEnabled(){return this.enabled}},Yh=class extends Be{constructor(e){super(e,null,"VerticalScrollEnabledSetEvent")}},_S=class{domainEventPublisher=P.resolve(et);forCommand(){return Gb}handle(e,t){let n=t.isEnabled();e.setVerticalFormationEnabled(n)}publish(e,t){this.domainEventPublisher.publish(new Yh(t.getAggregateId()))}},qb=class extends Re{theme;constructor(e,t){super(e,"SetRowHeightBasedOnThemeCommand"),this.theme=t}getTheme(){return this.theme}},Qh=class extends Be{constructor(e){super(e,null,"RowHeightSetBasedOnThemeEvent")}},CS=class{domainEventPublisher=P.resolve(et);forCommand(){return qb}handle(e,t){let n=t.getTheme();e.setTheme(n)}publish(e,t){this.domainEventPublisher.publish(new Qh(t.getAggregateId()))}},Zb=class extends Re{rowHeight;constructor(e,t){super(e,"SetRowHeightCommand"),this.rowHeight=t}getRowHeight(){return this.rowHeight}},Xh=class extends Be{constructor(e){super(e,null,"RowHeightSetEvent")}},wS=class{domainEventPublisher=P.resolve(et);forCommand(){return Zb}handle(e,t){let n=t.getRowHeight();e.getVerticalFormation().setRowHeight(n)}publish(e,t){this.domainEventPublisher.publish(new Xh(t.getAggregateId()))}},Kb=class extends Re{height;constructor(e,t){super(e,"StructureSetHeightCommand"),this.height=t}getHeight(){return this.height}},Jh=class extends Be{constructor(e){super(e,null,"StructureHeightSetEvent")}},xS=class{domainEventPublisher=P.resolve(et);forCommand(){return Kb}handle(e,t){let n=t.getHeight();e.setHeight(n)}publish(e,t){this.domainEventPublisher.publish(new Jh(t.getAggregateId()))}},CT=(()=>{class i extends Ct{static DEFAULT_POSITION=0;constructor(){super(i.DEFAULT_POSITION)}}return i})(),VQ=(()=>{class i{positionRepository;constructor(t){this.positionRepository=t}static services=[CT];forEvent(){return Ub}handle(t){t.ofMessageType("ScrollBarPositionSetEvent")&&this.positionRepository.next(t.getAggregateId(),t.getPosition())}}return i})(),Yb=class extends Re{position;constructor(e,t){super(e,"SetScrollBarPositionCommand"),this.position=t}getPosition(){return this.position}},IS=class{forCommand(){return Yb}handle(e,t){let n=t.getPosition();e.scrollToIndex(n)}},Qb=class{commandDispatcher=P.resolve(wi);setVirtualScrollEnabled(e,t){this.commandDispatcher.dispatch(new Gb(t,e))}scrollTo(e,t){this.commandDispatcher.dispatch(new Yb(t,e))}setScrollPosition(e,t){this.commandDispatcher.dispatch(new Wb(t,e))}},ES=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(IL),e.provide(Qb)}registerCommandHandlers(){return[yS,_S,CS,wS,xS,IS]}registerDomainEventHandler(){return[VQ]}registerMultiDomainEventHandler(){return[]}},BQ=(()=>{let i=class{enabled;topMargin;sourceHeight;viewportHeight;rowHeight;constructor(t,n,r,o,a){this.enabled=t,this.topMargin=n,this.sourceHeight=r,this.viewportHeight=o,this.rowHeight=a}isEnabled(){return this.enabled}getTopMargin(){return this.topMargin}getSourceHeight(){return this.sourceHeight}getViewPortHeight(){return this.viewportHeight}getRowHeight(){return this.rowHeight}};return i=Sc([Um],i),i})(),Xb=class{convert(e){let t=e.isEnabled(),n=e.getTopMargin(),r=e.getSourceHeight(),o=e.getViewPortHeight(),a=e.getRowHeight();return new BQ(t,n,r,o,a)}},eu=class extends Be{constructor(e){super(e,null,"StructureCreatedEvent")}},ep=class extends ba{},HQ=(()=>{let i=class{loading;constructor(t){this.loading=t}isLoading(){return this.loading}};return i=Sc([Um],i),i})(),Jb=class{convert(e){return new HQ(e.isLoading())}},DS=class extends Zd{paging;entities;source;verticalFormation;constructor(e,t,n,r,o){super(e),this.paging=t,this.entities=n,this.source=r,this.verticalFormation=o}getPaging(){return this.paging}getEntities(){return this.entities}getSource(){return this.source}getVerticalFormation(){return this.verticalFormation}getTopMargin(){return this.verticalFormation.getTopMargin()}isLoaderVisible(){return this.getSource().isLoading()}getSourceHeight(){return this.verticalFormation.getSourceHeight()}isReadyToDisplay(){return this.entities.length>0}isVerticalScrollEnabled(){return this.verticalFormation.isEnabled()}},EL=(()=>{class i{pagingConverter;sourceConverter;verticalFormationConverter;constructor(t,n,r){this.pagingConverter=t,this.sourceConverter=n,this.verticalFormationConverter=r}static services=[Sv,Jb,Xb];convert(t){let n=t.getPaging(),r=t.getEntities(),o=t.getSource(),a=t.getVerticalFormation();return new DS(t.getId().toReadModelRootId(),this.pagingConverter.convert(n),this.convertSource(r),this.sourceConverter.convert(o),this.verticalFormationConverter.convert(a))}convertSource(t){return t.map(n=>new Uh(n.sourceItem,n.getPosition(),n.getId().toString(),n.getVersion()))}}return i})(),wT=(()=>{class i extends Kd{inMemoryProjectStore;structureConverter;constructor(t,n){super(t),this.inMemoryProjectStore=t,this.structureConverter=n}static services=[ep,EL];toReadModel(t){return this.structureConverter.convert(t)}}return i})(),Ya=class extends mo{},Qa=class extends Ya{theme;constructor(e,t){super(e,t,"SchemaThemeSetEvent"),this.theme=t}getTheme(){return this.theme}},tp=class extends Be{constructor(e){super(e,null,"UniqueFilterUnselectedEvent")}},ip=class extends Be{constructor(e){super(e,null,"AllUniqueFilterUnselectedEvent")}},np=class extends Be{constructor(e){super(e,null,"AllUniqueFilterSelectedEvent")}},rp=class extends Be{constructor(e){super(e,null,"UniqueFilterSelectedEvent")}},DL=(()=>{class i extends Mi{inMemoryStructureReadStore;verticalFormation=new Map;verticalFormation$=new nn(1);domainEventBus=P.resolve($n);constructor(t){super(),this.inMemoryStructureReadStore=t,this.domainEventBus.ofEvents([eu,Yh,Wa,Jh,Xh,Qa,Qh,Kh,Ua,tp,ip,np,rp,$l,xh,Ds]).pipe(this.hermesTakeUntil()).subscribe(n=>{let r=n.getAggregateId();this.inMemoryStructureReadStore.getById(r).ifPresent(a=>{let l=a.getVerticalFormation();this.next(r,l)})})}static services=[wT];onVerticalScrollEnabled(t){return this.onVerticalFormation(t).pipe(ee(n=>n.isEnabled()),Un())}onRowHeight(t){return this.onVerticalFormation(t).pipe(ee(n=>n.getRowHeight()),Un())}onContainerHeight(t){return this.onVerticalFormation(t).pipe(ee(n=>n.getViewPortHeight()),Un())}onTopMargin(t){return this.onVerticalFormation(t).pipe(ee(n=>n.getTopMargin()),Un())}onVerticalFormation(t){return this.verticalFormation$.toObservable().pipe(nt(n=>{let r=t.getId();return n.has(r)}),ee(n=>n.get(t.getId())))}next(t,n){this.verticalFormation.set(t.toString(),n),this.verticalFormation$.next(this.verticalFormation)}}return i})(),zQ=(()=>{class i extends Ro{verticalFormationRepository;positionRepository;constructor(t,n){super(),this.verticalFormationRepository=t,this.positionRepository=n}static services=[DL,CT];onEnabled(t){return this.verticalFormationRepository.onVerticalScrollEnabled(t)}onRowHeight(t){return this.verticalFormationRepository.onRowHeight(t)}onContainerHeight(t){return this.verticalFormationRepository.onContainerHeight(t)}onTopMargin(t){return this.verticalFormationRepository.onTopMargin(t)}onScrollBarPosition(t){return this.positionRepository.on(t)}}return i})(),Xa=class{constructor(){}},$Q=(()=>{class i extends Xa{verticalFormationDispatcher;constructor(t){super(),this.verticalFormationDispatcher=t}static services=[Qb];enableVirtualScroll(t){this.verticalFormationDispatcher.setVirtualScrollEnabled(!0,t)}disableVirtualScroll(t){this.verticalFormationDispatcher.setVirtualScrollEnabled(!1,t)}scrollToTop(t){this.verticalFormationDispatcher.scrollTo(0,t)}scrollToBottom(t){this.verticalFormationDispatcher.scrollTo(Number.MAX_SAFE_INTEGER,t)}scrollToIndex(t,n){this.verticalFormationDispatcher.scrollTo(t,n)}setScrollPosition(t,n){this.verticalFormationDispatcher.setScrollPosition(t,n)}}return i})(),SS=class{registerProviders(e){e.provide(Xb),e.provide(DL),e.provide(Ro,zQ),e.provide(Xa,$Q),e.provide(CT)}};function UQ(){new Li(new SS,new ES).init()}UQ();function WQ(){return P.resolve(Xa)}function GQ(){return P.resolve(Ro)}var qQ=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:Xa,useFactory:WQ},{provide:Ro,useFactory:GQ}],imports:[ue]})}return i})(),e0=class extends da{},t0=class extends ba{},SL=(()=>{class i extends va{constructor(t){super(t)}static services=[t0]}return i})(),TL=(()=>{class i extends e0{inMemorySchemaAggregateStore;constructor(t){super(),this.inMemorySchemaAggregateStore=t}static services=[SL];findById(t){return this.inMemorySchemaAggregateStore.findById(t)}save(t){this.inMemorySchemaAggregateStore.save(t)}}return i})(),tu=class extends rs{},i0=class extends tu{theme;constructor(e,t){super(e,"SetSchemaThemeCommand"),this.theme=t}getTheme(){return this.theme}},TS=class{forCommand(){return i0}handle(e,t){let n=t.getTheme();e.changeTheme(n)}},n0=class extends tu{coloring;constructor(e,t){super(e,"SetRowColoringCommand"),this.coloring=t}getColoring(){return this.coloring}},MS=class{forCommand(){return n0}handle(e,t){let n=t.getColoring();e.setRowColoring(n)}},r0=class extends tu{enabled;constructor(e,t){super(e,"SetSchemaHorizontalGridCommand"),this.enabled=t}isEnabled(){return this.enabled}},kS=class{domainEventPublisher=P.resolve(et);forCommand(){return r0}handle(e,t){let n=t.isEnabled();e.setHorizontalGrid(n)}publish(e,t){this.domainEventPublisher.publishFromAggregate(e)}},o0=class extends tu{enabled;constructor(e,t){super(e,"SetSchemaVerticalGridCommand"),this.enabled=t}isEnabled(){return this.enabled}},AS=class{domainEventPublisher=P.resolve(et);forCommand(){return o0}handle(e,t){let n=t.isEnabled();e.setVerticalGrid(n)}publish(e,t){this.domainEventPublisher.publishFromAggregate(e)}},op=class extends Ct{constructor(){super()}},iu=class extends Ya{rowColoring;constructor(e,t){super(e,t,"RowColoringSetEvent"),this.rowColoring=t}getRowColoring(){return this.rowColoring}},nu=class extends Ya{horizontalGrid;constructor(e,t){super(e,t,"SchemaHorizontalGridSetEvent"),this.horizontalGrid=t}getHorizontalGrid(){return this.horizontalGrid}},ru=class extends Ya{verticalGrid;constructor(e,t){super(e,t,"SchemaVerticalGridSetEvent"),this.verticalGrid=t}getVerticalGrid(){return this.verticalGrid}},RS=class{verticalGrid;horizontalGrid;theme;rowColoring;constructor(e,t,n,r){this.verticalGrid=e,this.horizontalGrid=t,this.theme=n,this.rowColoring=r}getRowColoring(){return this.rowColoring}},ZQ=(()=>{class i{schemaCssClassesRepository;rowColoring;horizontalGrid;verticalGrid;schemaTheme;constructor(t){this.schemaCssClassesRepository=t}static services=[op];forEvents(){return[Qa,iu,nu,ru]}handle(t){t.ofMessageType("RowColoringSetEvent")&&(this.rowColoring=t.getRowColoring()),t.ofMessageType("SchemaHorizontalGridSetEvent")&&(this.horizontalGrid=t.getHorizontalGrid()),t.ofMessageType("SchemaVerticalGridSetEvent")&&(this.verticalGrid=t.getVerticalGrid()),t.ofMessageType("SchemaThemeSetEvent")&&(this.schemaTheme=t.getTheme()),this.publish(t.getAggregateId())}publish(t){this.rowColoring!==void 0&&this.horizontalGrid!==void 0&&this.verticalGrid!==void 0&&this.schemaTheme!==void 0&&this.schemaCssClassesRepository.next(t,new RS(this.verticalGrid,this.horizontalGrid,this.schemaTheme,this.rowColoring))}}return i})(),mN="SchemaAggregate",s0=class extends vr{constructor(){super()}forEvent(){return ru}},a0=class extends vr{constructor(){super()}forEvent(){return Qa}},c0=class extends vr{constructor(){super()}forEvent(){return iu}},l0=class extends vr{constructor(){super()}forEvent(){return nu}},u0=class extends Yd{constructor(e){super(e,"CreateSchemaCommand")}},FS=class{forCommand(){return u0}},Ja=class extends ua{},PS=class extends Ja{theme;constructor(e,t){super(e,"SchemaThemeSetAggregateEvent"),this.theme=t}toDomainEvent(){return new Qa(this.getAggregateId(),this.theme)}},OS=class extends Ja{rowColoring;constructor(e,t){super(e,"RowColoringSetEvent"),this.rowColoring=t}toDomainEvent(){return new iu(this.getAggregateId(),this.rowColoring)}},NS=class extends Ja{verticalGrid;constructor(e,t){super(e,"SchemaHorizontalGridSetEvent"),this.verticalGrid=t}toDomainEvent(){return new ru(this.getAggregateId(),this.verticalGrid)}},LS=class extends Ja{horizontalGrid;constructor(e,t){super(e,"SchemaHorizontalGridSetEvent"),this.horizontalGrid=t}toDomainEvent(){return new nu(this.getAggregateId(),this.horizontalGrid)}},jS=class extends Ya{constructor(e){super(e,null,"SchemaCreatedEvent")}},VS=class extends Ja{constructor(e){super(e,"SchemaCreatedAggregateEvent")}toDomainEvent(){return new jS(this.getAggregateId())}},d0=class i extends ha{static DEFAULT_THEME=se.GENERIC;static DEFAULT_ROW_COLORING=Ut.ODD;static DEFAULT_VERTICAL_GRID=!0;static DEFAULT_HORIZONTAL_GRID=!0;horizontalGrid;verticalGrid;theme;rowColoring;constructor(e){super(e,"SchemaAggregate"),this.setTheme(i.DEFAULT_THEME),this.setHorizontalGrid(i.DEFAULT_HORIZONTAL_GRID),this.setVerticalGrid(i.DEFAULT_VERTICAL_GRID),this.setRowColoring(i.DEFAULT_ROW_COLORING)}createEvent(){return VS}changeTheme(e){this.setTheme(e),e===se.MATERIAL&&(this.setRowColoring(Ut.NONE),this.setVerticalGrid(!1)),e===se.LIGHT&&(this.setRowColoring(Ut.NONE),this.setVerticalGrid(!1)),e===se.DARK&&(this.setRowColoring(Ut.NONE),this.setVerticalGrid(!1)),e===se.GENERIC&&this.setRowColoring(Ut.ODD)}setRowColoring(e){this.rowColoring=e,this.addEvent(new OS(this.getId(),this.rowColoring))}setVerticalGrid(e){this.verticalGrid=e,this.addEvent(new NS(this.getId(),this.verticalGrid))}setHorizontalGrid(e){this.horizontalGrid=e,this.addEvent(new LS(this.getId(),this.horizontalGrid))}setTheme(e){this.theme=e,this.addEvent(new PS(this.getId(),this.theme))}},BS=class extends la{constructor(){super()}create(e){return new d0(e)}},sp=class extends Ct{constructor(){super()}},ap=class extends Ct{constructor(){super()}},HS=class{defineAggregate(){return{aggregateKey:mN,createCommandHandler:FS,factory:BS,repository:TL}}registerKey(){return mN}registerProviders(e){e.provide(sp),e.provide(ap)}registerCommandHandlers(){return[TS,MS,kS,AS]}registerDomainEventHandler(){return[a0,l0,c0,s0]}registerMultiDomainEventHandler(){return[ZQ]}},h0=class{commandDispatcher=P.resolve(wi);create(e){this.commandDispatcher.dispatch(new u0(e))}setTheme(e,t){this.commandDispatcher.dispatch(new i0(t,e))}setRowColoring(e,t){this.commandDispatcher.dispatch(new n0(t,e))}setVerticalGrid(e,t){this.commandDispatcher.dispatch(new o0(t,e))}setHorizontalGrid(e,t){this.commandDispatcher.dispatch(new r0(t,e))}},KQ=(()=>{class i extends cn{schemaDispatcher;structurePublisher;fabricModalThemeService;schemaRowClassArchive;schemaRowStyleArchive;constructor(t,n,r,o,a){super(),this.schemaDispatcher=t,this.structurePublisher=n,this.fabricModalThemeService=r,this.schemaRowClassArchive=o,this.schemaRowStyleArchive=a}static services=[h0,ln,Gn,sp,ap];create(t){this.schemaDispatcher.create(t.toAggregateId())}setTheme(t,n,r){this.schemaDispatcher.setTheme(t,n.toAggregateId()),this.fabricModalThemeService.changeTheme(this.toFabricTheme(t)),this.structurePublisher.setRowHeightBasedOnTheme(t,r)}setRowColoring(t,n){let r=this.toSchemaRowColoring(t);this.schemaDispatcher.setRowColoring(r,n.toAggregateId())}setVerticalGrid(t,n){this.schemaDispatcher.setVerticalGrid(t,n.toAggregateId())}setHorizontalGrid(t,n){this.schemaDispatcher.setHorizontalGrid(t,n.toAggregateId())}setRowClass(t,n){return this.schemaRowClassArchive.next(n.toAggregateId(),t)}setRowStyle(t,n){return this.schemaRowStyleArchive.next(n.toAggregateId(),t)}toSchemaRowColoring(t){switch(t){case fi.NONE:return Ut.NONE;case fi.ODD:return Ut.ODD;case fi.EVEN:return Ut.EVEN;default:return Ut.NONE}}toFabricTheme(t){switch(t){case se.DARK:return st.DARK;case se.FABRIC:return st.FABRIC;case se.GENERIC:return st.GENERIC;case se.LIGHT:return st.LIGHT;case se.MATERIAL:return st.MATERIAL;default:return st.FABRIC}}}return i})(),YQ=(()=>{class i extends En{schemaCssClassesRepository;schemaThemeRepository;schemaHorizontalGridRepository;schemaRowColoringRepository;schemaVerticalGridRepository;schemaRowClassArchive;schemaRowStyleArchive;constructor(t,n,r,o,a,l,d){super(),this.schemaCssClassesRepository=t,this.schemaThemeRepository=n,this.schemaHorizontalGridRepository=r,this.schemaRowColoringRepository=o,this.schemaVerticalGridRepository=a,this.schemaRowClassArchive=l,this.schemaRowStyleArchive=d}static services=[op,a0,l0,c0,s0,sp,ap];onTheme(t){return this.schemaThemeRepository.on(t.toAggregateId())}onceTheme(t){return _a(this.onTheme(t))}findTheme(t){return this.schemaThemeRepository.find(t.toAggregateId())}onHorizontalGrid(t){return this.schemaHorizontalGridRepository.on(t.toAggregateId())}onVerticalGrid(t){return this.schemaVerticalGridRepository.on(t.toAggregateId())}onRowColoring(t){return this.schemaRowColoringRepository.on(t.toAggregateId())}onCssClasses(t){return this.schemaCssClassesRepository.on(t.toAggregateId())}onRowClass(t){return this.schemaRowClassArchive.on(t.toAggregateId())}onRowStyle(t){return this.schemaRowStyleArchive.on(t.toAggregateId())}}return i})(),zS=class extends Kr{constructor(){super()}onThemeChanged(e){return this.onEvent(e,Qa).pipe(ee(t=>t.getTheme()))}onHorizontalGridChanged(e){return this.onEvent(e,nu).pipe(ee(t=>t.getHorizontalGrid()))}onVerticalGridChanged(e){return this.onEvent(e,ru).pipe(ee(t=>t.getVerticalGrid()))}onRowColoring(e){return this.onEvent(e,iu).pipe(ee(t=>t.getRowColoring()))}},$S=class{registerProviders(e){e.provide(h0),e.provide(e0,TL),e.provide(SL),e.provide(t0),e.provide(cn,KQ),e.provide(En,YQ),e.provide(Kr,zS),e.provide(op)}},QQ=()=>{new Li(new $S,new HS).init()};function XQ(){return P.resolve(cn)}function JQ(){return P.resolve(En)}function eX(){return P.resolve(Kr)}QQ();var tX=(()=>{class i extends pi{constructor(){super()}static forComponent(){return[]}static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:cn,useFactory:XQ},{provide:En,useFactory:JQ},{provide:Kr,useFactory:eX}],imports:[ue]})}return i})(),ML=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[ue]})}return i})();XK();function iX(){return P.resolve(Yn)}function nX(){return P.resolve(an)}function rX(){return P.resolve(xs)}function oX(){return P.resolve(ws)}function sX(){return P.resolve(Oa)}var aX=(()=>{class i extends pi{constructor(t){super(),P.provideValue(Lt,t)}static forComponent(){return[]}static \u0275fac=function(n){return new(n||i)(M(Lt))};static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:Yn,useFactory:iX},{provide:an,useFactory:nX},{provide:xs,useFactory:rX},mp,oT,ib,aT,nb,{provide:ws,useFactory:oX},{provide:Oa,useFactory:sX}],imports:[ue,us,ML,ds,xo,Wn,Io,ev,ds,xo,Wn,Io]})}return i})(),cX=[KN,YN,QN,XN,JN,eL,tL,iL,nL,rL,oL,sL,aL,cL,lL,uL,dL,hL,pL],p0=class extends Be{constructor(e){super(e,null,"SetSourceLoadingEvent")}},f0=class extends Re{enabled;constructor(e,t){super(e,"SourceSetLoadingCommand"),this.enabled=t}isEnabled(){return this.enabled}},US=class{domainEventPublisher=P.resolve(et);forCommand(){return f0}handle(e,t){let n=t.isEnabled();e.getSource().setLoading(n)}publish(e,t){this.domainEventPublisher.publish(new p0(t.getAggregateId()))}},g0=class extends Re{items;constructor(e,t=[]){super(e,"SetOriginCommand"),this.items=t}getItems(){return this.items}},lX=(()=>{class i{structureSourceDomainEventPublisher;constructor(t){this.structureSourceDomainEventPublisher=t}static services=[Ga];forCommand(){return g0}handle(t,n){let r=n.getItems();t.setOrigin(r)}publish(t,n){let r=t.getEvents();this.structureSourceDomainEventPublisher.publish(r)}}return i})(),m0=class extends Re{params;constructor(e,t){super(e,"StructureEditSourceItemCommand"),this.params=t}getParams(){return this.params}},uX=(()=>{class i{structureSourceDomainEventPublisher;constructor(t){this.structureSourceDomainEventPublisher=t}static services=[Ga];forCommand(){return m0}handle(t,n){let r=n.getParams();t.editItem(r)}publish(t,n){let r=t.getEvents();this.structureSourceDomainEventPublisher.publish(r)}}return i})(),WS=class extends Pt{beforeItem;afterItem;constructor(e,t,n){super(e,"StructureSourceItemEditedAggregateEvent"),this.beforeItem=t,this.afterItem=n}toDomainEvent(){return new bh(this.getAggregateId(),this.beforeItem,this.afterItem)}getBeforeItem(){return this.beforeItem}getAfterItem(){return this.afterItem}},GS=class extends Pt{origin;constructor(e,t){super(e,"StructureOriginChangedAggregateEvent"),this.origin=t}toDomainEvent(){return new Wa(this.getAggregateId(),this.origin)}getOrigin(){return this.origin}},Bl=class extends vo{constructor(e){super(e)}toString(){return this.getId()}},v0=class{events=[];loading=!1;fetched=!1;origin;entities=[];preparedEntities=[];slicedEntities=[];formationManager;constructor(e){this.formationManager=e,this.events.push(...this.formationManager.init(!0,Kn.SINGLE,ki.ROW))}isLoading(){return this.loading}setLoading(e){this.loading=e}setEntities(e){this.entities=e,this.recalculatePositions()}getEntities(){return this.entities}setPreparedEntities(){this.preparedEntities=Array.from(this.entities)}getPreparedEntities(){return this.preparedEntities}setSlicedEntities(e){this.slicedEntities=e}getSlicedEntities(){return this.slicedEntities}setOrigin(e=[],t){return this.origin=this.convertItems(e),this.createOriginChangedEvent(t)}setConvertedOrigin(e=[],t){return this.origin=Array.from(e),this.createOriginChangedEvent(t)}getOrigin(){return this.origin}editOriginItem(e,t,n,r){let o=this.findOriginItem(e),a=o.clone();return o&&(o.sourceItem[n.getAccessor()]=t,o.bumpVersion()),[new WS(r,a,o.clone()),this.createOriginChangedEvent(r)]}deleteAllSelected(e){let t=[];return this.formationManager.getSelectedItemIds().forEach(r=>{t=t.concat(this.deleteOriginItemByItemId(r,e))}),t}deleteOriginItem(e,t){if(e instanceof Bl)return this.deleteOriginItemByItemId(e,t);if(Array.isArray(e)){let n=[];return e.forEach(r=>{n=n.concat(this.deleteOneOriginItem(r,t))}),n}else return Number.isInteger(e)?this.deleteOriginItemByIndex(e,t):[]}addOriginItem(e,t){return this.origin.push(e),[this.createOriginChangedEvent(t)]}setCustomConfig(e){return this.formationManager.setCustomConfig(e)}selectCustom(e){this.formationManager.selectCustom(e,this.getEntities())}selectAll(){this.formationManager.selectAll(this.getEntities().map(e=>e.getId()))}unselectAll(){this.formationManager.unselectAll()}selectByIndex(e){this.formationManager.selectByIndex(e,this.getEntities().map(t=>t.getId()))}selectByIds(e){this.formationManager.selectByIds(e,this.getEntities())}reSelect(){this.formationManager.reSelectByIds(this.getEntities())}setSelectedRows(e){this.formationManager.selectRows(e,this.getEntities().map(t=>t.getId()))}toggleRow(e,t){this.formationManager.toggleRow(e,t,this.getEntities().map(n=>n.getId()))}getFormation(){return this.formationManager}convertItems(e){return e.map((t,n)=>new wb(new Bl(os.generate()),t,n))}createOriginChangedEvent(e){return new GS(e,this.origin)}findOriginItem(e){return this.origin.find(t=>t.getId().toString()===e)}findOriginItemIndex(e){return this.origin.findIndex(t=>t.getId().toString()===e)}recalculatePositions(){this.entities.forEach((e,t)=>{e.setPosition(t)})}deleteOneOriginItem(e,t){return e instanceof Bl?this.deleteOriginItemByItemId(e,t):Number.isInteger(e)?this.deleteOriginItemByIndex(e,t):[]}deleteOriginItemByItemId(e,t){let n=this.findOriginItemIndex(e.toString());return this.deleteOriginItemByIndex(n,t)}deleteOriginItemByIndex(e,t){if(e>-1){let n=this.origin.splice(e,1);if(n.length>0){for(let r of n)this.formationManager.unselectRow(r.getId());this.formationManager.calculateAllSelected(n.map(r=>r.getId())),this.formationManager.calculateAllUnselected()}return[this.createOriginChangedEvent(t)]}return[]}deleteManyOriginItemByIndex(e,t){let n=[];return e.forEach(r=>{n=n.concat(this.deleteOriginItemByIndex(r,t))}),n}deleteManyOriginItemByItemID(e,t){let n=[];return e.forEach(r=>{n=n.concat(this.deleteOriginItemByItemId(r,t))}),n}},qS=class{mode;type;constructor(e,t){this.mode=e,this.type=t}setMode(e){this.mode=e}getMode(){return this.type===ki.RADIO?Kn.SINGLE:this.mode}isSingle(){return this.getMode()===Kn.SINGLE}setType(e){this.type=e}getType(){return this.type}},b0=class extends Be{mode;constructor(e,t){super(e,t,"SelectionModeSetEvent"),this.mode=t}getMode(){return this.mode}},hh=class extends Pt{mode;constructor(e,t){super(e,"SelectionModeSetAggregateEvent"),this.mode=t}toDomainEvent(){return new b0(this.getAggregateId(),this.mode)}},y0=class extends Be{selectionType;constructor(e,t){super(e,t,"SelectionTypeSetEvent"),this.selectionType=t}getType(){return this.selectionType}},ph=class extends Pt{selectionType;constructor(e,t){super(e,"SelectionTypeSetAggregateEvent"),this.selectionType=t}toDomainEvent(){return new y0(this.getAggregateId(),this.selectionType)}},cp=class extends Be{enabled;constructor(e,t){super(e,t,"SelectionEnabledSetEvent"),this.enabled=t}isEnabled(){return this.enabled}},lp=class extends Pt{enabled;constructor(e,t){super(e,"SelectionEnabledSetAggregateEvent"),this.enabled=t}toDomainEvent(){return new cp(this.getAggregateId(),this.enabled)}},Ra=class extends pa{constructor(e){super(e)}toString(){return super.getId()}},Fa=class{key;text;customSelectId;builtIn;method;constructor(e,t,n,r,o){this.key=e,this.text=t,this.customSelectId=n,this.builtIn=r,this.method=o}getKey(){return this.key}getText(){return this.text}getCustomSelectId(){return this.customSelectId}isBuiltIn(){return this.builtIn}customSelect(e){return this.method(e)}},_0=class{enabled;selections;constructor(e,t){this.enabled=e,this.selections=t}isEnabled(){return this.enabled}getSelections(){return this.selections}},dX=(()=>{class i{enabled;selections;static id=0;constructor(t,n){this.enabled=t,this.selections=n}init(){return[]}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}getSelections(){return this.selections}setSelections(t){this.selections=t.map(n=>typeof n=="string"?new Fa("",n,new Ra(n),!0):(i.id++,new Fa(n.key,n.text,new Ra(`${i.id}`),!1,n.select)))}findSelection(t){return Qt.of(this.selections.find(n=>n.getCustomSelectId().equals(t)))}}return i})(),C0=class extends Be{customSelection;constructor(e,t){super(e,t,"FormationCustomSelectionChangeEvent"),this.customSelection=t}getCustomSelection(){return this.customSelection}},w0=class extends Pt{customSelection;constructor(e,t){super(e,"FormationCustomSelectionChangeAggregateEvent"),this.customSelection=t}toDomainEvent(){return new C0(this.getAggregateId(),this.customSelection)}},ZS=class{id;selectedItemIds;enabled;selection=new qS(Kn.SINGLE,ki.ROW);allSelected;allUnselected;customSelection;matcher=e=>e.id;constructor(e,t){this.id=e,this.selectedItemIds=t}init(e,t,n){return this.enabled=e,this.selection.setMode(t),this.selection.setType(n),this.customSelection=new dX(!1,[new Fa("select_all","SELECT_ALL",new Ra("SELECT_ALL"),!0),new Fa("UNSELECT_ALL","UNSELECT_ALL",new Ra("UNSELECT_ALL"),!0),new Fa("","INVERT",new Ra("INVERT"),!0)]),[new lp(this.getId(),this.enabled),new hh(this.getId(),this.selection.getMode()),new ph(this.getId(),this.selection.getType()),new w0(this.getId(),new _0(this.customSelection.isEnabled(),this.customSelection.getSelections()))]}setSelection(e){return this.enabled=e,[new lp(this.getId(),this.enabled)]}setMode(e){return this.selection.setMode(e),[new hh(this.getId(),this.selection.getMode()),new ph(this.getId(),this.selection.getType())]}setType(e){return this.selection.setType(e),[new hh(this.getId(),this.selection.getMode()),new ph(this.getId(),this.selection.getType())]}setMatcher(e){this.matcher=e}setCustomConfig(e){return e?.enabled&&this.customSelection.setEnabled(e.enabled),e?.selections&&this.customSelection.setSelections(e.selections),[new w0(this.getId(),new _0(this.customSelection.isEnabled(),this.customSelection.getSelections()))]}isAllSelected(){return this.allSelected}isAllUnselected(){return this.allUnselected}getSelectedItemIds(){return Array.from(this.selectedItemIds).map(e=>new Bl(e))}selectCustom(e,t){this.customSelection.findSelection(e).ifPresent(n=>{if(n.isBuiltIn())switch(n.getCustomSelectId().toString()){case"SELECT_ALL":this.selectAll(t.map(r=>r.getId()));break;case"UNSELECT_ALL":this.unselectAll();break;case"INVERT":this.invertSelected(t.map(r=>r.getId()));break;default:break}else{let r=n.customSelect(t);this.selectedItemIds=new Set(r.map(o=>o.getId().toString()))}})}selectAll(e){this.selectedItemIds=new Set(e.map(t=>t.toString())),this.allSelected=!0,this.allUnselected=!1}unselectAll(){this.selectedItemIds.clear(),this.allSelected=!1,this.allUnselected=!0}invertSelected(e){let t=this.getSelectedItemIds(),n=e.filter(r=>!t.some(o=>o.equals(r)));this.selectedItemIds=new Set(n.map(r=>r.toString())),this.calculateAllSelected(e),this.calculateAllUnselected()}reSelectByIds(e){this.selectByIds(this.getSelectedItemIds().map(t=>t.getId()),e),this.calculateAllSelected(e.map(t=>t.getId())),this.calculateAllUnselected()}selectByIds(e,t){if(!this.enabled)return;let n=[];for(let o=0;o<e.length;o++){let a=t.filter(l=>this.matcher(l.getSourceItem())===e[o]).map(l=>l.getId().toString());n.push(...a)}let r=Cn.ADD;this.selection.isSingle()&&(r=Cn.NONE),n.forEach(o=>{this.toggleRowByType(r,o)}),this.calculateAllSelected(t.map(o=>o.getId())),this.calculateAllUnselected()}selectByIndex(e,t){if(!this.enabled)return;let n=e.map(o=>(t[o]||console.error("Item not found"),t[o].toString())),r=Cn.ADD;this.selection.isSingle()&&(r=Cn.NONE),n.forEach(o=>{this.toggleRowByType(r,o)}),this.calculateAllSelected(t),this.calculateAllUnselected()}selectRows(e,t){}toggleRow(e,t,n){this.enabled&&(t===Cn.ADD&&this.selection.isSingle()&&(t=Cn.NONE),this.toggleRowByType(t,e),this.calculateAllSelected(n),this.calculateAllUnselected())}calculateAllSelected(e){if(e.length!==this.selectedItemIds.size)this.allSelected=!1;else{let t=Array.from(this.selectedItemIds),n=!0;t.sort(),e.sort();for(let r=0;r<t.length;r+=1)if(t[r]!==e[r].toString()){n=!1;break}this.allSelected=n}}calculateAllUnselected(){this.allUnselected=this.selectedItemIds.size===0}unselectRow(e){this.selectedItemIds.has(e.toString())&&this.selectedItemIds.delete(e.toString())}getId(){return this.id}getType(){return this.selection.getType()}toggleRowByType(e,t){switch(e){case Cn.NONE:this.selectedItemIds.has(t)?this.selectedItemIds.delete(t):(this.selectedItemIds.clear(),this.selectedItemIds.add(t));break;case Cn.ADD:this.selectedItemIds.has(t)?this.selectedItemIds.delete(t):this.selectedItemIds.add(t);break;case Cn.RANGE:break;default:break}}},x0=class{create(e){return new ZS(e,new Set)}},kL=(()=>{class i{formationManagerFactory;constructor(t){this.formationManagerFactory=t}static services=[x0];createDefault(t){let n=this.formationManagerFactory.create(t);return new v0(n)}create(t){let n=this.formationManagerFactory.create(t);return new v0(n)}}return i})(),dh=function(i){return i[i.INDEX=0]="INDEX",i[i.ITEM_ID=1]="ITEM_ID",i[i.MANY_INDEX=2]="MANY_INDEX",i[i.MANY_ITEM_ID=3]="MANY_ITEM_ID",i}(dh||{}),Ta=class i extends Re{payload;type;constructor(e,t,n){super(e,"DeleteOriginItemCommand"),this.payload=t,this.type=n}static byIndex(e,t){return new i(e,t,dh.INDEX)}static byManyIndex(e,t){return new i(e,t,dh.MANY_INDEX)}static byItemId(e,t){return new i(e,t,dh.ITEM_ID)}static byManyItemId(e,t){return new i(e,t,dh.MANY_ITEM_ID)}getType(){return this.type}getPayload(){return this.payload}},KS=class{forCommand(){return Ta}handle(e,t){e.deleteItem(t.getPayload())}},xT=(()=>{class i extends Ct{static default=[];constructor(){super(i.default)}}return i})(),hX=(()=>{class i{structureSourceOriginRepository;constructor(t){this.structureSourceOriginRepository=t}static services=[xT];forEvent(){return Wa}handle(t){if(t.ofMessageType("OriginSetEvent")){let n=t.getOrigin();this.structureSourceOriginRepository.next(t.getAggregateId(),n)}}}return i})(),IT=(()=>{class i extends Ct{static default=[];constructor(){super(i.default)}getPreparedItems(t){return this.find(t).getValueOrNullOrThrowError()}}return i})(),pX=(()=>{class i{structurePreparedItemsRepository;constructor(t){this.structurePreparedItemsRepository=t}static services=[IT];forEvent(){return qh}handle(t){if(t.ofMessageType("StructurePreparedEntitiesSetEvent")){let n=t.getPreparedItems();this.structurePreparedItemsRepository.next(t.getAggregateId(),n)}}}return i})(),YS=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(xT),e.provide(kL),e.provide(Ga)}registerCommandHandlers(){return[US,lX,uX,KS]}registerDomainEventHandler(){return[hX,pX]}registerMultiDomainEventHandler(){return[]}},fX=(()=>{class i extends Dn{structureRepository;structurePreparedItemsRepository;structureSourceOriginRepository;constructor(t,n,r){super(),this.structureRepository=t,this.structurePreparedItemsRepository=n,this.structureSourceOriginRepository=r}static services=[La,IT,xT];findItems(t){return this.structureRepository.getStructure(t).getEntities()}onItems(t){return this.structureRepository.on(t).pipe(ee(n=>n.getEntities()),Un((n,r)=>{if(n.length!==r.length)return!1;let o=!0;return n.forEach((a,l)=>{if(!a.equals(r[l])){o=!1;return}}),o}))}onItemsSize(t){return this.onItems(t).pipe(ee(n=>n.length))}onceItems(t){return _a(this.onItems(t))}onOriginSize(t){return this.structureSourceOriginRepository.on(t).pipe(ee(n=>n.length))}onLoading(t){return this.structureRepository.on(t).pipe(ee(n=>n.getSource().isLoading()))}onPreparedItems(t){return this.structurePreparedItemsRepository.on(t)}findPreparedItems(t){return this.structurePreparedItemsRepository.getPreparedItems(t)}}return i})(),gX=(()=>{class i extends wn{commandDispatcher;fieldWarehouse;sourceReadModelService;constructor(t,n,r){super(),this.commandDispatcher=t,this.fieldWarehouse=n,this.sourceReadModelService=r}static services=[wi,$a,Dn];setOrigin(t,n){this.commandDispatcher.dispatch(new g0(n,t))}setLoading(t,n){this.commandDispatcher.dispatch(new f0(n,t))}editItem(t,n){this.commandDispatcher.dispatch(new m0(n,t))}editItemByIndex(t,n,r,o){let a=bo(this.sourceReadModelService.onceItems(o).pipe(ee(d=>d[t].getId()))),l=bo(this.fieldWarehouse.onFields(o));ss(b_(a,l)).pipe(ya(1)).subscribe(d=>{let p=d[0],m=d[1];this.editItem(new Bh(p,m[n],r),o)})}deleteRow(t,n){t.getItemId()!==void 0?this.deleteItemById(t.getItemId(),n):t.getIndex()!==void 0&&this.deleteItemByIndex(t.getIndex(),n)}deleteRows(t,n){t.length>0&&(t[0].getItemId()!==void 0?this.deleteManyItemsByItemIds(t.map(r=>r.getItemId()),n):t[0].getIndex()!==void 0&&this.deleteManyItemsByIndex(t.map(r=>r.getIndex()),n))}deleteItemByIndex(t,n){this.commandDispatcher.dispatch(Ta.byIndex(n,t))}deleteItemById(t,n){this.commandDispatcher.dispatch(Ta.byItemId(n,t))}deleteManyItemsByIndex(t,n){this.commandDispatcher.dispatch(Ta.byManyIndex(n,t))}deleteManyItemsByItemIds(t,n){this.commandDispatcher.dispatch(Ta.byManyItemId(n,t))}}return i})(),QS=class{registerProviders(e){e.provide(wn,gX),e.provide(Dn,fX),e.provide(Pa),e.provide(IT),e.provide(Jb)}};function mX(){new Li(new QS,new YS).init()}mX();function vX(){return P.resolve(wn)}function bX(){return P.resolve(Dn)}function yX(){return P.resolve(Pa)}var _X=(()=>{class i extends pi{static forComponent(){return[]}static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:wn,useFactory:vX},{provide:Dn,useFactory:bX},{provide:Pa,useFactory:yX}],imports:[ue]})}return i})();P.provide(Na);function CX(){return P.resolve(Na)}var wX=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:Na,useFactory:CX}]})}return i})(),xX=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({imports:[wX]})}return i})(),IX=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:[$N]})}return i})(),I0=class{itemIds;allSelected;allUnselected;constructor(e,t,n){this.itemIds=e,this.allSelected=t,this.allUnselected=n}getAll(){return this.itemIds}isSelected(e){return this.itemIds.some(t=>t===e)}isAllSelected(){return this.allSelected}isAllUnselected(){return this.allUnselected}isIndeterminate(){return!(this.isAllSelected()||this.isAllUnselected())}},up=class i extends Ct{static default=new I0([],!1,!1);constructor(){super(i.default)}},E0=class extends Re{enabled;constructor(e,t){super(e,"SetEnabledSelectionCommand"),this.enabled=t}isEnabled(){return this.enabled}},XS=class{forCommand(){return E0}handle(e,t){e.setSelection(t.isEnabled())}},D0=class extends Re{selectedRow;type;constructor(e,t,n){super(e,"ToggleSelectedRowCommand"),this.selectedRow=t,this.type=n}getSelectedRow(){return this.selectedRow}getType(){return this.type}},JS=class{forCommand(){return D0}handle(e,t){let n=t.getSelectedRow(),r=t.getType();e.toggleRow(n,r)}},EX=(()=>{class i{rowSelectedArchive;constructor(t){this.rowSelectedArchive=t}static services=[up];forEvent(){return yh}handle(t){if(t.ofMessageType("SelectedRowChangedEvent")){let n=new I0(t.getSelectedRows(),t.isAllSelected(),t.isAllUnselected());this.rowSelectedArchive.next(t.getAggregateId(),n)}}}return i})(),S0=class extends Re{mode;constructor(e,t){super(e,"SetSelectionModeCommand"),this.mode=t}getMode(){return this.mode}},e1=class{forCommand(){return S0}handle(e,t){e.setSelectionMode(t.getMode())}},T0=class extends Re{constructor(e){super(e,"SelectAllRowsCommand")}},t1=class{forCommand(){return T0}handle(e,t){e.selectAll()}},M0=class extends Re{constructor(e){super(e,"UnselectAllRowsCommand")}},i1=class{forCommand(){return M0}handle(e,t){e.unselectAll()}},k0=class extends Re{type;constructor(e,t){super(e,"SetSelectionTypeCommand"),this.type=t}getType(){return this.type}},n1=class{forCommand(){return k0}handle(e,t){e.setSelectionType(t.getType())}},A0=class extends vr{constructor(){super()}forEvent(){return y0}},R0=class extends vr{constructor(){super()}forEvent(){return b0}},F0=class extends vr{constructor(){super()}forEvent(){return cp}},P0=class extends Re{selectedRows;constructor(e,t){super(e,"SetSelectedRowCommand"),this.selectedRows=t}getSelectedRows(){return this.selectedRows}},r1=class{forCommand(){return P0}handle(e,t){let n=t.getSelectedRows();e.setSelectedRows(n)}},O0=class extends Re{indexes;constructor(e,t){super(e,"SelectRowByIndexCommand"),this.indexes=t}getIndexes(){return this.indexes}},o1=class{forCommand(){return O0}handle(e,t){let n=t.getIndexes();e.selectByIndex(n)}},N0=class extends Re{ids;constructor(e,t){super(e,"SelectRowByIdCommand"),this.ids=t}getIds(){return this.ids}},s1=class{forCommand(){return N0}handle(e,t){let n=t.getIds();e.selectByIds(n)}},L0=class extends Re{matcher;constructor(e,t){super(e,"FormationSetMatcherCommand"),this.matcher=t}getMatcher(){return this.matcher}},a1=class{forCommand(){return L0}handle(e,t){let n=t.getMatcher();e.setFormationMatcher(n)}},j0=class extends vr{constructor(){super()}forEvent(){return C0}},V0=class extends Re{customSelectId;constructor(e,t){super(e,"FormationCustomSelectCommand"),this.customSelectId=t}getCustomSelectId(){return this.customSelectId}},c1=class{forCommand(){return V0}handle(e,t){let n=t.getCustomSelectId();e.selectCustom(n)}},B0=class extends Re{config;constructor(e,t){super(e,"FormationSetCustomSelectConfigCommand"),this.config=t}getConfig(){return this.config}},l1=class{forCommand(){return B0}handle(e,t){let n=t.getConfig();e.setSelectionCustomConfig(n)}},u1=class{defineAggregate(){return null}registerKey(){return Qn}registerProviders(e){e.provide(x0)}registerCommandHandlers(){return[XS,e1,n1,t1,i1,JS,r1,o1,s1,a1,c1,l1]}registerDomainEventHandler(){return[EX,A0,R0,F0,j0]}registerMultiDomainEventHandler(){return[]}},DX=(()=>{class i extends sn{rowSelectedRepository;formationModeRepository;formationTypeRepository;formationEnabledRepository;formationCustomRepository;sourceWarehouse;constructor(t,n,r,o,a,l){super(),this.rowSelectedRepository=t,this.formationModeRepository=n,this.formationTypeRepository=r,this.formationEnabledRepository=o,this.formationCustomRepository=a,this.sourceWarehouse=l}static services=[up,R0,A0,F0,j0,Dn];findSelectedRows(t){let n=this.sourceWarehouse.findPreparedItems(t),r=this.findSelectedItemIds(t).getValueOrNullOrThrowError(),o=[],a=n.length;for(let l=0;l<a;l+=1){let d=n[l];r.some(p=>p===d.getId().toString())&&o.push(new Hl(d.getSourceItem(),l,d.getId()))}return Qt.of(o)}onRowSelectedReadModel(t){return this.rowSelectedRepository.on(t)}findSelectedItemIds(t){return this.rowSelectedRepository.find(t).map(n=>n.getAll())}onSelectedRows(t){return this.rowSelectedRepository.on(t).pipe(ee(n=>n.getAll()))}onMode(t){return this.formationModeRepository.on(t)}onType(t){return this.formationTypeRepository.on(t)}onSelectionEnabled(t){return this.formationEnabledRepository.on(t)}onCustomSelections(t){return this.formationCustomRepository.on(t)}}return i})(),SX=(()=>{class i extends Ai{commandDispatcher;constructor(t){super(),this.commandDispatcher=t}static services=[wi];setSelection(t,n){this.commandDispatcher.dispatch(new E0(n,t))}selectRows(t,n){this.commandDispatcher.dispatch(new P0(n,t))}selectByIndex(t,n){this.commandDispatcher.dispatch(new O0(n,t))}selectByIds(t,n){this.commandDispatcher.dispatch(new N0(n,t))}toggleSelectedRow(t,n,r){this.commandDispatcher.dispatch(new D0(r,t,n))}changeMode(t,n){this.commandDispatcher.dispatch(new S0(n,t))}changeType(t,n){this.commandDispatcher.dispatch(new k0(n,t))}setMatcher(t,n){this.commandDispatcher.dispatch(new L0(n,t))}selectAll(t){this.commandDispatcher.dispatch(new T0(t))}unselectAll(t){this.commandDispatcher.dispatch(new M0(t))}selectCustom(t,n){this.commandDispatcher.dispatch(new V0(n,t))}setCustomSelection(t,n){this.commandDispatcher.dispatch(new B0(n,t))}}return i})(),d1=class{registerProviders(e){e.provide(up),e.provide(Ss),e.provide(Ai,SX),e.provide(sn,DX)}};function TX(){new Li(new d1,new u1).init()}TX();function MX(){return P.resolve(Ai)}function kX(){return P.resolve(sn)}function AX(){return P.resolve(Ss)}var RX=(()=>{class i extends pi{static \u0275fac=(()=>{let t;return function(r){return(t||(t=$t(i)))(r||i)}})();static \u0275mod=q({type:i});static \u0275inj=G({providers:[{provide:Ai,useFactory:MX},{provide:sn,useFactory:kX},{provide:Ss,useFactory:AX}],imports:[ue,er,xo,xa]})}return i})(),H0=class extends Re{constructor(e){super(e,"CreateStructureCommand")}},h1=class{forCommand(){return H0}},p1=class extends Pt{preparedItems;constructor(e,t){super(e,"StructurePreparedEntitiesSetAggregateEvent"),this.preparedItems=t}toDomainEvent(){return new qh(this.getAggregateId(),this.preparedItems)}getPreparedItems(){return this.preparedItems}},f1=class extends Pt{fieldConfigs;fields;constructor(e,t,n){super(e,"FieldsInitedAggregateEvent"),this.fieldConfigs=t,this.fields=n}toDomainEvent(){return new zl(this.getAggregateId(),this.fieldConfigs,this.fields)}getFieldConfigs(){return this.fieldConfigs}getFields(){return this.fields}},g1=class extends Pt{constructor(e){super(e,"StructureCreatedAggregateEvent")}toDomainEvent(){return new eu(this.getAggregateId())}},m1=class extends Pt{filterTypes;constructor(e,t){super(e,"FilterTypesInitedAggregateEvent"),this.filterTypes=t}toDomainEvent(){return new fb(this.getAggregateId(),this.filterTypes)}getFilterTypes(){return this.filterTypes}},v1=class extends Pt{constructor(e){super(e,"FilterAddedEvent")}toDomainEvent(){return new Ds(this.getAggregateId(),[])}},b1=class extends Pt{activeFilters;constructor(e,t){super(e,"FilterAddedEvent"),this.activeFilters=t}toDomainEvent(){return new Ds(this.getAggregateId(),this.activeFilters)}},y1=class extends Pt{activeFilters;constructor(e,t){super(e,"FilterRemovedAggregateEvent"),this.activeFilters=t}toDomainEvent(){return new Ds(this.getAggregateId(),this.activeFilters)}},_1=class extends Pt{map;constructor(e,t){super(e,"UniqueFilterCalculatedAggregateEvent"),this.map=t}toDomainEvent(){return new mb(this.getAggregateId(),this.map)}},C1=class extends Pt{constructor(e){super(e,"UniqueFilterSelectedAggregateEvent")}toDomainEvent(){return new rp(this.getAggregateId())}},w1=class extends Pt{constructor(e){super(e,"UniqueFilterUnselectedAggregateEvent")}toDomainEvent(){return new tp(this.getAggregateId())}},x1=class extends Pt{constructor(e){super(e,"AllUniqueFilterUnselectedAggregateEvent")}toDomainEvent(){return new ip(this.getAggregateId())}},I1=class extends Pt{constructor(e){super(e,"AllUniqueFilterSelectedAggregateEvent")}toDomainEvent(){return new np(this.getAggregateId())}},E1=class extends Pt{selectedRows;allSelected;allUnselected;constructor(e,t,n,r){super(e,"SelectedRowChangedAggregateEvent"),this.selectedRows=t,this.allSelected=n,this.allUnselected=r}toDomainEvent(){return new yh(this.getAggregateId(),this.selectedRows,this.allSelected,this.allUnselected)}},D1=class extends ha{pagingManager;sourceManager;sorterManager;filterManager;searchManager;verticalFormation;fieldCollection;summariesManager;uniqueFilterManager;constructor(e,t,n,r,o,a,l,d,p,m){super(e,Qn),this.pagingManager=t,this.sourceManager=n,this.verticalFormation=r,this.summariesManager=o,this.sorterManager=a,this.filterManager=l,this.uniqueFilterManager=d,this.searchManager=p,this.fieldCollection=m,this.addEvent(this.sourceManager.events),this.sourceManager.events=[]}createEvent(){return g1}clearEvents(){super.clearEvents(),this.pagingManager.clearEvents()}init(){this.initTheme()}setVerticalFormationEnabled(e){this.verticalFormation.setEnabled(e),this.calculateSource()}getVerticalFormation(){return this.verticalFormation}setSummariesEnabled(e){return this.summariesManager.setEnabled(e),this.calculateSource(),this.getEvents()}setOrigin(e){return this.addEvent(this.sourceManager.setOrigin(e,this.getId())),this.calculateUniqueValues(),this.calculateSource(),this.getEvents()}deleteItem(e){this.addEvent(this.sourceManager.deleteOriginItem(e,this.getId())),this.generateSelectedRowChangedEvent(),this.calculateSource()}editItem(e){let t=e.getItemId(),n=e.getColumnFieldId(),r=this.fieldCollection.getField(n),o=e.getValue();return this.sourceManager.editOriginItem(t,o,r,this.getId()).forEach(l=>this.addEvent(l)),this.calculateUniqueValues(),this.calculateSource(),this.getEvents()}setHeight(e){this.verticalFormation.setViewportHeight(e),this.calculateSourceBasedOnVirtualScroll()}setTheme(e){e===se.MATERIAL&&this.getVerticalFormation().setRowHeight(52),e===se.GENERIC&&this.getVerticalFormation().setRowHeight(42),e===se.FABRIC&&this.getVerticalFormation().setRowHeight(36),e===se.LIGHT&&this.getVerticalFormation().setRowHeight(56),e===se.DARK&&this.getVerticalFormation().setRowHeight(38)}setScrollPosition(e){this.verticalFormation.setScrollPosition(e),this.calculateSourceBasedOnVirtualScroll()}scrollToIndex(e){this.addEvent(this.verticalFormation.scrollToIndex(e))}setSelection(e){this.sourceManager.getFormation().setSelection(e),this.addEvent(new lp(this.getId(),e))}setSelectionMode(e){this.addEvent(this.sourceManager.getFormation().setMode(e))}setSelectionType(e){this.addEvent(this.sourceManager.getFormation().setType(e))}setFormationMatcher(e){this.getFormation().setMatcher(e),this.sourceManager.reSelect(),this.generateSelectedRowChangedEvent()}selectByIndex(e){this.sourceManager.selectByIndex(e),this.generateSelectedRowChangedEvent()}selectByIds(e){this.sourceManager.selectByIds(e),this.generateSelectedRowChangedEvent()}setSelectedRows(e){this.sourceManager.setSelectedRows(e),this.generateSelectedRowChangedEvent()}setSelectionCustomConfig(e){this.addEvent(this.sourceManager.setCustomConfig(e))}toggleRow(e,t){this.sourceManager.toggleRow(e,t),this.generateSelectedRowChangedEvent()}selectCustom(e){this.sourceManager.selectCustom(e),this.generateSelectedRowChangedEvent()}selectAll(){this.sourceManager.selectAll(),this.generateSelectedRowChangedEvent()}unselectAll(){this.sourceManager.unselectAll(),this.generateSelectedRowChangedEvent()}getFormation(){return this.sourceManager.getFormation()}getPaging(){return this.pagingManager}changePaging(e){this.pagingManager.change(e),this.calculateSource()}setPaging(e){this.pagingManager=e,this.calculateSource()}nextPage(){this.pagingManager.nextPage(),this.calculateSource()}prevPage(){this.pagingManager.prevPage(),this.calculateSource()}changePageSize(e){return this.pagingManager.changePageSize(e).forEach(n=>{this.addEvent(n)}),this.calculateSource(),this.getEvents()}getEntities(){return this.sourceManager.getSlicedEntities()}getSource(){return this.sourceManager}createFields(e){this.fieldCollection.initFields(e);let t=this.fieldCollection.getAllFields();return this.addEvent(new f1(this.getId(),e,t)),this.filterManager.assignFilterTypes(t),this.addEvent(new m1(this.getId(),this.filterManager.getFilterTypes())),this.getEvents()}setSortingConfig(e){this.sorterManager.setConfig(e)}toggleSort(e){let t=this.fieldCollection.getField(e);return this.sorterManager.toggle(t),this.calculateSource(),this.sorterManager.getAll()}setSortOrder(e,t){let n=this.fieldCollection.getField(e);return this.sorterManager.setSortOrder(n,t),this.calculateSource(),this.sorterManager.getAll()}setFilterConfig(e){this.filterManager.getSettings().setFilterConfig(e)}setQuickFiltersConfig(e){this.filterManager.getSettings().setQuickFiltersConfig(e)}toggleFilter(e,t,n){return this.fieldCollection.getField(e)===void 0?[]:(this.calculateSource(),[])}addFilter(e,t,n){this.filterManager.add(e,t,n);let r=this.fieldCollection.getFieldsAsMap(),o=this.filterManager.getAllActiveFilters(r);this.addEvent(new b1(this.getId(),o)),this.calculateSource()}removeAllFilters(){this.filterManager.removeAll(),this.addEvent(new v1(this.getId())),this.calculateSource()}removeFilter(e){this.filterManager.remove(e);let t=this.fieldCollection.getFieldsAsMap(),n=this.filterManager.getAllActiveFilters(t);this.addEvent(new y1(this.getId(),n)),this.calculateSource()}setSearchingConfig(e){this.filterManager.getSettings().setSearchingConfig(e)}addSearchPhrase(e){let t=this.fieldCollection.getAllFields();return this.searchManager.addSearchPhrase(t,e),this.calculateSource(),[]}removeSearchPhrase(){return this.searchManager.removeSearchFilters(),this.calculateSource(),[]}selectAllUniqueFilter(e){this.uniqueFilterManager.selectAll(e),this.addEvent(new I1(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()}selectUniqueFilter(e,t){this.uniqueFilterManager.select(e,t),this.addEvent(new C1(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()}unselectAllUniqueFilter(e){this.uniqueFilterManager.unselectAll(e),this.addEvent(new x1(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()}unselectUniqueFilter(e,t){this.uniqueFilterManager.unselect(e,t),this.addEvent(new w1(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()}calculateSource(){if(!this.sourceManager.getOrigin()||!this.pagingManager)return;this.sourceManager.setEntities(this.sourceManager.getOrigin()),this.sourceManager.setEntities(this.filterManager.filter(this.sourceManager.getEntities(),this.fieldCollection.getFieldsAsMap()));let e=this.searchManager.search(this.sourceManager.getEntities());this.sourceManager.setEntities(e);let t=this.sorterManager.sort(this.sourceManager.getEntities());this.sourceManager.setEntities(t),this.sourceManager.setPreparedEntities(),this.pagingManager.setSourceSize(this.sourceManager.getPreparedEntities().length),this.addEvent(new p1(this.getId(),t)),this.summariesManager.calculate(this.fieldCollection.getAllFields(),this.sourceManager.getEntities()).forEach(r=>{this.addEvent(r)}),this.sourceManager.setEntities(this.pagingManager.sample(this.sourceManager.getEntities())),this.verticalFormation.setSourceSize(this.sourceManager.getEntities().length),this.calculateSourceBasedOnVirtualScroll()}calculateSourceBasedOnVirtualScroll(){if(this.verticalFormation.isEnabled()){let e=this.verticalFormation.getRange();this.sourceManager.setSlicedEntities(this.sourceManager.getEntities().slice(e.getStart(),e.getEnd()))}else this.sourceManager.setSlicedEntities(this.sourceManager.getEntities())}initTheme(){let e=d0.DEFAULT_THEME;this.setTheme(e)}calculateUniqueValues(){let e=this.fieldCollection.getAllFields(),t=this.sourceManager.getOrigin();this.uniqueFilterManager.calculateAll(t,e),this.generateCalculateUniqueValuesAggregateEvent()}generateCalculateUniqueValuesAggregateEvent(){this.addEvent(new _1(this.getId(),this.uniqueFilterManager.getAll(this.fieldCollection.getAllFields())))}generateSelectedRowChangedEvent(){this.addEvent(new E1(this.getId(),this.sourceManager.getFormation().getSelectedItemIds().map(e=>e.toString()),this.sourceManager.getFormation().isAllSelected(),this.sourceManager.getFormation().isAllUnselected()))}},S1=class{sorterId;columnId;field;rank=1;direction;constructor(e,t,n=!0){this.sorterId=e,this.field=t,this.direction=n}getId(){return this.sorterId}getRank(){return this.rank}getField(){return this.field}hasDirection(){return this.direction}changeDirection(){this.direction=!this.direction}setDirection(e){this.direction=e}sort(e){return e.length===0?e:e.sort((t,n)=>this.field.sort(t,n,this.direction))}},T1=class{sorterId;constructor(e){this.sorterId=e}getId(){return this.sorterId}},M1=class{enabled;multi;sorters=new Map;constructor(e=!1,t=!1){this.enabled=e,this.multi=t}setConfig(e){e&&e.enabled!==void 0&&e.enabled!==null&&(this.enabled=e.enabled),e&&e.multiSorting!==void 0&&e.multiSorting!==null&&(this.multi=e.multiSorting,this.sorters.clear())}toggle(e){let t=e.getId(),n=this.sorters.get(t.getId());n?n.hasDirection()?n.changeDirection():this.delete(t):this.add(e)}setSortOrder(e,t){let n=e.getId(),r=this.sorters.get(n.getId());if(t===gi.NONE)this.delete(n);else if(t===gi.ASC||t===gi.DESC){this.delete(n);let o=t===gi.ASC;this.add(e,o)}}add(e,t=!0){this.addSorter(e.getId(),new S1(new T1(os.generate()),e,t))}addSorter(e,t){this.multi||this.sorters.clear(),this.sorters.set(e.getId(),t)}delete(e){this.sorters.delete(e.getId())}update(){}sort(e){let t=this.getAll(),n=Array.from(e);for(let r of t)n=r.sort(n);return n}getAll(){return this.enabled?Array.from(this.sorters).map(e=>e[1]).sort((e,t)=>e.getRank()-t.getRank()).reverse():[]}},k1=class{id;value;displayValue;enabled;constructor(e,t,n,r){this.id=e,this.value=t,this.displayValue=n,this.enabled=r}getId(){return this.id}getValue(){return this.value}getDisplayValue(){return this.displayValue}isEnabled(){return this.enabled}isDisabled(){return!this.enabled}select(){this.enabled=!0}unselect(){this.enabled=!1}},A1=class{id;constructor(e){this.id=e}toString(){return this.id}equals(e){return e.toString()===this.id}},FX=(()=>{class i{static index=0;static generate(){return i.index+=1,new A1(`${i.index}`)}}return i})(),R1=class{values=[];allSelected;allDisabled;constructor(e,t){for(let n of e)this.values.push(new k1(FX.generate(),n,t.getDisplayValue(n),!0));this.calculateAllSelected(),this.calculateAllDisabled()}getAll(){return this.values}isAllSelected(){return this.allSelected}isAllDisabled(){return this.allDisabled}getNotSelected(){return this.values.filter(e=>e.isDisabled())}selectAll(){this.values.forEach(e=>{e.select()}),this.allSelected=!0,this.allDisabled=!1}select(e){this.values.filter(t=>t.getId().equals(e)).forEach(t=>{t.select()}),this.calculateAllSelected(),this.calculateAllDisabled()}unselectAll(){this.values.forEach(e=>{e.unselect()}),this.allSelected=!1,this.allDisabled=!0}unselect(e){this.values.filter(t=>t.getId().equals(e)).forEach(t=>{t.unselect()}),this.calculateAllSelected(),this.calculateAllDisabled()}calculateAllSelected(){this.allSelected=!this.values.some(e=>e.isDisabled())}calculateAllDisabled(){this.allDisabled=!this.values.some(e=>e.isEnabled())}},F1=class{uniqueValueMap=new Cl;calculate(e,t){let n=t.getId();this.uniqueValueMap.find(n).ifEmpty(()=>{let o=new Set;for(let d of e)o.add(t.getValue(d));let a=Array.from(o.values()).sort((d,p)=>t.getField().sort(d,p)),l=new R1(a,t);this.uniqueValueMap.set(t.getId(),l)})}calculateAll(e,t){for(let n of t)this.calculate(e,n)}filterAll(e,t){let n=e;for(let r of t)n=this.filter(n,r);return n}filter(e,t){let n=[];return this.uniqueValueMap.find(t.getId()).ifPresent(r=>{r.isAllSelected()?n=e:r.isAllDisabled()?n=[]:n=e.filter(o=>{for(let a of r.getNotSelected())if(t.getField().equals(o,a.getValue()))return!1;return!0})}),n}selectAll(e){this.uniqueValueMap.find(e).ifPresent(t=>{t.selectAll()})}select(e,t){this.uniqueValueMap.find(e).ifPresent(n=>{n.select(t)})}unselectAll(e){this.uniqueValueMap.find(e).ifPresent(t=>{t.unselectAll()})}unselect(e,t){this.uniqueValueMap.find(e).ifPresent(n=>{n.unselect(t)})}getAll(e){let t=new Map;for(let n of e)this.getValues(n).ifPresent(r=>{t.set(n.getId().toString(),r)});return t}getValues(e){return this.uniqueValueMap.find(e.getId()).map(t=>t.getAll())}},AL=(()=>{class i extends la{pagingAggregateFactory;sourceManagerFactory;verticalFormationFactory;summariesManagerFactory;filterManagerFactory;searchManagerFactory;fieldCollectionFactory;constructor(t,n,r,o,a,l,d){super(),this.pagingAggregateFactory=t,this.sourceManagerFactory=n,this.verticalFormationFactory=r,this.summariesManagerFactory=o,this.filterManagerFactory=a,this.searchManagerFactory=l,this.fieldCollectionFactory=d}static services=[TN,kL,IL,wL,hb,Eb,CL];create(t){let n=this.pagingAggregateFactory.createDefault(),r=this.sourceManagerFactory.createDefault(t),o=this.verticalFormationFactory.create(t),a=new M1,l=this.filterManagerFactory.create(!1),d=this.fieldCollectionFactory.create(),p=this.summariesManagerFactory.create(t),m=this.searchManagerFactory.create(),b=new D1(t,n,r,o,p,a,l,new F1,m,d);return this.init(b),b}init(t){t.init()}}return i})(),z0=class extends da{},RL=(()=>{class i extends va{constructor(t){super(t)}static services=[ep]}return i})(),FL=(()=>{class i extends z0{inMemoryStructureAggregateStore;constructor(t){super(),this.inMemoryStructureAggregateStore=t}static services=[RL];findById(t){return this.inMemoryStructureAggregateStore.findById(t)}save(t){this.inMemoryStructureAggregateStore.save(t)}}return i})(),PX=(()=>{class i{summariesEnabledArchive;constructor(t){this.summariesEnabledArchive=t}static services=[Jl];forEvent(){return eu}handle(t){if(t.ofMessageType("StructureCreatedEvent")){let n=t.getAggregateId();this.summariesEnabledArchive.init(n)}}}return i})(),P1=class{defineAggregate(){return{aggregateKey:Qn,createCommandHandler:h1,factory:AL,repository:FL}}registerKey(){return Qn}registerProviders(e){}registerCommandHandlers(){return[]}registerDomainEventHandler(){return[PX]}registerMultiDomainEventHandler(){return[]}},O1=class extends Be{fieldId;filterTypeId;value;constructor(e,t,n,r){super(e,{fieldId:t,filterTypeId:n,value:r},"FilterAddedEvent"),this.fieldId=t,this.filterTypeId=n,this.value=r}},OX=(()=>{class i extends La{inMemoryStructureReadStore;structureIdToStructure=new Map;hermesStructure$=new nn(1);constructor(t){super(),this.inMemoryStructureReadStore=t}static services=[wT];getStructure(t){return this.structureIdToStructure.get(t.getId())}on(t){return this.hermesStructure$.toObservable().pipe(nt(n=>{let r=t.getId();return n.has(r)}),ee(n=>n.get(t.getId())))}forEvents(){return[eu,p0,xh,Eh,Ih,Ul,cp,Yh,Kh,Rh,Hh,Ua,Ph,Wa,Xh,Jh,Qh,O1,Ds,rp,np,tp,ip]}subs(t){let n=t.getAggregateId();this.inMemoryStructureReadStore.getById(n).ifPresent(o=>{let a=o.getId().toString();this.structureIdToStructure.set(a,o),this.hermesStructure$.next(this.structureIdToStructure)})}}return i})(),NX=(()=>{class i extends ln{filterCommandInvoker;sourcePublisher;verticalFormationCommandInvoker;structureCellEditArchive;commandDispatcher=P.resolve(wi);constructor(t,n,r,o){super(),this.filterCommandInvoker=t,this.sourcePublisher=n,this.verticalFormationCommandInvoker=r,this.structureCellEditArchive=o}static services=[br,wn,Xa,Mo];create(t){this.commandDispatcher.dispatch(new H0(t))}enableVirtualScroll(t){this.verticalFormationCommandInvoker.enableVirtualScroll(t)}disableVirtualScroll(t){this.verticalFormationCommandInvoker.disableVirtualScroll(t)}scrollToTop(t){this.verticalFormationCommandInvoker.scrollToTop(t)}scrollToBottom(t){this.verticalFormationCommandInvoker.scrollToBottom(t)}scrollToIndex(t,n){this.verticalFormationCommandInvoker.scrollToIndex(t,n)}setScrollPosition(t,n){this.verticalFormationCommandInvoker.setScrollPosition(t,n)}setFilterConfig(t,n){this.filterCommandInvoker.setConfig(t,n)}setQuickFiltersConfig(t,n){this.commandDispatcher.dispatch(new ub(n,t))}setRowHeight(t,n){this.commandDispatcher.dispatch(new Zb(n,+t))}setContainerHeight(t,n){this.commandDispatcher.dispatch(new Kb(n,+t))}setRowHeightBasedOnTheme(t,n){this.commandDispatcher.dispatch(new qb(n,t))}setCellEdit(t,n){this.structureCellEditArchive.next(n,new vv(t))}}return i})(),N1=class{registerProviders(e){e.provide(wT),e.provide(La,OX),e.provide(AL),e.provide(EL),e.provide(ic),e.provide(ln,NX),e.provide(ou),e.provide(RL),e.provide(ep),e.provide(z0,FL),e.provide(Gn),e.provide(Mo)}};function LX(){new Li(new N1,new P1).init()}var $0=class extends Yd{constructor(e){super(e,"CreateListViewCommand")}},U0=class extends rs{},W0=class extends U0{mode;constructor(e,t){super(e,"SetListViewModeCommand"),this.mode=t}getMode(){return this.mode}},G0=class extends U0{enabled;constructor(e,t){super(e,"ToggleListViewSelectorCommand"),this.enabled=t}isEnabled(){return this.enabled}},q0=class{commandDispatcher=P.resolve(wi);create(e){this.commandDispatcher.dispatch(new $0(e))}setMode(e,t){this.commandDispatcher.dispatch(new W0(t,e))}toggleSelector(e,t){this.commandDispatcher.dispatch(new G0(t,e))}},L1=class extends fa{constructor(e){super(e)}toReadModelRootId(){return new Z0(this.getId())}},Z0=class extends ga{constructor(e){super(e)}toAggregateId(){return new L1(this.getId())}},qI=new Z0("-1"),jX=(()=>{class i{listViewDispatcher;constructor(t){this.listViewDispatcher=t}static services=[q0];create(t=qI){this.listViewDispatcher.create(t.toAggregateId())}setMode(t,n=qI){this.listViewDispatcher.setMode(t,n.toAggregateId())}toggleSelector(t,n=qI){this.listViewDispatcher.toggleSelector(t,n.toAggregateId())}}return i})(),dp=class extends mo{},hp=class extends dp{mode;constructor(e,t){super(e,t,"ListViewModeSetEvent"),this.mode=t}getTheme(){return this.mode}},j1=class extends zr{constructor(){super()}onModeChange(e){return this.onEvent(e,hp)}},ET=function(i){return i.LIST="List",i.CARD="Card",i}(ET||{}),pp=class i extends Ct{static default=ET.LIST;constructor(){super(i.default)}},DT=(()=>{class i extends Ct{static default=!1;constructor(){super(i.default)}}return i})(),VX=(()=>{class i{listViewModeArchive;listViewSelectorArchive;constructor(t,n){this.listViewModeArchive=t,this.listViewSelectorArchive=n}static services=[pp,DT];onMode(t){return this.listViewModeArchive.on(t)}onSelector(t){return this.listViewSelectorArchive.on(t)}}return i})(),K0=class extends ba{},PL=(()=>{class i extends va{constructor(t){super(t)}static services=[K0]}return i})(),V1=class{forCommand(){return W0}handle(e,t){let n=t.getMode();e.setMode(n)}},B1=class{forCommand(){return G0}handle(e,t){let n=t.isEnabled();e.toggleModeSelector(n)}},BX=(()=>{class i{listViewModeArchive;constructor(t){this.listViewModeArchive=t}static services=[pp];forEvent(){return hp}handle(t){t.ofMessageType("ListViewModeSetEvent")&&this.listViewModeArchive.next(t.getAggregateId(),t.getTheme())}}return i})(),Y0=class extends dp{enabled;constructor(e,t){super(e,t,"ListViewSelectorToggledEvent"),this.enabled=t}isEnabled(){return this.enabled}},HX=(()=>{class i{listViewSelectorArchive;constructor(t){this.listViewSelectorArchive=t}static services=[DT];forEvent(){return Y0}handle(t){t.ofMessageType("ListViewSelectorToggledEvent")&&this.listViewSelectorArchive.next(t.getAggregateId(),t.isEnabled())}}return i})(),H1=class{forCommand(){return $0}},z1=class extends dp{constructor(e){super(e,null,"ListViewCreatedEvent")}},fp=class extends ua{},$1=class extends fp{constructor(e){super(e,"ListViewCreatedAggregateEvent")}toDomainEvent(){return new z1(this.getAggregateId())}},U1=class extends fp{mode;constructor(e,t){super(e,"ListViewModeSetAggregateEvent"),this.mode=t}toDomainEvent(){return new hp(this.getAggregateId(),this.mode)}},W1=class{enabled=null;visible=!1;constructor(){}isVisible(){return this.enabled!==null?this.enabled:this.visible}setEnabled(e){this.enabled=e}setVisible(e){this.visible=e}},G1=class extends fp{enabled;constructor(e,t){super(e,"ListViewSelectorToggledAggregateEvent"),this.enabled=t}toDomainEvent(){return new Y0(this.getAggregateId(),this.enabled)}},q1=class extends ha{mode;selectorVisibility;constructor(e){super(e,"ListViewAggregate"),this.setMode(ET.LIST),this.initSelectorVisibility()}createEvent(){return $1}setMode(e){this.mode=e,this.addEvent(new U1(this.getId(),this.mode))}toggleModeSelector(e){this.selectorVisibility.setEnabled(e),this.emitEventAfterSelectorVisibilityChange()}initSelectorVisibility(){this.selectorVisibility=new W1,this.emitEventAfterSelectorVisibilityChange()}emitEventAfterSelectorVisibilityChange(){this.addEvent(new G1(this.getId(),this.selectorVisibility.isVisible()))}},Z1=class extends la{constructor(){super()}create(e){return new q1(e)}},K1=class extends da{},zX=(()=>{class i extends K1{inMemorySchemaAggregateStore;constructor(t){super(),this.inMemorySchemaAggregateStore=t}static services=[PL];findById(t){return this.inMemorySchemaAggregateStore.findById(t)}save(t){this.inMemorySchemaAggregateStore.save(t)}}return i})(),Y1=class{defineAggregate(){return{aggregateKey:vN,createCommandHandler:H1,factory:Z1,repository:zX}}registerKey(){return vN}registerProviders(e){e.provide(q0)}registerCommandHandlers(){return[V1,B1]}registerDomainEventHandler(){return[BX,HX]}registerMultiDomainEventHandler(){return[]}},vN="ListViewKey",Q1=class{registerProviders(e){e.provide(jX),e.provide(j1),e.provide(VX),e.provide(pp),e.provide(DT),e.provide(PL),e.provide(K0)}};function $X(){new Li(new Q1,new Y1).init()}function UX(){return P.resolve(ln)}function WX(){return P.resolve(ic)}function GX(){return P.resolve(ou)}var qX=[{provide:ln,useFactory:UX},{provide:ic,useFactory:WX},{provide:ou,useFactory:GX}];function ZX(){return new ec.DefaultBuilder().build()}var KX=[yL,bL],YX=[ue,us,Fo,er,nc,IX,ey,_Q,SQ,RX,vL,gT,_X,LQ,qQ,tX,xX,JY,hQ,gQ,lT,fL,mQ,aX,iQ,ML,KX];var QX=[fs,ZN,zN,WN,UN,GN,nc,ey,cX];function XX(){return P.resolve(Mo)}function JX(){return P.resolve(Gn)}$X();LX();var X1=class i{platformId;static HERMES_API="hermesApi";static exportDeclarations=Array.from(QX);static withConfig(e={cssClassName:"",hermesModuleConfig:{loggers:!1}}){return{ngModule:i,providers:[{provide:RE,useValue:e.cssClassName},{provide:zm,useValue:e.hermesModuleConfig.loggers},{provide:$m,useValue:e.hermesModuleConfig.loggers},{provide:RE,useValue:"structure"},{provide:ec,useFactory:ZX},OD,vp,Ma,{provide:Mo,useFactory:XX},{provide:Gn,useFactory:JX},qX]}}constructor(e){this.platformId=e,p2(),en(this.platformId)&&(g2(),window[i.HERMES_API].loggers=!1)}static \u0275fac=function(t){return new(t||i)(M(Bt))};static \u0275mod=q({type:i});static \u0275inj=G({imports:[YX,fs,El,Wn,Dl,xo,ds,Sl,Tl,Rl,Fl,kl,Al,Pl,Ol,hs,xa,Nl,Io,Ml,wa,hs,ey]})},eJ=(()=>{class i{static PREFIX="gui-grid-";static index=0;generateId(){return i.index++,i.PREFIX+i.index}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),tJ=[X1.withConfig({cssClassName:"grid",hermesModuleConfig:{loggers:!0}})];var iJ=[eJ,wN],nJ=[dn,eT],rJ=[dn,eT],Q0=class i{static exportDeclarations=Array.from(nJ);static elementComponents=Array.from(rJ);static \u0275fac=function(t){return new(t||i)};static \u0275mod=q({type:i});static \u0275inj=G({providers:iJ,imports:[tJ]})};var OL=(()=>{let e=class e{constructor(){this.roadworks={},this.parkings={},this.warnings={},this.closures={},this.chargingStations={},this.autobahnen=[],this.source=[],this.columns=[],this.title="Angular_Test"}generateSourceData(){return this.autobahnen.map((r,o)=>{let a=this.chargingStations[r];return{first_column:r,second_column:this.roadworks[r]?.roadworks,third_column:this.parkings[r]?.parking_lorry,fourth_column:this.warnings[r]?.warning,fifth_column:this.closures[r]?.closure,sixth_column:this.chargingStations[r]?.electric_charging_station}})}generateColumns(n){let r=(o,a,l,d="Loading...")=>o==null?d:o.length?a(o.length):l;return[{header:"Road",field:"first_column"},{header:"Works",field:"second_column",view:o=>r(o,a=>`<a href="/works/${n}">See all ${a} roadworks</a>`,"No roadworks found for this autobahn")},{header:"Parking Lorries",field:"third_column",view:o=>r(o,a=>`<a href="/parkings/${n}">See all ${a} parkings</a>`,"No parkings found for this autobahn")},{header:"Warnings",field:"fourth_column",view:o=>r(o,a=>`<a href="/warnings/${n}">See all ${a} warnings</a>`,"No warnings found for this autobahn")},{header:"Closures",field:"fifth_column",view:o=>r(o,a=>`<a href="/closure/${n}">See all ${a} closures</a>`,"No closures found for this autobahn")},{header:"Charging Stations",field:"sixth_column",view:o=>r(o,a=>`<a href="/charging_station/${n}">See all ${a} electric charging stations</a>`,"No electric charging stations found for this autobahn")}]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=z({type:e,selectors:[["app-root"]],inputs:{id:"id"},decls:2,vars:0,consts:[[1,"main"]],template:function(r,o){r&1&&(C(0,"main",0),R(1,"router-outlet"),x())},dependencies:[Bx],styles:['.map[_ngcontent-%COMP%]{height:100%;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}nav[_ngcontent-%COMP%]{margin-bottom:2em}nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}element.style[_ngcontent-%COMP%]{color:#000;text-decoration:none}nav[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;gap:1em;font-size:1.3rem;line-height:2.3rem}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#000}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%]{font-size:3.125rem;color:var(--gray-900);font-weight:500;line-height:100%;letter-spacing:-.125rem;margin:0;font-family:Inter Tight,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol}p[_ngcontent-%COMP%]{margin:0;color:var(--gray-700)}main[_ngcontent-%COMP%]{width:100%;min-height:100%;padding:1rem;box-sizing:inherit;position:relative}.angular-logo[_ngcontent-%COMP%]{max-width:9.2rem}.content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:100%;max-width:700px;margin-bottom:3rem}.content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:1.75rem}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1.5rem}.divider[_ngcontent-%COMP%]{width:1px;background:var(--red-to-pink-to-purple-vertical-gradient);margin-inline:.5rem}.pill-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;flex-wrap:wrap;gap:1.25rem}.pill[_ngcontent-%COMP%]{display:flex;align-items:center;--pill-accent: var(--bright-blue);background:color-mix(in srgb,var(--pill-accent) 5%,transparent);color:var(--pill-accent);padding-inline:.75rem;padding-block:.375rem;border-radius:2.75rem;border:0;transition:background .3s ease;font-family:var(--inter-font);font-size:.875rem;font-style:normal;font-weight:500;line-height:1.4rem;letter-spacing:-.00875rem;text-decoration:none}.pill[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--pill-accent) 15%,transparent)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+1){--pill-accent: var(--bright-blue)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+2){--pill-accent: var(--french-violet)}.pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+3), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+4), .pill-group[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]:nth-child(6n+5){--pill-accent: var(--hot-red)}.pill-group[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-inline-start:.25rem}.social-links[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.73rem;margin-top:1.5rem}.social-links[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s ease;fill:var(--gray-400)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:var(--gray-900)}@media screen and (max-width: 650px){.content[_ngcontent-%COMP%]{flex-direction:column;width:max-content}.divider[_ngcontent-%COMP%]{height:1px;width:100%;background:var(--red-to-pink-to-purple-horizontal-gradient);margin-block:1.5rem}}']});let i=e;return i})();var Qr="*";function NL(i,e=null){return{type:2,steps:i,options:e}}function ST(i){return{type:6,styles:i,offset:null}}var Ts=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},bp=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==o&&this._onFinish()}),a.onDestroy(()=>{++n==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,l)=>Math.max(a,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},ny="!";function LL(i){return new Z(3e3,!1)}function oJ(){return new Z(3100,!1)}function sJ(){return new Z(3101,!1)}function aJ(i){return new Z(3001,!1)}function cJ(i){return new Z(3003,!1)}function lJ(i){return new Z(3004,!1)}function uJ(i,e){return new Z(3005,!1)}function dJ(){return new Z(3006,!1)}function hJ(){return new Z(3007,!1)}function pJ(i,e){return new Z(3008,!1)}function fJ(i){return new Z(3002,!1)}function gJ(i,e,t,n,r){return new Z(3010,!1)}function mJ(){return new Z(3011,!1)}function vJ(){return new Z(3012,!1)}function bJ(){return new Z(3200,!1)}function yJ(){return new Z(3202,!1)}function _J(){return new Z(3013,!1)}function CJ(i){return new Z(3014,!1)}function wJ(i){return new Z(3015,!1)}function xJ(i){return new Z(3016,!1)}function IJ(i,e){return new Z(3404,!1)}function EJ(i){return new Z(3502,!1)}function DJ(i){return new Z(3503,!1)}function SJ(){return new Z(3300,!1)}function TJ(i){return new Z(3504,!1)}function MJ(i){return new Z(3301,!1)}function kJ(i,e){return new Z(3302,!1)}function AJ(i){return new Z(3303,!1)}function RJ(i,e){return new Z(3400,!1)}function FJ(i){return new Z(3401,!1)}function PJ(i){return new Z(3402,!1)}function OJ(i,e){return new Z(3505,!1)}function Ms(i){switch(i.length){case 0:return new Ts;case 1:return i[0];default:return new bp(i)}}function QL(i,e,t=new Map,n=new Map){let r=[],o=[],a=-1,l=null;if(e.forEach(d=>{let p=d.get("offset"),m=p==a,b=m&&l||new Map;d.forEach((w,E)=>{let T=E,V=w;if(E!=="offset")switch(T=i.normalizePropertyName(T,r),V){case ny:V=t.get(E);break;case Qr:V=n.get(E);break;default:V=i.normalizeStyleValue(E,T,V,r);break}b.set(T,V)}),m||o.push(b),l=b,a=p}),r.length)throw EJ(r);return o}function KT(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&TT(t,"start",i)));break;case"done":i.onDone(()=>n(t&&TT(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&TT(t,"destroy",i)));break}}function TT(i,e,t){let n=t.totalTime,r=!!t.disabled,o=YT(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n??i.totalTime,r),a=i._data;return a!=null&&(o._data=a),o}function YT(i,e,t,n,r="",o=0,a){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:o,disabled:!!a}}function Mn(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function jL(i){let e=i.indexOf(":"),t=i.substring(1,e),n=i.slice(e+1);return[t,n]}var NJ=(()=>typeof document>"u"?null:document.documentElement)();function QT(i){let e=i.parentNode||i.host||null;return e===NJ?null:e}function LJ(i){return i.substring(1,6)=="ebkit"}var rc=null,VL=!1;function jJ(i){rc||(rc=VJ()||{},VL=rc.style?"WebkitAppearance"in rc.style:!1);let e=!0;return rc.style&&!LJ(i)&&(e=i in rc.style,!e&&VL&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in rc.style)),e}function VJ(){return typeof document<"u"?document.body:null}function XL(i,e){for(;e;){if(e===i)return!0;e=QT(e)}return!1}function JL(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let n=i.querySelector(e);return n?[n]:[]}var XT=(()=>{let e=class e{validateStyleProperty(n){return jJ(n)}matchesElement(n,r){return!1}containsElement(n,r){return XL(n,r)}getParentElement(n){return QT(n)}query(n,r,o){return JL(n,r,o)}computeStyle(n,r,o){return o||""}animate(n,r,o,a,l,d=[],p){return new Ts(o,a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),Ep=(()=>{let e=class e{};e.NOOP=new XT;let i=e;return i})(),ac=class{};var BJ=1e3,ej="{{",HJ="}}",tj="ng-enter",PT="ng-leave",ry="ng-trigger",ly=".ng-trigger",BL="ng-animating",OT=".ng-animating";function Po(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NT(parseFloat(e[1]),e[2])}function NT(i,e){switch(e){case"s":return i*BJ;default:return i}}function uy(i,e,t){return i.hasOwnProperty("duration")?i:zJ(i,e,t)}function zJ(i,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,a="";if(typeof i=="string"){let l=i.match(n);if(l===null)return e.push(LL(i)),{duration:0,delay:0,easing:""};r=NT(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(o=NT(parseFloat(d),l[4]));let p=l[5];p&&(a=p)}else r=i;if(!t){let l=!1,d=e.length;r<0&&(e.push(oJ()),l=!0),o<0&&(e.push(sJ()),l=!0),l&&e.splice(d,0,LL(i))}return{duration:r,delay:o,easing:a}}function Dp(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function ij(i){let e=new Map;return Object.keys(i).forEach(t=>{let n=i[t];e.set(t,n)}),e}function $J(i){return i.length?i[0]instanceof Map?i:i.map(e=>ij(e)):[]}function uu(i,e=new Map,t){if(t)for(let[n,r]of t)e.set(n,r);for(let[n,r]of i)e.set(n,r);return e}function Xr(i,e,t){e.forEach((n,r)=>{let o=JT(r);t&&!t.has(r)&&t.set(r,i.style[o]),i.style[o]=n})}function sc(i,e){e.forEach((t,n)=>{let r=JT(n);i.style[r]=""})}function yp(i){return Array.isArray(i)?i.length==1?i[0]:NL(i):i}function UJ(i,e,t){let n=e.params||{},r=nj(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||t.push(aJ(o))})}var LT=new RegExp(`${ej}\\s*(.+?)\\s*${HJ}`,"g");function nj(i){let e=[];if(typeof i=="string"){let t;for(;t=LT.exec(i);)e.push(t[1]);LT.lastIndex=0}return e}function Cp(i,e,t){let n=i.toString(),r=n.replace(LT,(o,a)=>{let l=e[a];return l==null&&(t.push(cJ(a)),l=""),l.toString()});return r==n?i:r}function dy(i){let e=[],t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}var WJ=/-+([a-z0-9])/g;function JT(i){return i.replace(WJ,(...e)=>e[1].toUpperCase())}function GJ(i,e){return i===0||e===0}function qJ(i,e,t){if(t.size&&e.length){let n=e[0],r=[];if(t.forEach((o,a)=>{n.has(a)||r.push(a),n.set(a,o)}),r.length)for(let o=1;o<e.length;o++){let a=e[o];r.forEach(l=>a.set(l,rj(i,l)))}}return e}function Tn(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw lJ(e.type)}}function rj(i,e){return window.getComputedStyle(i)[e]}var ZJ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),hy=class extends ac{normalizePropertyName(e,t){return JT(e)}normalizeStyleValue(e,t,n,r){let o="",a=n.toString().trim();if(ZJ.has(t)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(uJ(e,n))}return a+o}};var py="*";function KJ(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>YJ(n,t,e)):t.push(i),t}function YJ(i,e,t){if(i[0]==":"){let d=QJ(i,t);if(typeof d=="function"){e.push(d);return}i=d}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(wJ(i)),e;let r=n[1],o=n[2],a=n[3];e.push(HL(r,a));let l=r==py&&a==py;o[0]=="<"&&!l&&e.push(HL(a,r))}function QJ(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(xJ(i)),"* => *"}}var oy=new Set(["true","1"]),sy=new Set(["false","0"]);function HL(i,e){let t=oy.has(i)||sy.has(i),n=oy.has(e)||sy.has(e);return(r,o)=>{let a=i==py||i==r,l=e==py||e==o;return!a&&t&&typeof r=="boolean"&&(a=r?oy.has(i):sy.has(i)),!l&&n&&typeof o=="boolean"&&(l=o?oy.has(e):sy.has(e)),a&&l}}var oj=":self",XJ=new RegExp(`s*${oj}s*,?`,"g");function sj(i,e,t,n){return new jT(i).build(e,t,n)}var zL="",jT=class{constructor(e){this._driver=e}build(e,t,n){let r=new VT(t);return this._resetContextStyleTimingState(r),Tn(this,yp(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=zL,e.collectedStyles=new Map,e.collectedStyles.set(zL,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0,o=[],a=[];return e.name.charAt(0)=="@"&&t.errors.push(dJ()),e.definitions.forEach(l=>{if(this._resetContextStyleTimingState(t),l.type==0){let d=l,p=d.name;p.toString().split(/\s*,\s*/).forEach(m=>{d.name=m,o.push(this.visitState(d,t))}),d.name=p}else if(l.type==1){let d=this.visitTransition(l,t);n+=d.queryCount,r+=d.depCount,a.push(d)}else t.errors.push(hJ())}),{type:7,name:e.name,states:o,transitions:a,queryCount:n,depCount:r,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,a=r||{};if(n.styles.forEach(l=>{l instanceof Map&&l.forEach(d=>{nj(d).forEach(p=>{a.hasOwnProperty(p)||o.add(p)})})}),o.size){let l=dy(o.values());t.errors.push(pJ(e.name,l))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=Tn(this,yp(e.animation),t);return{type:1,matchers:KJ(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:oc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>Tn(this,n,t)),options:oc(e.options)}}visitGroup(e,t){let n=t.currentTime,r=0,o=e.steps.map(a=>{t.currentTime=n;let l=Tn(this,a,t);return r=Math.max(r,t.currentTime),l});return t.currentTime=r,{type:3,steps:o,options:oc(e.options)}}visitAnimate(e,t){let n=iee(e.timings,t.errors);t.currentAnimateTimings=n;let r,o=e.styles?e.styles:ST({});if(o.type==5)r=this.visitKeyframes(o,t);else{let a=e.styles,l=!1;if(!a){l=!0;let p={};n.easing&&(p.easing=n.easing),a=ST(p)}t.currentTime+=n.duration+n.delay;let d=this.visitStyle(a,t);d.isEmptyStep=l,r=d}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let l of r)typeof l=="string"?l===Qr?n.push(l):t.errors.push(fJ(l)):n.push(ij(l));let o=!1,a=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(a=l.get("easing"),l.delete("easing")),!o)){for(let d of l.values())if(d.toString().indexOf(ej)>=0){o=!0;break}}}),{type:6,styles:n,easing:a,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,r=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(a=>{typeof a!="string"&&a.forEach((l,d)=>{let p=t.collectedStyles.get(t.currentQuerySelector),m=p.get(d),b=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(t.errors.push(gJ(d,m.startTime,m.endTime,o,r)),b=!1),o=m.startTime),b&&p.set(d,{startTime:o,endTime:r}),t.options&&UJ(l,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(mJ()),n;let r=1,o=0,a=[],l=!1,d=!1,p=0,m=e.steps.map($=>{let ce=this._makeStyleAst($,t),Te=ce.offset!=null?ce.offset:tee(ce.styles),we=0;return Te!=null&&(o++,we=ce.offset=Te),d=d||we<0||we>1,l=l||we<p,p=we,a.push(we),ce});d&&t.errors.push(vJ()),l&&t.errors.push(bJ());let b=e.steps.length,w=0;o>0&&o<b?t.errors.push(yJ()):o==0&&(w=r/(b-1));let E=b-1,T=t.currentTime,V=t.currentAnimateTimings,A=V.duration;return m.forEach(($,ce)=>{let Te=w>0?ce==E?1:w*ce:a[ce],we=Te*A;t.currentTime=T+V.delay+we,V.duration=we,this._validateStyleAst($,t),$.offset=Te,n.styles.push($)}),n}visitReference(e,t){return{type:8,animation:Tn(this,yp(e.animation),t),options:oc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:oc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:oc(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[o,a]=JJ(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,Mn(t.collectedStyles,t.currentQuerySelector,new Map);let l=Tn(this,yp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:l,originalSelector:e.selector,options:oc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(_J());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:uy(e.timings,t.errors,!0);return{type:12,animation:Tn(this,yp(e.animation),t),timings:n,options:null}}};function JJ(i){let e=!!i.split(/\s*,\s*/).find(t=>t==oj);return e&&(i=i.replace(XJ,"")),i=i.replace(/@\*/g,ly).replace(/@\w+/g,t=>ly+"-"+t.slice(1)).replace(/:animating/g,OT),[i,e]}function eee(i){return i?Dp(i):null}var VT=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function tee(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function iee(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=uy(i,e).duration;return MT(o,0,"")}let t=i;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=MT(0,0,"");return o.dynamic=!0,o.strValue=t,o}let r=uy(t,e);return MT(r.duration,r.delay,r.easing)}function oc(i){return i?(i=Dp(i),i.params&&(i.params=eee(i.params))):i={},i}function MT(i,e,t){return{duration:i,delay:e,easing:t}}function eM(i,e,t,n,r,o,a=null,l=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:l}}var wp=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},nee=1,ree=":enter",oee=new RegExp(ree,"g"),see=":leave",aee=new RegExp(see,"g");function aj(i,e,t,n,r,o=new Map,a=new Map,l,d,p=[]){return new BT().buildKeyframes(i,e,t,n,r,o,a,l,d,p)}var BT=class{buildKeyframes(e,t,n,r,o,a,l,d,p,m=[]){p=p||new wp;let b=new HT(e,t,p,r,o,m,[]);b.options=d;let w=d.delay?Po(d.delay):0;b.currentTimeline.delayNextStep(w),b.currentTimeline.setStyles([a],null,b.errors,d),Tn(this,n,b);let E=b.timelines.filter(T=>T.containsAnimation());if(E.length&&l.size){let T;for(let V=E.length-1;V>=0;V--){let A=E[V];if(A.element===t){T=A;break}}T&&!T.allowOnlyTimelineStyles()&&T.setStyles([l],null,b.errors,d)}return E.length?E.map(T=>T.buildKeyframes()):[eM(t,[],[],[],0,w,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);o!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let r of e){let o=r?.delay;if(o){let a=typeof o=="number"?o:Po(Cp(o,r?.params??{},t.errors));n.delayNextStep(a)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime,a=n.duration!=null?Po(n.duration):null,l=n.delay!=null?Po(n.delay):null;return a!==0&&e.forEach(d=>{let p=t.appendInstructionToTimeline(d,a,l);o=Math.max(o,p.duration+p.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Tn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,r=t,o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==6&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=fy);let a=Po(o.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Tn(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],r=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Po(e.options.delay):0;e.steps.forEach(a=>{let l=t.createSubContext(e.options);o&&l.delayNextStep(o),Tn(this,a,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,r=t.params?Cp(n,t.params,t.errors):n;return uy(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());let o=e.style;o.type==5?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,r=t.currentTimeline.duration,o=n.duration,l=t.createSubContext().currentTimeline;l.easing=n.easing,e.styles.forEach(d=>{let p=d.offset||0;l.forwardTime(p*o),l.setStyles(d.styles,d.easing,t.errors,t.options),l.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(l),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Po(r.delay):0;o&&(t.previousNode.type===6||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fy);let a=n,l=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=l.length;let d=null;l.forEach((p,m)=>{t.currentQueryIndex=m;let b=t.createSubContext(e.options,p);o&&b.delayNextStep(o),p===t.element&&(d=b.currentTimeline),Tn(this,e.animation,b),b.currentTimeline.applyStylesToKeyframe();let w=b.currentTimeline.currentTime;a=Math.max(a,w)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),d&&(t.currentTimeline.mergeTimelineCollectedStyles(d),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,r=t.currentTimeline,o=e.timings,a=Math.abs(o.duration),l=a*(t.currentQueryTotal-1),d=a*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":d=l-d;break;case"full":d=n.currentStaggerTime;break}let m=t.currentTimeline;d&&m.delayNextStep(d);let b=m.currentTime;Tn(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-b+(r.startTime-n.currentTimeline.startTime)}},fy={},HT=class i{constructor(e,t,n,r,o,a,l,d){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=l,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new gy(this._driver,t,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=Po(n.duration)),n.delay!=null&&(r.delay=Po(n.delay));let o=n.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(l=>{(!t||!a.hasOwnProperty(l))&&(a[l]=Cp(o[l],a,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){let r=t||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=fy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new zT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,o,a){let l=[];if(r&&l.push(this.element),e.length>0){e=e.replace(oee,"."+this._enterClassName),e=e.replace(aee,"."+this._leaveClassName);let d=n!=1,p=this._driver.query(this.element,e,d);n!==0&&(p=n<0?p.slice(p.length+n,p.length):p.slice(0,n)),l.push(...p)}return!o&&l.length==0&&a.push(CJ(t)),l}},gy=class i{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=nee,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||Qr),this._currentKeyframe.set(t,Qr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&this._previousKeyframe.set("easing",t);let o=r&&r.params||{},a=cee(e,this._globalTimelineStyles);for(let[l,d]of a){let p=Cp(d,o,n);this._pendingStyles.set(l,p),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Qr),this._updateStyle(l,p)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,d)=>{let p=uu(l,new Map,this._backFill);p.forEach((m,b)=>{m===ny?e.add(b):m===Qr&&t.add(b)}),n||p.set("offset",d/this.duration),r.push(p)});let o=e.size?dy(e.values()):[],a=t.size?dy(t.values()):[];if(n){let l=r[0],d=new Map(l);l.set("offset",0),d.set("offset",1),r=[l,d]}return eM(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},zT=class extends gy{constructor(e,t,n,r,o,a,l=!1){super(e,t,a.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],a=n+t,l=t/a,d=uu(e[0]);d.set("offset",0),o.push(d);let p=uu(e[0]);p.set("offset",$L(l)),o.push(p);let m=e.length-1;for(let b=1;b<=m;b++){let w=uu(e[b]),E=w.get("offset"),T=t+E*n;w.set("offset",$L(T/a)),o.push(w)}n=a,t=0,r="",e=o}return eM(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}};function $L(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function cee(i,e){let t=new Map,n;return i.forEach(r=>{if(r==="*"){n=n||e.keys();for(let o of n)t.set(o,Qr)}else uu(r,t)}),t}function UL(i,e,t,n,r,o,a,l,d,p,m,b,w){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:n,toStyles:a,timelines:l,queriedElements:d,preStyleProps:p,postStyleProps:m,totalTime:b,errors:w}}var kT={},my=class{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return lee(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,n):new Map}build(e,t,n,r,o,a,l,d,p,m){let b=[],w=this.ast.options&&this.ast.options.params||kT,E=l&&l.params||kT,T=this.buildStyles(n,E,b),V=d&&d.params||kT,A=this.buildStyles(r,V,b),$=new Set,ce=new Map,Te=new Map,we=r==="void",Ot={params:uee(V,w),delay:this.ast.options?.delay},mt=m?[]:aj(e,t,this.ast.animation,o,a,T,A,Ot,p,b),ct=0;if(mt.forEach(vt=>{ct=Math.max(vt.duration+vt.delay,ct)}),b.length)return UL(t,this._triggerName,n,r,we,T,A,[],[],ce,Te,ct,b);mt.forEach(vt=>{let wt=vt.element,ks=Mn(ce,wt,new Set);vt.preStyleProps.forEach(An=>ks.add(An));let bi=Mn(Te,wt,new Set);vt.postStyleProps.forEach(An=>bi.add(An)),wt!==t&&$.add(wt)});let Xt=dy($.values());return UL(t,this._triggerName,n,r,we,T,A,mt,Xt,ce,Te,ct)}};function lee(i,e,t,n,r){return i.some(o=>o(e,t,n,r))}function uee(i,e){let t=Dp(e);for(let n in i)i.hasOwnProperty(n)&&i[n]!=null&&(t[n]=i[n]);return t}var $T=class{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,r=Dp(this.defaultParams);return Object.keys(e).forEach(o=>{let a=e[o];a!==null&&(r[o]=a)}),this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{a&&(a=Cp(a,r,t));let d=this.normalizer.normalizePropertyName(l,t);a=this.normalizer.normalizeStyleValue(l,d,a,t),n.set(l,a)})}),n}};function dee(i,e,t){return new UT(i,e,t)}var UT=class{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new $T(r.style,o,n))}),WL(this.states,"true","1"),WL(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new my(e,r,this.states))}),this.fallbackTransition=hee(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(a=>a.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function hee(i,e,t){let o={type:1,animation:{type:2,steps:[],options:null},matchers:[(a,l)=>!0],options:null,queryCount:0,depCount:0};return new my(i,o,e)}function WL(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var pee=new wp,WT=class{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let n=[],r=[],o=sj(this._driver,t,n,r);if(n.length)throw DJ(n);r.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,t,n){let r=e.element,o=QL(this._normalizer,e.keyframes,t,n);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let r=[],o=this._animations.get(e),a,l=new Map;if(o?(a=aj(this._driver,t,o,tj,PT,new Map,new Map,n,pee,r),a.forEach(m=>{let b=Mn(l,m.element,new Map);m.postStyleProps.forEach(w=>b.set(w,null))})):(r.push(SJ()),a=[]),r.length)throw TJ(r);l.forEach((m,b)=>{m.forEach((w,E)=>{m.set(E,this._driver.computeStyle(b,E,Qr))})});let d=a.map(m=>{let b=l.get(m.element);return this._buildPlayer(m,new Map,b)}),p=Ms(d);return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw MJ(e);return t}listen(e,t,n,r){let o=YT(t,"","","");return KT(this._getPlayer(e),n,o,r),()=>{}}command(e,t,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let a=r[0]||{};this.create(e,t,a);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},GL="ng-animate-queued",fee=".ng-animate-queued",AT="ng-animate-disabled",gee=".ng-animate-disabled",mee="ng-star-inserted",vee=".ng-star-inserted",bee=[],cj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cr="__ng_removed",xp=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=Cee(r),n){let o=Dp(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(r=>{n[r]==null&&(n[r]=t[r])})}}},_p="void",RT=new xp(_p),GT=class{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,tr(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.has(t))throw kJ(n,t);if(n==null||n.length==0)throw AJ(t);if(!wee(n))throw RJ(n,t);let o=Mn(this._elementListeners,e,[]),a={name:t,phase:n,callback:r};o.push(a);let l=Mn(this._engine.statesByElement,e,new Map);return l.has(t)||(tr(e,ry),tr(e,ry+"-"+t),l.set(t,RT)),()=>{this._engine.afterFlush(()=>{let d=o.indexOf(a);d>=0&&o.splice(d,1),this._triggers.has(t)||l.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw FJ(e);return t}trigger(e,t,n,r=!0){let o=this._getTrigger(t),a=new Ip(this.id,t,e),l=this._engine.statesByElement.get(e);l||(tr(e,ry),tr(e,ry+"-"+t),this._engine.statesByElement.set(e,l=new Map));let d=l.get(t),p=new xp(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&d&&p.absorbOptions(d.options),l.set(t,p),d||(d=RT),!(p.value===_p)&&d.value===p.value){if(!Eee(d.params,p.params)){let V=[],A=o.matchStyles(d.value,d.params,V),$=o.matchStyles(p.value,p.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{sc(e,A),Xr(e,$)})}return}let w=Mn(this._engine.playersByElement,e,[]);w.forEach(V=>{V.namespaceId==this.id&&V.triggerName==t&&V.queued&&V.destroy()});let E=o.matchTransition(d.value,p.value,e,p.params),T=!1;if(!E){if(!r)return;E=o.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:E,fromState:d,toState:p,player:a,isFallbackTransition:T}),T||(tr(e,GL),a.onStart(()=>{lu(e,GL)})),a.onDone(()=>{let V=this.players.indexOf(a);V>=0&&this.players.splice(V,1);let A=this._engine.playersByElement.get(e);if(A){let $=A.indexOf(a);$>=0&&A.splice($,1)}}),this.players.push(a),w.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,ly,!0);n.forEach(r=>{if(r[Cr])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){let o=this._engine.statesByElement.get(e),a=new Map;if(o){let l=[];if(o.forEach((d,p)=>{if(a.set(p,d.value),this._triggers.has(p)){let m=this.trigger(e,p,_p,r);m&&l.push(m)}}),l.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),n&&Ms(l).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let r=new Set;t.forEach(o=>{let a=o.name;if(r.has(a))return;r.add(a);let d=this._triggers.get(a).fallbackTransition,p=n.get(a)||RT,m=new xp(_p),b=new Ip(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:d,fromState:p,toState:m,player:b,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let a=e;for(;a=a.parentNode;)if(n.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Cr];(!o||o===cj)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){tr(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,a=this._elementListeners.get(o);a&&a.forEach(l=>{if(l.name==n.triggerName){let d=YT(o,n.triggerName,n.fromState.value,n.toState.value);d._data=e,KT(n.player,l.phase,d,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{let o=n.transition.ast.depCount,a=r.transition.ast.depCount;return o==0||a==0?o-a:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},qT=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new GT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let a=!1,l=this.driver.getParentElement(t);for(;l;){let d=r.get(l);if(d){let p=n.indexOf(d);n.splice(p+1,0,e),a=!0;break}l=this.driver.getParentElement(l)}a||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}}return t}trigger(e,t,n,r){if(ay(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!ay(t))return;let o=t[Cr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){let a=this._fetchNamespace(e);a&&a.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),tr(e,AT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),lu(e,AT))}removeNode(e,t,n){if(ay(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,r,o){this.collectedLeaveElements.push(t),t[Cr]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,r,o){return ay(t)?this._fetchNamespace(e).listen(t,n,r,o):()=>{}}_buildInstruction(e,t,n,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ly,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,OT,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ms(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Cr];if(t&&t.setForRemoval){if(e[Cr]=cj,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(AT)&&this.markElementAsDisabled(e,!1),this.driver.query(e,gee,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];tr(r,mee)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?Ms(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw PJ(e)}_flushAnimations(e,t){let n=new wp,r=[],o=new Map,a=[],l=new Map,d=new Map,p=new Map,m=new Set;this.disabledNodes.forEach(U=>{m.add(U);let me=this.driver.query(U,fee,!0);for(let K=0;K<me.length;K++)m.add(me[K])});let b=this.bodyNode,w=Array.from(this.statesByElement.keys()),E=KL(w,this.collectedEnterElements),T=new Map,V=0;E.forEach((U,me)=>{let K=tj+V++;T.set(me,K),U.forEach(de=>tr(de,K))});let A=[],$=new Set,ce=new Set;for(let U=0;U<this.collectedLeaveElements.length;U++){let me=this.collectedLeaveElements[U],K=me[Cr];K&&K.setForRemoval&&(A.push(me),$.add(me),K.hasAnimation?this.driver.query(me,vee,!0).forEach(de=>$.add(de)):ce.add(me))}let Te=new Map,we=KL(w,Array.from($));we.forEach((U,me)=>{let K=PT+V++;Te.set(me,K),U.forEach(de=>tr(de,K))}),e.push(()=>{E.forEach((U,me)=>{let K=T.get(me);U.forEach(de=>lu(de,K))}),we.forEach((U,me)=>{let K=Te.get(me);U.forEach(de=>lu(de,K))}),A.forEach(U=>{this.processLeaveNode(U)})});let Ot=[],mt=[];for(let U=this._namespaceList.length-1;U>=0;U--)this._namespaceList[U].drainQueuedTransitions(t).forEach(K=>{let de=K.player,tt=K.element;if(Ot.push(de),this.collectedEnterElements.length){let ai=tt[Cr];if(ai&&ai.setForMove){if(ai.previousTriggersValues&&ai.previousTriggersValues.has(K.triggerName)){let nr=ai.previousTriggersValues.get(K.triggerName),Fi=this.statesByElement.get(K.element);if(Fi&&Fi.has(K.triggerName)){let xr=Fi.get(K.triggerName);xr.value=nr,Fi.set(K.triggerName,xr)}}de.destroy();return}}let Dt=!b||!this.driver.containsElement(b,tt),Je=Te.get(tt),Ke=T.get(tt),he=this._buildInstruction(K,n,Ke,Je,Dt);if(he.errors&&he.errors.length){mt.push(he);return}if(Dt){de.onStart(()=>sc(tt,he.fromStyles)),de.onDestroy(()=>Xr(tt,he.toStyles)),r.push(de);return}if(K.isFallbackTransition){de.onStart(()=>sc(tt,he.fromStyles)),de.onDestroy(()=>Xr(tt,he.toStyles)),r.push(de);return}let ji=[];he.timelines.forEach(ai=>{ai.stretchStartingKeyframe=!0,this.disabledNodes.has(ai.element)||ji.push(ai)}),he.timelines=ji,n.append(tt,he.timelines);let Rn={instruction:he,player:de,element:tt};a.push(Rn),he.queriedElements.forEach(ai=>Mn(l,ai,[]).push(de)),he.preStyleProps.forEach((ai,nr)=>{if(ai.size){let Fi=d.get(nr);Fi||d.set(nr,Fi=new Set),ai.forEach((xr,As)=>Fi.add(As))}}),he.postStyleProps.forEach((ai,nr)=>{let Fi=p.get(nr);Fi||p.set(nr,Fi=new Set),ai.forEach((xr,As)=>Fi.add(As))})});if(mt.length){let U=[];mt.forEach(me=>{U.push(OJ(me.triggerName,me.errors))}),Ot.forEach(me=>me.destroy()),this.reportError(U)}let ct=new Map,Xt=new Map;a.forEach(U=>{let me=U.element;n.has(me)&&(Xt.set(me,me),this._beforeAnimationBuild(U.player.namespaceId,U.instruction,ct))}),r.forEach(U=>{let me=U.element;this._getPreviousPlayers(me,!1,U.namespaceId,U.triggerName,null).forEach(de=>{Mn(ct,me,[]).push(de),de.destroy()})});let vt=A.filter(U=>YL(U,d,p)),wt=new Map;ZL(wt,this.driver,ce,p,Qr).forEach(U=>{YL(U,d,p)&&vt.push(U)});let bi=new Map;E.forEach((U,me)=>{ZL(bi,this.driver,new Set(U),d,ny)}),vt.forEach(U=>{let me=wt.get(U),K=bi.get(U);wt.set(U,new Map([...me?.entries()??[],...K?.entries()??[]]))});let An=[],yi=[],wr={};a.forEach(U=>{let{element:me,player:K,instruction:de}=U;if(n.has(me)){if(m.has(me)){K.onDestroy(()=>Xr(me,de.toStyles)),K.disabled=!0,K.overrideTotalTime(de.totalTime),r.push(K);return}let tt=wr;if(Xt.size>1){let Je=me,Ke=[];for(;Je=Je.parentNode;){let he=Xt.get(Je);if(he){tt=he;break}Ke.push(Je)}Ke.forEach(he=>Xt.set(he,tt))}let Dt=this._buildAnimation(K.namespaceId,de,ct,o,bi,wt);if(K.setRealPlayer(Dt),tt===wr)An.push(K);else{let Je=this.playersByElement.get(tt);Je&&Je.length&&(K.parentPlayer=Ms(Je)),r.push(K)}}else sc(me,de.fromStyles),K.onDestroy(()=>Xr(me,de.toStyles)),yi.push(K),m.has(me)&&r.push(K)}),yi.forEach(U=>{let me=o.get(U.element);if(me&&me.length){let K=Ms(me);U.setRealPlayer(K)}}),r.forEach(U=>{U.parentPlayer?U.syncPlayerEvents(U.parentPlayer):U.destroy()});for(let U=0;U<A.length;U++){let me=A[U],K=me[Cr];if(lu(me,PT),K&&K.hasAnimation)continue;let de=[];if(l.size){let Dt=l.get(me);Dt&&Dt.length&&de.push(...Dt);let Je=this.driver.query(me,OT,!0);for(let Ke=0;Ke<Je.length;Ke++){let he=l.get(Je[Ke]);he&&he.length&&de.push(...he)}}let tt=de.filter(Dt=>!Dt.destroyed);tt.length?xee(this,me,tt):this.processLeaveNode(me)}return A.length=0,An.forEach(U=>{this.players.push(U),U.onDone(()=>{U.destroy();let me=this.players.indexOf(U);this.players.splice(me,1)}),U.play()}),An}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,o){let a=[];if(t){let l=this.playersByQueriedElement.get(e);l&&(a=l)}else{let l=this.playersByElement.get(e);if(l){let d=!o||o==_p;l.forEach(p=>{p.queued||!d&&p.triggerName!=r||a.push(p)})}}return(n||r)&&(a=a.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),a}_beforeAnimationBuild(e,t,n){let r=t.triggerName,o=t.element,a=t.isRemovalTransition?void 0:e,l=t.isRemovalTransition?void 0:r;for(let d of t.timelines){let p=d.element,m=p!==o,b=Mn(n,p,[]);this._getPreviousPlayers(p,m,a,l,t.toState).forEach(E=>{let T=E.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),E.destroy(),b.push(E)})}sc(o,t.fromStyles)}_buildAnimation(e,t,n,r,o,a){let l=t.triggerName,d=t.element,p=[],m=new Set,b=new Set,w=t.timelines.map(T=>{let V=T.element;m.add(V);let A=V[Cr];if(A&&A.removedBeforeQueried)return new Ts(T.duration,T.delay);let $=V!==d,ce=Iee((n.get(V)||bee).map(ct=>ct.getRealPlayer())).filter(ct=>{let Xt=ct;return Xt.element?Xt.element===V:!1}),Te=o.get(V),we=a.get(V),Ot=QL(this._normalizer,T.keyframes,Te,we),mt=this._buildPlayer(T,Ot,ce);if(T.subTimeline&&r&&b.add(V),$){let ct=new Ip(e,l,V);ct.setRealPlayer(mt),p.push(ct)}return mt});p.forEach(T=>{Mn(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>_ee(this.playersByQueriedElement,T.element,T))}),m.forEach(T=>tr(T,BL));let E=Ms(w);return E.onDestroy(()=>{m.forEach(T=>lu(T,BL)),Xr(d,t.toStyles)}),b.forEach(T=>{Mn(r,T,[]).push(E)}),E}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ts(e.duration,e.delay)}},Ip=class{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Ts,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>KT(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Mn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function _ee(i,e,t){let n=i.get(e);if(n){if(n.length){let r=n.indexOf(t);n.splice(r,1)}n.length==0&&i.delete(e)}return n}function Cee(i){return i??null}function ay(i){return i&&i.nodeType===1}function wee(i){return i=="start"||i=="done"}function qL(i,e){let t=i.style.display;return i.style.display=e??"none",t}function ZL(i,e,t,n,r){let o=[];t.forEach(d=>o.push(qL(d)));let a=[];n.forEach((d,p)=>{let m=new Map;d.forEach(b=>{let w=e.computeStyle(p,b,r);m.set(b,w),(!w||w.length==0)&&(p[Cr]=yee,a.push(p))}),i.set(p,m)});let l=0;return t.forEach(d=>qL(d,o[l++])),a}function KL(i,e){let t=new Map;if(i.forEach(l=>t.set(l,[])),e.length==0)return t;let n=1,r=new Set(e),o=new Map;function a(l){if(!l)return n;let d=o.get(l);if(d)return d;let p=l.parentNode;return t.has(p)?d=p:r.has(p)?d=n:d=a(p),o.set(l,d),d}return e.forEach(l=>{let d=a(l);d!==n&&t.get(d).push(l)}),t}function tr(i,e){i.classList?.add(e)}function lu(i,e){i.classList?.remove(e)}function xee(i,e,t){Ms(t).onDone(()=>i.processLeaveNode(e))}function Iee(i){let e=[];return lj(i,e),e}function lj(i,e){for(let t=0;t<i.length;t++){let n=i[t];n instanceof bp?lj(n.players,e):e.push(n)}}function Eee(i,e){let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r];if(!e.hasOwnProperty(o)||i[o]!==e[o])return!1}return!0}function YL(i,e,t){let n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(o=>r.add(o)):e.set(i,n),t.delete(i),!0}var du=class{constructor(e,t,n){this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new qT(e.body,t,n),this._timelineEngine=new WT(e.body,t,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,n,r,o){let a=e+"-"+r,l=this._triggerCache[a];if(!l){let d=[],p=[],m=sj(this._driver,o,d,p);if(d.length)throw IJ(r,d);p.length&&void 0,l=dee(r,m,this._normalizer),this._triggerCache[a]=l}this._transitionEngine.registerTrigger(t,r,l)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if(n.charAt(0)=="@"){let[o,a]=jL(n),l=r;this._timelineEngine.command(o,t,a,l)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,o){if(n.charAt(0)=="@"){let[a,l]=jL(n);return this._timelineEngine.listen(a,t,l,o)}return this._transitionEngine.listen(e,t,n,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Dee(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=FT(e[0]),e.length>1&&(n=FT(e[e.length-1]))):e instanceof Map&&(t=FT(e)),t||n?new See(i,t,n):null}var See=(()=>{let e=class e{constructor(n,r,o){this._element=n,this._startStyles=r,this._endStyles=o,this._state=0;let a=e.initialStylesByElement.get(n);a||e.initialStylesByElement.set(n,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xr(this._element,this._initialStyles),this._endStyles&&(Xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(sc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sc(this._element,this._endStyles),this._endStyles=null),Xr(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let i=e;return i})();function FT(i){let e=null;return i.forEach((t,n)=>{Tee(n)&&(e=e||new Map,e.set(n,t))}),e}function Tee(i){return i==="display"||i==="position"}var vy=class{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:rj(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},by=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return XL(e,t)}getParentElement(e){return QT(e)}query(e,t,n){return JL(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,r,o,a=[]){let l=r==0?"both":"forwards",d={duration:n,delay:r,fill:l};o&&(d.easing=o);let p=new Map,m=a.filter(E=>E instanceof vy);GJ(n,r)&&m.forEach(E=>{E.currentSnapshot.forEach((T,V)=>p.set(V,T))});let b=$J(t).map(E=>uu(E));b=qJ(e,b,p);let w=Dee(e,b);return new vy(e,b,d,w)}};var cy="@",uj="@.disabled",yy=class{constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==cy&&t==uj?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ZT=class extends yy{constructor(e,t,n,r,o){super(t,n,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==cy?t.charAt(1)=="."&&t==uj?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==cy){let r=Mee(e),o=t.slice(1),a="";return o.charAt(0)!=cy&&([o,a]=kee(o)),this.engine.listen(this.namespaceId,r,o,a,l=>{let d=l._data||-1;this.factory.scheduleListenerCallback(d,n,l)})}return this.delegate.listen(e,t,n)}};function Mee(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function kee(i){let e=i.indexOf("."),t=i.substring(0,e),n=i.slice(e+1);return[t,n]}var _y=class{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{let a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,t){let n="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let p=this._rendererCache,m=p.get(r);if(!m){let b=()=>p.delete(r);m=new yy(n,r,this.engine,b),p.set(r,m)}return m}let o=t.id,a=t.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);let l=p=>{Array.isArray(p)?p.forEach(l):this.engine.registerTrigger(o,a,e,p.name,p)};return t.data.animation.forEach(l),new ZT(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[a,l]=o;a(l)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Ree=(()=>{let e=class e extends du{constructor(n,r,o,a){super(n,r,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(M(ot),M(Ep),M(ac),M(Ci))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function Fee(){return new hy}function Pee(i,e,t){return new _y(i,e,t)}var hj=[{provide:ac,useFactory:Fee},{provide:du,useClass:Ree},{provide:Ks,useFactory:Pee,deps:[sm,du,Ge]}],dj=[{provide:Ep,useFactory:()=>new by},{provide:_g,useValue:"BrowserAnimations"},...hj],Oee=[{provide:Ep,useClass:XT},{provide:_g,useValue:"NoopAnimations"},...hj],pj=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:n.disableAnimations?Oee:dj}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({providers:dj,imports:[cm]});let i=e;return i})();var tM;try{tM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{tM=!1}var Tp=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?en(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||tM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(M(Bt))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Sp;function Nee(){if(Sp==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sp=!0}))}finally{Sp=Sp||!1}return Sp}function iM(i){return Nee()?i:!!i.capture}function fj(i){return i.composedPath?i.composedPath()[0]:i.target}function gj(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function nM(i){return Array.isArray(i)?i:[i]}function rM(i){return i instanceof F?i.nativeElement:i}var vj=new Set,cc,Lee=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Vee}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&jee(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(M(Tp),M(Ju,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function jee(i,e){if(!vj.has(i))try{cc||(cc=document.createElement("style"),e&&(cc.nonce=e),cc.setAttribute("type","text/css"),document.head.appendChild(cc)),cc.sheet&&(cc.sheet.insertRule(`@media ${i} {body{ }}`,0),vj.add(i))}catch(t){console.error(t)}}function Vee(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var yj=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new ut}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return bj(nM(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=bj(nM(n)).map(l=>this._registerQuery(l).observable),a=Mr(o);return a=jo(a.pipe(fn(1)),a.pipe(Rc(1),Ru(0))),a.pipe(Ve(l=>{let d={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:m})=>{d.matches=d.matches||p,d.breakpoints[m]=p}),d}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),a={observable:new De(l=>{let d=p=>this._zone.run(()=>l.next(p));return r.addListener(d),()=>{r.removeListener(d)}}).pipe(Pu(r),Ve(({matches:l})=>({query:n,matches:l})),We(this._destroySubject)),mql:r};return this._queries.set(n,a),a}};e.\u0275fac=function(r){return new(r||e)(M(Lee),M(Ge))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function bj(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function wj(i){return i.buttons===0||i.detail===0}function xj(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var _j="cdk-high-contrast-black-on-white",Cj="cdk-high-contrast-white-on-black",oM="cdk-high-contrast-active",Ij=(()=>{let e=class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=B(yj).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,a=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(oM,_j,Cj),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===1?n.add(oM,_j):r===2&&n.add(oM,Cj)}}};e.\u0275fac=function(r){return new(r||e)(M(Tp),M(ot))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var sM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({});let i=e;return i})();function Hee(){return!0}var zee=new ie("mat-sanity-checks",{providedIn:"root",factory:Hee}),kn=(()=>{let e=class e{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return gj()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(r){return new(r||e)(M(Ij),M(zee,8),M(ot))},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[sM,sM]});let i=e;return i})();var aM=class{constructor(e,t,n,r=!1){this._renderer=e,this.element=t,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}},Ej=iM({passive:!0,capture:!0}),cM=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let t=fj(e);t&&this._events.get(e.type)?.forEach((n,r)=>{(r===t||r.contains(t))&&n.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,n,r){let o=this._events.get(t);if(o){let a=o.get(n);a?a.add(r):o.set(n,new Set([r]))}else this._events.set(t,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,Ej)})}removeHandler(e,t,n){let r=this._events.get(e);if(!r)return;let o=r.get(t);o&&(o.delete(n),o.size===0&&r.delete(t),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Ej)))}},Dj={enterDuration:225,exitDuration:150},$ee=800,Sj=iM({passive:!0,capture:!0}),Tj=["mousedown","touchstart"],Mj=["mouseup","mouseleave","touchend","touchcancel"],Mp=class Mp{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=rM(n))}fadeInRipple(e,t,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=X(X({},Dj),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);let a=n.radius||Uee(e,t,r),l=e-r.left,d=t-r.top,p=o.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${l-a}px`,m.style.top=`${d-a}px`,m.style.height=`${a*2}px`,m.style.width=`${a*2}px`,n.color!=null&&(m.style.backgroundColor=n.color),m.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(m);let b=window.getComputedStyle(m),w=b.transitionProperty,E=b.transitionDuration,T=w==="none"||E==="0s"||E==="0s, 0s"||r.width===0&&r.height===0,V=new aM(this,m,n,T);m.style.transform="scale3d(1, 1, 1)",V.state=0,n.persistent||(this._mostRecentTransientRipple=V);let A=null;return!T&&(p||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let $=()=>this._finishRippleTransition(V),ce=()=>this._destroyRipple(V);m.addEventListener("transitionend",$),m.addEventListener("transitioncancel",ce),A={onTransitionEnd:$,onTransitionCancel:ce}}),this._activeRipples.set(V,A),(T||!p)&&this._finishRippleTransition(V),V}fadeOutRipple(e){if(e.state===2||e.state===3)return;let t=e.element,n=X(X({},Dj),e.config.animation);t.style.transitionDuration=`${n.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=rM(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Tj.forEach(n=>{Mp._eventManager.addHandler(this._ngZone,n,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Mj.forEach(t=>{this._triggerElement.addEventListener(t,this,Sj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===0?this._startFadeOutTransition(e):e.state===2&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=1,!n&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){let t=wj(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+$ee;!this._target.rippleDisabled&&!t&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!xj(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let n=0;n<t.length;n++)this.fadeInRipple(t[n].clientX,t[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===1||e.config.terminateOnPointerUp&&e.state===0;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Tj.forEach(t=>Mp._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Mj.forEach(t=>e.removeEventListener(t,this,Sj)))}};Mp._eventManager=new cM;var kj=Mp;function Uee(i,e,t){let n=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(n*n+r*r)}var Aj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[kn,kn]});let i=e;return i})();var Rj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[kn]});let i=e;return i})();var Fj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[kn,kn]});let i=e;return i})();var Pj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[kn,kn]});let i=e;return i})();var Oj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[kn,Aj,kn]});let i=e;return i})();var hu=Ck(lM(),1),Ri=class{static mapToArray(e){let t=[];for(let n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}static handleEvent(e,t,n){0<t.observers.length&&e.run(()=>{t.emit(n)})}},Lj=(()=>{let e=class e{constructor(n,r){this.element=n,this.zone=r,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,hu.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new J,this.zoomChange=new J,this.centerChange=new J,this.onClick=new J,this.onDoubleClick=new J,this.onMouseDown=new J,this.onMouseUp=new J,this.onMouseMove=new J,this.onMouseOver=new J,this.onMouseOut=new J,this.onMapMove=new J,this.onMapMoveStart=new J,this.onMapMoveEnd=new J,this.onMapZoom=new J,this.onMapZoomStart=new J,this.onMapZoomEnd=new J}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,hu.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),this.center!=null&&this.zoom!=null&&this.setView(this.center,this.zoom),this.fitBounds!=null&&this.setFitBounds(this.fitBounds),this.maxBounds!=null&&this.setMaxBounds(this.maxBounds),this.minZoom!=null&&this.setMinZoom(this.minZoom),this.maxZoom!=null&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(n){n.zoom&&n.center&&this.zoom!=null&&this.center!=null?this.setView(n.center.currentValue,n.zoom.currentValue):n.zoom?this.setZoom(n.zoom.currentValue):n.center&&this.setCenter(n.center.currentValue),n.fitBounds&&this.setFitBounds(n.fitBounds.currentValue),n.maxBounds&&this.setMaxBounds(n.maxBounds.currentValue),n.minZoom&&this.setMinZoom(n.minZoom.currentValue),n.maxZoom&&this.setMaxZoom(n.maxZoom.currentValue)}ngOnDestroy(){this.map!=null&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){let n=(o,a)=>{this.map.on(o,a)};n("click",o=>Ri.handleEvent(this.zone,this.onClick,o)),n("dblclick",o=>Ri.handleEvent(this.zone,this.onDoubleClick,o)),n("mousedown",o=>Ri.handleEvent(this.zone,this.onMouseDown,o)),n("mouseup",o=>Ri.handleEvent(this.zone,this.onMouseUp,o)),n("mouseover",o=>Ri.handleEvent(this.zone,this.onMouseOver,o)),n("mouseout",o=>Ri.handleEvent(this.zone,this.onMouseOut,o)),n("mousemove",o=>Ri.handleEvent(this.zone,this.onMouseMove,o)),n("zoomstart",o=>Ri.handleEvent(this.zone,this.onMapZoomStart,o)),n("zoom",o=>Ri.handleEvent(this.zone,this.onMapZoom,o)),n("zoomend",o=>Ri.handleEvent(this.zone,this.onMapZoomEnd,o)),n("movestart",o=>Ri.handleEvent(this.zone,this.onMapMoveStart,o)),n("move",o=>Ri.handleEvent(this.zone,this.onMapMove,o)),n("moveend",o=>Ri.handleEvent(this.zone,this.onMapMoveEnd,o));let r=()=>{let o=this.map.getZoom();o!==this.zoom&&(this.zoom=o,Ri.handleEvent(this.zone,this.zoomChange,o));let a=this.map.getCenter();(a!=null||this.center!=null)&&((a==null||this.center==null)&&a!==this.center||a.lat!==this.center.lat||a.lng!==this.center.lng)&&(this.center=a,Ri.handleEvent(this.zone,this.centerChange,a))};n("moveend",r),n("zoomend",r)}doResize(){this.zone.runOutsideAngular(()=>{this.map!=null&&this.map.invalidateSize({})})}delayResize(){this.resizeTimer!=null&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(n,r){this.map!=null&&n!=null&&r!=null&&this.map.setView(n,r,this.zoomPanOptions)}setZoom(n){this.map!=null&&n!=null&&this.map.setZoom(n,this.zoomOptions)}setCenter(n){this.map!=null&&n!=null&&this.map.panTo(n,this.panOptions)}setFitBounds(n){this.map!=null&&n!=null&&this.map.fitBounds(n,this.fitBoundsOptions)}setMaxBounds(n){this.map!=null&&n!=null&&this.map.setMaxBounds(n)}setMinZoom(n){this.map!=null&&n!=null&&this.map.setMinZoom(n)}setMaxZoom(n){this.map!=null&&n!=null&&this.map.setMaxZoom(n)}};e.\u0275fac=function(r){return new(r||e)(f(F),f(Ge))},e.\u0275dir=ne({type:e,selectors:[["","leaflet",""]],hostBindings:function(r,o){r&1&&Y("resize",function(){return o.onResize()},!1,Cg)},inputs:{fitBoundsOptions:["leafletFitBoundsOptions","fitBoundsOptions"],panOptions:["leafletPanOptions","panOptions"],zoomOptions:["leafletZoomOptions","zoomOptions"],zoomPanOptions:["leafletZoomPanOptions","zoomPanOptions"],options:["leafletOptions","options"],zoom:["leafletZoom","zoom"],center:["leafletCenter","center"],fitBounds:["leafletFitBounds","fitBounds"],maxBounds:["leafletMaxBounds","maxBounds"],minZoom:["leafletMinZoom","minZoom"],maxZoom:["leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[le]});let i=e;return i})();var wy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({});let i=e;return i})();var jj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e}),e.\u0275inj=G({imports:[wy,ue,Rj,Fj,Pj,Oj]});let i=e;return i})();var ir=(()=>{let e=class e{constructor(n){this.http=n,this.apiUrl="https://verkehr.autobahn.de/o/autobahn/"}getAutobahnen(){return this.http.get(this.apiUrl)}getRoadWorks(n){let r=`${this.apiUrl}/${n}/services/roadworks`;return this.http.get(r)}getParkingLorry(n){let r=`${this.apiUrl}/${n}/services/parking_lorry`;return this.http.get(r)}getTrafficWarnings(n){let r=`${this.apiUrl}/${n}/services/warning`;return this.http.get(r)}getClosures(n){let r=`${this.apiUrl}/${n}/services/closure`;return this.http.get(r)}getElectricChargingStations(n){let r=`${this.apiUrl}/${n}/services/electric_charging_station`;return this.http.get(r)}};e.\u0275fac=function(r){return new(r||e)(M(Yw))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Vj=(()=>{let e=class e{constructor(n){this.dataService=n,this.roadworks={},this.parkings={},this.warnings={},this.closures={},this.chargingStations={},this.autobahnen=[],this.roadWorkDetails=[],this.webcams=[],this.source=[],this.columns=[],this.title="Angular_Test"}ngOnInit(){pn(this.dataService.getAutobahnen()).then(n=>{this.autobahnen=n.roads,this.autobahnen.forEach(r=>{Au({roadworks:this.dataService.getRoadWorks(r),parkings:this.dataService.getParkingLorry(r),warnings:this.dataService.getTrafficWarnings(r),closures:this.dataService.getClosures(r),chargingStations:this.dataService.getElectricChargingStations(r)}).subscribe(o=>{this.roadworks[r]=o.roadworks,this.parkings[r]=o.parkings,this.warnings[r]=o.warnings,this.closures[r]=o.closures,this.chargingStations[r]=o.chargingStations,this.source=this.generateSourceData(),this.columns=this.generateColumns()})})})}generateSourceData(){return this.autobahnen.map((r,o)=>{let a=this.chargingStations[r];return{first_column:r,second_column:{road:r,value:this.roadworks[r]?.roadworks.map(l=>X({road:r},l))},third_column:{road:r,value:this.parkings[r]?.parking_lorry},fourth_column:{road:r,value:this.warnings[r]?.warning},fifth_column:{road:r,value:this.closures[r]?.closure},sixth_column:{road:r,value:this.chargingStations[r]?.electric_charging_station}}})}generateColumns(){let n=(r,o,a,l="Loading...")=>r==null?l:r.length?o(r.length):a;return[{header:"Road",field:"first_column"},{header:"Works",field:"second_column",view:r=>n(r?.value,o=>`<a href="/works/${r?.road}">See all ${o} roadworks</a>`,"No roadworks found for this autobahn")},{header:"Parking Lorries",field:"third_column",view:r=>n(r?.value,o=>`<a href="/parkings/${r?.road}">See all ${o} parkings</a>`,"No parkings found for this autobahn")},{header:"Warnings",field:"fourth_column",view:r=>n(r?.value,o=>`<a href="/warnings/${r?.road}">See all ${o} warnings</a>`,"No warnings found for this autobahn")},{header:"Closures",field:"fifth_column",view:r=>n(r?.value,o=>`<a href="/closure/${r?.road}">See all ${o} closures</a>`,"No closures found for this autobahn")},{header:"Charging Stations",field:"sixth_column",view:r=>n(r?.value,o=>`<a href="/charging_station/${r?.road}">See all ${o} electric charging stations</a>`,"No electric charging stations found for this autobahn")}]}};e.\u0275fac=function(r){return new(r||e)(f(ir))},e.\u0275cmp=z({type:e,selectors:[["home-route"]],decls:10,vars:2,consts:[["href","",1,"active",2,"color","black","text-decoration","none","padding-left","12px","padding-right","12px"],["href","./map",2,"color","grey","text-decoration","none"],[3,"source","columns"]],template:function(r,o){r&1&&(C(0,"div")(1,"h1"),j(2,"List of Autobahnen"),x()(),C(3,"nav")(4,"h1")(5,"a",0),j(6,"List "),x(),C(7,"a",1),j(8,"Map"),x()()(),R(9,"gui-grid",2)),r&2&&(y(9),_("source",o.source)("columns",o.columns))},dependencies:[dn],encapsulation:2});let i=e;return i})();var Bj=(()=>{let e=class e{constructor(n,r){this.dataService=n,this.route=r,this.roadworks=[],this.source=[],this.columns=[]}ngOnInit(){this.route.params.subscribe(n=>{this.road=n.road,this.road!==void 0?pn(this.dataService.getRoadWorks(this.road)).then(r=>{this.roadworks=r.roadworks,this.source=this.generateSourceData(),this.columns=this.generateColumns()}):console.error('The value of "road" is undefined.')})}generateSourceData(){return this.roadworks.map((r,o)=>X({road:this.road},r))}generateColumns(){return[{header:"Road",field:"road"},{header:"Identifier",field:"identifier"},{header:"Title",field:"title"},{header:"Subtitle",field:"subtitle"},{header:"Description",field:"description"},{header:"Extent",field:"extent"},{header:"Future",field:"future",view:"checkbox"},{header:"Is Blocked?",field:"isBlocked",view:"checkbox"},{header:"Point",field:"point"},{header:"Start timestamp",field:"startTimestamp",view:n=>{let r=new Date(Date.parse(n));return`${r.toLocaleDateString()} (${r.toLocaleTimeString()})`}}]}};e.\u0275fac=function(r){return new(r||e)(f(ir),f(Ti))},e.\u0275cmp=z({type:e,selectors:[["works-route"]],decls:10,vars:3,consts:[["href","",2,"color","grey","text-decoration","none","padding-left","12px","padding-right","12px"],["active","","href","./map",2,"color","grey","text-decoration","none"],[3,"source","columns"]],template:function(r,o){r&1&&(C(0,"div")(1,"h1"),j(2),x()(),C(3,"nav")(4,"h1")(5,"a",0),j(6,"List "),x(),C(7,"a",1),j(8,"Map"),x()()(),R(9,"gui-grid",2)),r&2&&(y(2),ge("List of works for ",o.road,""),y(7),_("source",o.source)("columns",o.columns))},dependencies:[dn],encapsulation:2});let i=e;return i})();var Hj=(()=>{let e=class e{constructor(n,r){this.dataService=n,this.route=r,this.parking_lorry=[],this.source=[],this.columns=[]}ngOnInit(){this.route.params.subscribe(n=>{this.road=n.road,this.road!==void 0?pn(this.dataService.getParkingLorry(this.road)).then(r=>{this.parking_lorry=r.parking_lorry,this.source=this.generateSourceData(),this.columns=this.generateColumns()}):console.error('The value of "road" is undefined.')})}generateSourceData(){return this.parking_lorry.map((r,o)=>X({road:this.road},r))}generateColumns(){return[{header:"Road",field:"road"},{header:"Identifier",field:"identifier"},{header:"Title",field:"title"},{header:"Subtitle",field:"subtitle"},{header:"Description",field:"description"},{header:"Extent",field:"extent"},{header:"Future",field:"future",view:"checkbox"},{header:"Is Blocked?",field:"isBlocked",view:"checkbox"},{header:"Point",field:"point"}]}};e.\u0275fac=function(r){return new(r||e)(f(ir),f(Ti))},e.\u0275cmp=z({type:e,selectors:[["parkings-route"]],decls:10,vars:3,consts:[["href","",2,"color","grey","text-decoration","none","padding-left","12px","padding-right","12px"],["active","","href","./map",2,"color","grey","text-decoration","none"],[3,"source","columns"]],template:function(r,o){r&1&&(C(0,"div")(1,"h1"),j(2),x()(),C(3,"nav")(4,"h1")(5,"a",0),j(6,"List "),x(),C(7,"a",1),j(8,"Map"),x()()(),R(9,"gui-grid",2)),r&2&&(y(2),ge("List of parkings for ",o.road,""),y(7),_("source",o.source)("columns",o.columns))},dependencies:[dn],encapsulation:2});let i=e;return i})();var zj=(()=>{let e=class e{constructor(n,r){this.dataService=n,this.route=r,this.warning=[],this.source=[],this.columns=[]}ngOnInit(){this.route.params.subscribe(n=>{this.road=n.road,this.road!==void 0?pn(this.dataService.getTrafficWarnings(this.road)).then(r=>{this.warning=r.warning,this.source=this.generateSourceData(),this.columns=this.generateColumns()}):console.error('The value of "road" is undefined.')})}generateSourceData(){return this.warning.map((r,o)=>X({road:this.road},r))}generateColumns(){return[{header:"Road",field:"road"},{header:"Identifier",field:"identifier"},{header:"Title",field:"title"},{header:"Subtitle",field:"subtitle"},{header:"Description",field:"description"},{header:"Extent",field:"extent"},{header:"Future",field:"future",view:"checkbox"},{header:"Is Blocked?",field:"isBlocked",view:"checkbox"},{header:"Point",field:"point"},{header:"Start timestamp",field:"startTimestamp",view:n=>{let r=new Date(Date.parse(n));return`${r.toLocaleDateString()} (${r.toLocaleTimeString()})`}}]}};e.\u0275fac=function(r){return new(r||e)(f(ir),f(Ti))},e.\u0275cmp=z({type:e,selectors:[["warnings-route"]],decls:10,vars:3,consts:[["href","",2,"color","grey","text-decoration","none","padding-left","12px","padding-right","12px"],["active","","href","./map",2,"color","grey","text-decoration","none"],[3,"source","columns"]],template:function(r,o){r&1&&(C(0,"div")(1,"h1"),j(2),x()(),C(3,"nav")(4,"h1")(5,"a",0),j(6,"List "),x(),C(7,"a",1),j(8,"Map"),x()()(),R(9,"gui-grid",2)),r&2&&(y(2),ge("List of warnigns for ",o.road,""),y(7),_("source",o.source)("columns",o.columns))},dependencies:[dn],encapsulation:2});let i=e;return i})();var $j=(()=>{let e=class e{constructor(n,r){this.dataService=n,this.route=r,this.closure=[],this.webcams=[],this.source=[],this.columns=[]}ngOnInit(){this.route.params.subscribe(n=>{this.road=n.road,this.road!==void 0?pn(this.dataService.getClosures(this.road)).then(r=>{this.closure=r.closure,this.source=this.generateSourceData(),this.columns=this.generateColumns()}):console.error('The value of "road" is undefined.')})}generateSourceData(){return this.closure.map((r,o)=>X({road:this.road},r))}generateColumns(){return[{header:"Road",field:"road"},{header:"Identifier",field:"identifier"},{header:"Description",field:"description"},{header:"Extent",field:"extent"},{header:"Future",field:"future",view:"checkbox"},{header:"Is Blocked?",field:"isBlocked",view:"checkbox"},{header:"Point",field:"point"},{header:"Start timestamp",field:"startTimestamp",view:n=>{let r=new Date(Date.parse(n));return`${r.toLocaleDateString()} (${r.toLocaleTimeString()})`}}]}};e.\u0275fac=function(r){return new(r||e)(f(ir),f(Ti))},e.\u0275cmp=z({type:e,selectors:[["closures-route"]],decls:4,vars:3,consts:[[3,"source","columns"]],template:function(r,o){r&1&&(C(0,"div")(1,"h1"),j(2),x()(),R(3,"gui-grid",0)),r&2&&(y(2),ge("List of closures for ",o.road,""),y(1),_("source",o.source)("columns",o.columns))},dependencies:[dn],encapsulation:2});let i=e;return i})();var Uj=(()=>{let e=class e{constructor(n,r){this.dataService=n,this.route=r,this.electric_charging_station=[],this.source=[],this.columns=[]}ngOnInit(){this.route.params.subscribe(n=>{this.road=n.road,this.road!==void 0?pn(this.dataService.getElectricChargingStations(this.road)).then(r=>{this.electric_charging_station=r.electric_charging_station,this.source=this.generateSourceData(),this.columns=this.generateColumns()}):console.error('The value of "road" is undefined.')})}generateSourceData(){return this.electric_charging_station.map((r,o)=>X({road:this.road},r))}generateColumns(){return[{header:"Road",field:"road"},{header:"Identifier",field:"identifier"},{header:"Title",field:"title"},{header:"Subtitle",field:"subtitle"},{header:"Description",field:"description"},{header:"Extent",field:"extent"},{header:"Future",field:"future",view:"checkbox"},{header:"Is Blocked?",field:"isBlocked",view:"checkbox"},{header:"Point",field:"point"},{header:"Start timestamp",field:"startTimestamp",view:n=>{let r=new Date(Date.parse(n));return`${r.toLocaleDateString()} (${r.toLocaleTimeString()})`}}]}};e.\u0275fac=function(r){return new(r||e)(f(ir),f(Ti))},e.\u0275cmp=z({type:e,selectors:[["charging_stations-route"]],decls:10,vars:3,consts:[["href","",2,"color","grey","text-decoration","none","padding-left","12px","padding-right","12px"],["active","","href","./map",2,"color","grey","text-decoration","none"],[3,"source","columns"]],template:function(r,o){r&1&&(C(0,"div")(1,"h1"),j(2),x()(),C(3,"nav")(4,"h1")(5,"a",0),j(6,"List "),x(),C(7,"a",1),j(8,"Map"),x()()(),R(9,"gui-grid",2)),r&2&&(y(2),ge("List of electric charging stations for ",o.road,""),y(7),_("source",o.source)("columns",o.columns))},dependencies:[dn],encapsulation:2});let i=e;return i})();var O=Ck(lM());var Wj=(()=>{let e=class e{constructor(){this.options={layers:[(0,O.tileLayer)("https://tile.openstreetmap.de/{z}/{x}/{y}.png",{attribution:"&amp;copy; OpenStreetMap contributors"}),(0,O.polygon)([[48.77080120778656,13.839771601356508],[50.281783601332116,12.139912778455997],[50.93838222928741,14.357119938761008],[51.07789099509913,14.357119938761004],[50.82180424828927,14.800561370822013],[51.28636793871352,14.911421728837263],[53.933201396339875,14.172352675402259],[54.68771828740783,13.359376716623752],[54.836965131707565,9.442310733418232],[54.92200211357865,8.555427869296226],[53.47382998514412,7.0403363097544664],[52.67462731603844,7.0403363097544664],[52.60735645149756,6.707755235708714],[52.44998852052057,6.707755235708714],[52.44998852052057,7.0403363097544664],[52.03524084390444,6.685500350009032],[51.9491359879894,6.809796453540721],[51.83407183136951,5.93972372881889],[51.399953718489975,6.219389961765192],[51.030126161579176,5.893112689994506],[50.33115485465604,6.3902971041212675],[50.142338210284656,6.110630871174965],[49.779456299158085,6.530130220594417],[49.47199866918763,6.359781049248143],[49.16487455245139,6.8309375708129565],[48.96512598122485,8.225930409171529],[47.57373478250348,7.5799947323986],[47.678022703557225,8.891848851290947],[47.29094727085213,10.222173147473955],[47.571989428688894,10.467622991884845],[47.41308823949979,11.09474387922366],[47.51284589484175,12.978314192205113],[48.11797894189964,12.759423837373314]]),(0,O.marker)([52.520008,13.404954],{title:"Berlin"}),(0,O.marker)([48.775845,9.182932],{title:"Stuttgart"}),(0,O.marker)([48.137154,11.576124],{title:"Munich"}),(0,O.marker)([53.551085,9.993682],{title:"Hamburg"}),(0,O.marker)([50.937531,6.960279],{title:"Cologne"}),(0,O.marker)([50.110924,8.682127],{title:"Frankfurt"}),(0,O.marker)([51.227741,6.773456],{title:"D\xFCsseldorf"}),(0,O.marker)([51.340632,12.374733],{title:"Leipzig"}),(0,O.marker)([51.514227,7.465278],{title:"Dortmund"}),(0,O.marker)([51.455643,7.011555],{title:"Essen"}),(0,O.marker)([53.075878,8.807081],{title:"Bremen"}),(0,O.marker)([51.050408,13.737262],{title:"Dresden"}),(0,O.marker)([52.375892,9.73201],{title:"Hannover"}),(0,O.marker)([49.452103,11.076665],{title:"Nuremberg"}),(0,O.marker)([51.434408,6.762329],{title:"Duisburg"}),(0,O.marker)([51.481845,7.216236],{title:"Bochum"}),(0,O.marker)([51.264018,7.178037],{title:"Wuppertal"}),(0,O.marker)([52.010877,8.553085],{title:"Bielefeld"}),(0,O.marker)([50.734383,7.095848],{title:"Bonn"}),(0,O.marker)([51.961421,7.625193],{title:"M\xFCnster"}),(0,O.marker)([49.487459,8.466039],{title:"Mannheim"}),(0,O.marker)([49.00689,8.403653],{title:"Karlsruhe"}),(0,O.marker)([48.36507,10.894276],{title:"Augsburg"}),(0,O.marker)([50.082038,8.241318],{title:"Wiesbaden"}),(0,O.marker)([51.180457,6.442323],{title:"M\xF6nchengladbach"}),(0,O.marker)([51.517744,7.085717],{title:"Gelsenkirchen"}),(0,O.marker)([50.775345,6.083886],{title:"Aachen"}),(0,O.marker)([52.268874,10.52677],{title:"Braunschweig"}),(0,O.marker)([50.827845,12.921369],{title:"Chemnitz"}),(0,O.marker)([54.322708,10.135555],{title:"Kiel"}),(0,O.marker)([51.482504,11.970545],{title:"Halle"}),(0,O.marker)([52.120533,11.627624],{title:"Magdeburg"}),(0,O.marker)([47.99609,7.8494],{title:"Freiburg im Breisgau"}),(0,O.marker)([51.339695,6.585825],{title:"Krefeld"}),(0,O.marker)([49.992862,8.247253],{title:"Mainz"}),(0,O.marker)([53.867287,10.687549],{title:"L\xFCbeck"}),(0,O.marker)([51.49698,6.84998],{title:"Oberhausen"}),(0,O.marker)([54.090332,12.134872],{title:"Rostock"}),(0,O.marker)([51.312711,9.479746],{title:"Kassel"}),(0,O.marker)([51.360815,7.472732],{title:"Hagen"}),(0,O.marker)([52.390568,13.064472],{title:"Potsdam"}),(0,O.marker)([49.240157,6.996932],{title:"Saarbr\xFCcken"}),(0,O.marker)([51.680374,7.820016],{title:"Hamm"}),(0,O.marker)([49.477409,8.445179],{title:"Ludwigshafen"}),(0,O.marker)([51.430511,6.879884],{title:"M\xFClheim"}),(0,O.marker)([53.143451,8.214552],{title:"Oldenburg"}),(0,O.marker)([52.025024,8.513297],{title:"Osnabr\xFCck"}),(0,O.marker)([51.034405,7.004882],{title:"Leverkusen"}),(0,O.marker)([49.872775,8.651177],{title:"Darmstadt"}),(0,O.marker)([51.177652,7.051683],{title:"Solingen"}),(0,O.marker)([49.407679,8.690866],{title:"Heidelberg"}),(0,O.marker)([51.536429,7.216236],{title:"Herne"}),(0,O.marker)([51.19845,6.68518],{title:"Neuss"}),(0,O.marker)([49.01343,12.101623],{title:"Regensburg"}),(0,O.marker)([51.71905,8.754271],{title:"Paderborn"}),(0,O.marker)([48.766613,11.425312],{title:"Ingolstadt"}),(0,O.marker)([49.477427,10.999393],{title:"F\xFCrth"}),(0,O.marker)([49.793743,9.951166],{title:"W\xFCrzburg"}),(0,O.marker)([48.401082,9.987608],{title:"Ulm"}),(0,O.marker)([49.142692,9.210031],{title:"Heilbronn"}),(0,O.marker)([48.893217,8.704274],{title:"Pforzheim"}),(0,O.marker)([52.42265,10.786546],{title:"Wolfsburg"}),(0,O.marker)([51.534076,9.937423],{title:"G\xF6ttingen"}),(0,O.marker)([51.521524,6.946726],{title:"Bottrop"}),(0,O.marker)([48.491958,9.204121],{title:"Reutlingen"}),(0,O.marker)([50.356943,7.588996],{title:"Koblenz"}),(0,O.marker)([53.550705,8.583219],{title:"Bremerhaven"}),(0,O.marker)([49.590013,11.00455],{title:"Erlangen"}),(0,O.marker)([51.161569,7.013741],{title:"Recklinghausen"}),(0,O.marker)([50.985256,7.132123],{title:"Bergisch Gladbach"}),(0,O.marker)([51.179962,7.190101],{title:"Remscheid"}),(0,O.marker)([50.928782,11.589233],{title:"Jena"}),(0,O.marker)([49.749803,6.637305],{title:"Trier"}),(0,O.marker)([52.147601,10.429278],{title:"Salzgitter"}),(0,O.marker)([51.453086,6.632989],{title:"Moers"}),(0,O.marker)([50.874346,8.023544],{title:"Siegen"}),(0,O.marker)([51.154708,9.951171],{title:"Hildesheim"}),(0,O.marker)([51.907089,8.401829],{title:"G\xFCtersloh"}),(0,O.marker)([49.443231,7.768835],{title:"Kaiserslautern"}),(0,O.marker)([53.629336,11.414457],{title:"Schwerin"}),(0,O.marker)([48.740348,9.320114],{title:"Esslingen"}),(0,O.marker)([48.894977,9.182932],{title:"Ludwigsburg"}),(0,O.marker)([51.572198,6.971867],{title:"Gladbeck"}),(0,O.marker)([47.856317,12.128122],{title:"Rosenheim"}),(0,O.marker)([51.577067,7.087219],{title:"Herten"}),(0,O.marker)([51.16522,6.936418],{title:"Hilden"}),(0,O.marker)([53.751265,9.859848],{title:"Elmshorn"}),(0,O.marker)([51.470722,8.9914],{title:"Halle-Neustadt"}),(0,O.marker)([53.654682,9.794196],{title:"Pinneberg"}),(0,O.marker)([50.798458,7.207758],{title:"Siegburg"}),(0,O.marker)([48.136007,11.464429],{title:"Germering"}),(0,O.marker)([48.733772,9.204121],{title:"Ostfildern"}),(0,O.marker)([48.544113,9.200083],{title:"Kornwestheim"}),(0,O.marker)([50.08555,8.527541],{title:"Unterschlei\xDFheim"}),(0,O.marker)([50.085022,8.53229],{title:"Hattersheim"}),(0,O.marker)([48.085979,11.630422],{title:"Unterhaching"}),(0,O.marker)([47.679229,9.223567],{title:"Weingarten"}),(0,O.marker)([50.099045,8.801694],{title:"Obertshausen"}),(0,O.marker)([50.118346,8.737836],{title:"Bad Soden am Taunus"}),(0,O.marker)([48.081001,11.617101],{title:"Haar"}),(0,O.marker)([50.135992,8.548376],{title:"Eschborn"}),(0,O.marker)([48.070057,11.659941],{title:"Ottobrunn"}),(0,O.marker)([48.14427,11.462641],{title:"Puchheim"}),(0,O.marker)([48.152126,11.432841],{title:"Gr\xF6benzell"}),(0,O.marker)([53.583336,9.840764],{title:"Schenefeld"}),(0,O.marker)([47.913825,11.424339],{title:"Wolfratshausen"}),(0,O.marker)([53.53521,10.21198],{title:"Glinde"}),(0,O.marker)([50.816563,6.220579],{title:"Eilendorf"}),(0,O.marker)([49.388005,8.63358],{title:"Eppelheim"}),(0,O.marker)([48.098651,11.684125],{title:"Neubiberg"}),(0,O.marker)([48.906281,9.136133],{title:"Asperg"}),(0,O.marker)([53.504788,10.255062],{title:"Wentorf bei Hamburg"}),(0,O.marker)([54.333675,10.122586],{title:"Kronshagen"}),(0,O.marker)([48.151714,11.379465],{title:"Eichenau"}),(0,O.marker)([50.145474,8.567934],{title:"Steinbach am Taunus"}),(0,O.marker)([50.366112,7.577528],{title:"Wei\xDFenthurm"}),(0,O.marker)([49.305454,8.506833],{title:"Neulu\xDFheim"}),(0,O.marker)([52.392361,13.602267],{title:"Eichwalde"}),(0,O.marker)([48.721462,9.223567],{title:"Altbach"}),(0,O.marker)([48.011286,11.015183],{title:"Merzhausen"}),(0,O.marker)([49.613,11.019874],{title:"Buckenhof"}),(0,O.marker)([50.101799,8.771794],{title:"Offenbach"}),(0,O.marker)([52.279911,8.047179],{title:"Osnabr\xFCck"})],zoom:7,center:(0,O.latLng)([51.320008,10.404954])}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=z({type:e,selectors:[["map-route"]],decls:10,vars:1,consts:[["href","",2,"color","grey","text-decoration","none","padding-left","12px","padding-right","12px"],["active","","href","./map",2,"color","black","text-decoration","none"],["leaflet","",2,"height","1100px",3,"leafletOptions"]],template:function(r,o){r&1&&(C(0,"div")(1,"h1"),j(2,"Map of Autobahnen"),x()(),C(3,"nav")(4,"h1")(5,"a",0),j(6,"List "),x(),C(7,"a",1),j(8,"Map"),x()()(),R(9,"div",2)),r&2&&(y(9),_("leafletOptions",o.options))},dependencies:[Lj],encapsulation:2});let i=e;return i})();var Gj=[{path:"",component:Vj},{path:"works/:road",component:Bj},{path:"parkings/:road",component:Hj},{path:"warnings/:road",component:zj},{path:"closure/:road",component:$j},{path:"charging_station/:road",component:Uj},{path:"map",component:Wj}];var qj=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=q({type:e,bootstrap:[OL]}),e.\u0275inj=G({providers:[t2(Gj)],imports:[cm,sO,ue,pj,s2,jj,Q0,wy]});let i=e;return i})();pO().bootstrapModule(qj).catch(i=>console.error(i));
